!function(){"use strict";var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(i,o){for(var a,l,s=r(i),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))t.call(a,c)&&(s[c]=a[c]);if(e){l=e(a);for(var d=0;d<l.length;d++)n.call(a,l[d])&&(s[l[d]]=a[l[d]])}}return s},o={},a="function"==typeof Symbol&&Symbol.for,l=a?Symbol.for("react.element"):60103,s=a?Symbol.for("react.portal"):60106,u=a?Symbol.for("react.fragment"):60107,c=a?Symbol.for("react.strict_mode"):60108,d=a?Symbol.for("react.profiler"):60114,f=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,h=a?Symbol.for("react.forward_ref"):60112,m=a?Symbol.for("react.suspense"):60113,g=a?Symbol.for("react.memo"):60115,v=a?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x={};function S(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||w}function C(){}function E(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||w}S.prototype.isReactComponent={},S.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(b(85));this.updater.enqueueSetState(this,e,t,"setState")},S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},C.prototype=S.prototype;var O=E.prototype=new C;O.constructor=E,i(O,S.prototype),O.isPureReactComponent=!0;var k={current:null},T=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,r)&&!_.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:l,type:e,key:o,ref:a,props:i,_owner:k.current}}function M(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var I=/\/+/g,L=[];function A(e,t,n,r){if(L.length){var i=L.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function R(e,t,n){return null==e?0:function e(t,n,r,i){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var a=!1;if(null===t)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case l:case s:a=!0}}if(a)return r(i,t,""===n?"."+D(t,0):n),1;if(a=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+D(o=t[u],u);a+=e(o,c,r,i)}else if("function"==typeof(c=null===t||"object"!=typeof t?null:"function"==typeof(c=y&&t[y]||t["@@iterator"])?c:null))for(t=c.call(t),u=0;!(o=t.next()).done;)a+=e(o=o.value,c=n+D(o,u++),r,i);else if("object"===o)throw r=""+t,Error(b(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return a}(e,"",t,n)}function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function H(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,(function(e){return e})):null!=e&&(M(e)&&(e=function(e,t){return{$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),R(e,j,t=A(t,o,r,i)),N(t)}var z={current:null};function V(){var e=z.current;if(null===e)throw Error(b(321));return e}var B={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:i};o.Children={map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;R(e,H,t=A(null,null,t,n)),N(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!M(e))throw Error(b(143));return e}},o.Component=S,o.Fragment=u,o.Profiler=d,o.PureComponent=E,o.StrictMode=c,o.Suspense=m,o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,o.cloneElement=function(e,t,n){if(null==e)throw Error(b(267,e));var r=i({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)T.call(t,c)&&!_.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:l,type:e.type,key:o,ref:a,props:r,_owner:s}},o.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:f,_context:e},e.Consumer=e},o.createElement=P,o.createFactory=function(e){var t=P.bind(null,e);return t.type=e,t},o.createRef=function(){return{current:null}},o.forwardRef=function(e){return{$$typeof:h,render:e}},o.isValidElement=M,o.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},o.memo=function(e,t){return{$$typeof:g,type:e,compare:void 0===t?null:t}},o.useCallback=function(e,t){return V().useCallback(e,t)},o.useContext=function(e,t){return V().useContext(e,t)},o.useDebugValue=function(){},o.useEffect=function(e,t){return V().useEffect(e,t)},o.useImperativeHandle=function(e,t,n){return V().useImperativeHandle(e,t,n)},o.useLayoutEffect=function(e,t){return V().useLayoutEffect(e,t)},o.useMemo=function(e,t){return V().useMemo(e,t)},o.useReducer=function(e,t,n){return V().useReducer(e,t,n)},o.useRef=function(e){return V().useRef(e)},o.useState=function(e){return V().useState(e)},o.version="16.13.1";var W,U,$,G,K,q=o,Z={};if("undefined"==typeof window||"function"!=typeof MessageChannel){var Q=null,Y=null,J=function(){if(null!==Q)try{var e=Z.unstable_now();Q(!0,e),Q=null}catch(e){throw setTimeout(J,0),e}},X=Date.now();Z.unstable_now=function(){return Date.now()-X},W=function(e){null!==Q?setTimeout(W,0,e):(Q=e,setTimeout(J,0))},U=function(e,t){Y=setTimeout(e,t)},$=function(){clearTimeout(Y)},G=function(){return!1},K=Z.unstable_forceFrameRate=function(){}}else{var ee=window.performance,te=window.Date,ne=window.setTimeout,re=window.clearTimeout;if("undefined"!=typeof console){var ie=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof ie&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof ee&&"function"==typeof ee.now)Z.unstable_now=function(){return ee.now()};else{var oe=te.now();Z.unstable_now=function(){return te.now()-oe}}var ae=!1,le=null,se=-1,ue=5,ce=0;G=function(){return Z.unstable_now()>=ce},K=function(){},Z.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):ue=0<e?Math.floor(1e3/e):5};var de=new MessageChannel,fe=de.port2;de.port1.onmessage=function(){if(null!==le){var e=Z.unstable_now();ce=e+ue;try{le(!0,e)?fe.postMessage(null):(ae=!1,le=null)}catch(e){throw fe.postMessage(null),e}}else ae=!1},W=function(e){le=e,ae||(ae=!0,fe.postMessage(null))},U=function(e,t){se=ne((function(){e(Z.unstable_now())}),t)},$=function(){re(se),se=-1}}function pe(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<ge(i,t)))break e;e[r]=t,e[n]=i,n=r}}function he(e){return void 0===(e=e[0])?null:e}function me(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],l=o+1,s=e[l];if(void 0!==a&&0>ge(a,n))void 0!==s&&0>ge(s,a)?(e[r]=s,e[l]=n,r=l):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==s&&0>ge(s,n)))break e;e[r]=s,e[l]=n,r=l}}}return t}return null}function ge(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var ve=[],ye=[],be=1,we=null,xe=3,Se=!1,Ce=!1,Ee=!1;function Oe(e){for(var t=he(ye);null!==t;){if(null===t.callback)me(ye);else{if(!(t.startTime<=e))break;me(ye),t.sortIndex=t.expirationTime,pe(ve,t)}t=he(ye)}}function ke(e){if(Ee=!1,Oe(e),!Ce)if(null!==he(ve))Ce=!0,W(Te);else{var t=he(ye);null!==t&&U(ke,t.startTime-e)}}function Te(e,t){Ce=!1,Ee&&(Ee=!1,$()),Se=!0;var n=xe;try{for(Oe(t),we=he(ve);null!==we&&(!(we.expirationTime>t)||e&&!G());){var r=we.callback;if(null!==r){we.callback=null,xe=we.priorityLevel;var i=r(we.expirationTime<=t);t=Z.unstable_now(),"function"==typeof i?we.callback=i:we===he(ve)&&me(ve),Oe(t)}else me(ve);we=he(ve)}if(null!==we)var o=!0;else{var a=he(ye);null!==a&&U(ke,a.startTime-t),o=!1}return o}finally{we=null,xe=n,Se=!1}}function _e(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var Pe=K;Z.unstable_IdlePriority=5,Z.unstable_ImmediatePriority=1,Z.unstable_LowPriority=4,Z.unstable_NormalPriority=3,Z.unstable_Profiling=null,Z.unstable_UserBlockingPriority=2,Z.unstable_cancelCallback=function(e){e.callback=null},Z.unstable_continueExecution=function(){Ce||Se||(Ce=!0,W(Te))},Z.unstable_getCurrentPriorityLevel=function(){return xe},Z.unstable_getFirstCallbackNode=function(){return he(ve)},Z.unstable_next=function(e){switch(xe){case 1:case 2:case 3:var t=3;break;default:t=xe}var n=xe;xe=t;try{return e()}finally{xe=n}},Z.unstable_pauseExecution=function(){},Z.unstable_requestPaint=Pe,Z.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=xe;xe=e;try{return t()}finally{xe=n}},Z.unstable_scheduleCallback=function(e,t,n){var r=Z.unstable_now();if("object"==typeof n&&null!==n){var i=n.delay;i="number"==typeof i&&0<i?r+i:r,n="number"==typeof n.timeout?n.timeout:_e(e)}else n=_e(e),i=r;return e={id:be++,callback:t,priorityLevel:e,startTime:i,expirationTime:n=i+n,sortIndex:-1},i>r?(e.sortIndex=i,pe(ye,e),null===he(ve)&&e===he(ye)&&(Ee?$():Ee=!0,U(ke,i-r))):(e.sortIndex=n,pe(ve,e),Ce||Se||(Ce=!0,W(Te))),e},Z.unstable_shouldYield=function(){var e=Z.unstable_now();Oe(e);var t=he(ve);return t!==we&&null!==we&&null!==t&&null!==t.callback&&t.startTime<=e&&t.expirationTime<we.expirationTime||G()},Z.unstable_wrapCallback=function(e){var t=xe;return function(){var n=xe;xe=t;try{return e.apply(this,arguments)}finally{xe=n}}};var Me=Z,Ie={};function Le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!q)throw Error(Le(227));function Ae(e,t,n,r,i,o,a,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Ne=!1,Re=null,De=!1,He=null,je={onError:function(e){Ne=!0,Re=e}};function Fe(e,t,n,r,i,o,a,l,s){Ne=!1,Re=null,Ae.apply(je,arguments)}var ze=null,Ve=null,Be=null;function We(e,t,n){var r=e.type||"unknown-event";e.currentTarget=Be(n),function(e,t,n,r,i,o,a,l,s){if(Fe.apply(this,arguments),Ne){if(!Ne)throw Error(Le(198));var u=Re;Ne=!1,Re=null,De||(De=!0,He=u)}}(r,t,void 0,e),e.currentTarget=null}var Ue=null,$e={};function Ge(){if(Ue)for(var e in $e){var t=$e[e],n=Ue.indexOf(e);if(!(-1<n))throw Error(Le(96,e));if(!qe[n]){if(!t.extractEvents)throw Error(Le(97,e));for(var r in qe[n]=t,n=t.eventTypes){var i=void 0,o=n[r],a=t,l=r;if(Ze.hasOwnProperty(l))throw Error(Le(99,l));Ze[l]=o;var s=o.phasedRegistrationNames;if(s){for(i in s)s.hasOwnProperty(i)&&Ke(s[i],a,l);i=!0}else o.registrationName?(Ke(o.registrationName,a,l),i=!0):i=!1;if(!i)throw Error(Le(98,r,e))}}}}function Ke(e,t,n){if(Qe[e])throw Error(Le(100,e));Qe[e]=t,Ye[e]=t.eventTypes[n].dependencies}var qe=[],Ze={},Qe={},Ye={};function Je(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!$e.hasOwnProperty(t)||$e[t]!==r){if($e[t])throw Error(Le(102,t));$e[t]=r,n=!0}}n&&Ge()}var Xe=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),et=null,tt=null,nt=null;function rt(e){if(e=Ve(e)){if("function"!=typeof et)throw Error(Le(280));var t=e.stateNode;t&&(t=ze(t),et(e.stateNode,e.type,t))}}function it(e){tt?nt?nt.push(e):nt=[e]:tt=e}function ot(){if(tt){var e=tt,t=nt;if(nt=tt=null,rt(e),t)for(e=0;e<t.length;e++)rt(t[e])}}function at(e,t){return e(t)}function lt(e,t,n,r,i){return e(t,n,r,i)}function st(){}var ut=at,ct=!1,dt=!1;function ft(){null===tt&&null===nt||(st(),ot())}function pt(e,t,n){if(dt)return e(t,n);dt=!0;try{return ut(e,t,n)}finally{dt=!1,ft()}}var ht=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mt=Object.prototype.hasOwnProperty,gt={},vt={};function yt(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){bt[e]=new yt(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];bt[t]=new yt(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){bt[e]=new yt(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){bt[e]=new yt(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){bt[e]=new yt(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){bt[e]=new yt(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){bt[e]=new yt(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){bt[e]=new yt(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){bt[e]=new yt(e,5,!1,e.toLowerCase(),null,!1)}));var wt=/[\-:]([a-z])/g;function xt(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(wt,xt);bt[t]=new yt(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(wt,xt);bt[t]=new yt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(wt,xt);bt[t]=new yt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){bt[e]=new yt(e,1,!1,e.toLowerCase(),null,!1)})),bt.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){bt[e]=new yt(e,1,!1,e.toLowerCase(),null,!0)}));var St=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Ct(e,t,n,r){var i=bt.hasOwnProperty(t)?bt[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!mt.call(vt,e)||!mt.call(gt,e)&&(ht.test(e)?vt[e]=!0:(gt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}St.hasOwnProperty("ReactCurrentDispatcher")||(St.ReactCurrentDispatcher={current:null}),St.hasOwnProperty("ReactCurrentBatchConfig")||(St.ReactCurrentBatchConfig={suspense:null});var Et=/^(.*)[\\\/]/,Ot="function"==typeof Symbol&&Symbol.for,kt=Ot?Symbol.for("react.element"):60103,Tt=Ot?Symbol.for("react.portal"):60106,_t=Ot?Symbol.for("react.fragment"):60107,Pt=Ot?Symbol.for("react.strict_mode"):60108,Mt=Ot?Symbol.for("react.profiler"):60114,It=Ot?Symbol.for("react.provider"):60109,Lt=Ot?Symbol.for("react.context"):60110,At=Ot?Symbol.for("react.concurrent_mode"):60111,Nt=Ot?Symbol.for("react.forward_ref"):60112,Rt=Ot?Symbol.for("react.suspense"):60113,Dt=Ot?Symbol.for("react.suspense_list"):60120,Ht=Ot?Symbol.for("react.memo"):60115,jt=Ot?Symbol.for("react.lazy"):60116,Ft=Ot?Symbol.for("react.block"):60121,zt="function"==typeof Symbol&&Symbol.iterator;function Vt(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=zt&&e[zt]||e["@@iterator"])?e:null}function Bt(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case _t:return"Fragment";case Tt:return"Portal";case Mt:return"Profiler";case Pt:return"StrictMode";case Rt:return"Suspense";case Dt:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Lt:return"Context.Consumer";case It:return"Context.Provider";case Nt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Ht:return Bt(e.type);case Ft:return Bt(e.render);case jt:if(e=1===e._status?e._result:null)return Bt(e)}return null}function Wt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=Bt(e.type);n=null,r&&(n=Bt(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Et,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function Ut(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $t(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Gt(e){e._valueTracker||(e._valueTracker=function(e){var t=$t(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Kt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$t(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function qt(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Zt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Ut(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Qt(e,t){null!=(t=t.checked)&&Ct(e,"checked",t,!1)}function Yt(e,t){Qt(e,t);var n=Ut(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Xt(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xt(e,t.type,Ut(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Jt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Xt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function en(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return q.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function tn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function nn(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(Le(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rn(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(Le(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(Le(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Ut(n)}}function on(e,t){var n=Ut(t.value),r=Ut(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function an(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var ln="http://www.w3.org/1999/xhtml",sn="http://www.w3.org/2000/svg";function un(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cn(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?un(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var dn,fn=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==sn||"innerHTML"in e)e.innerHTML=t;else{for((dn=dn||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function pn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function hn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mn={animationend:hn("Animation","AnimationEnd"),animationiteration:hn("Animation","AnimationIteration"),animationstart:hn("Animation","AnimationStart"),transitionend:hn("Transition","TransitionEnd")},gn={},vn={};function yn(e){if(gn[e])return gn[e];if(!mn[e])return e;var t,n=mn[e];for(t in n)if(n.hasOwnProperty(t)&&t in vn)return gn[e]=n[t];return e}Xe&&(vn=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);var bn=yn("animationend"),wn=yn("animationiteration"),xn=yn("animationstart"),Sn=yn("transitionend"),Cn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),En=new("function"==typeof WeakMap?WeakMap:Map);function On(e){var t=En.get(e);return void 0===t&&(t=new Map,En.set(e,t)),t}function kn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Tn(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function _n(e){if(kn(e)!==e)throw Error(Le(188))}function Pn(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=kn(e)))throw Error(Le(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return _n(i),e;if(o===r)return _n(i),t;o=o.sibling}throw Error(Le(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(Le(189))}}if(n.alternate!==r)throw Error(Le(190))}if(3!==n.tag)throw Error(Le(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Mn(e,t){if(null==t)throw Error(Le(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function In(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var Ln=null;function An(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)We(e,t[r],n[r]);else t&&We(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function Nn(e){if(null!==e&&(Ln=Mn(Ln,e)),e=Ln,Ln=null,e){if(In(e,An),Ln)throw Error(Le(95));if(De)throw e=He,De=!1,He=null,e}}function Rn(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Dn(e){if(!Xe)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var Hn=[];function jn(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Hn.length&&Hn.push(e)}function Fn(e,t,n,r){if(Hn.length){var i=Hn.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function zn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Xr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Rn(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var l=null,s=0;s<qe.length;s++){var u=qe[s];u&&(u=u.extractEvents(r,t,o,i,a))&&(l=Mn(l,u))}Nn(l)}}function Vn(e,t,n){if(!n.has(e)){switch(e){case"scroll":xr(t,"scroll",!0);break;case"focus":case"blur":xr(t,"focus",!0),xr(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":Dn(e)&&xr(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Cn.indexOf(e)&&wr(e,t)}n.set(e,null)}}var Bn,Wn,Un,$n=!1,Gn=[],Kn=null,qn=null,Zn=null,Qn=new Map,Yn=new Map,Jn=[],Xn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),er="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function tr(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function nr(e,t){switch(e){case"focus":case"blur":Kn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":Qn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(t.pointerId)}}function rr(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=tr(t,n,r,i,o),null!==t&&null!==(t=ei(t))&&Wn(t),e):(e.eventSystemFlags|=r,e)}function ir(e){var t=Xr(e.target);if(null!==t){var n=kn(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Tn(n)))return e.blockedOn=t,void Me.unstable_runWithPriority(e.priority,(function(){Un(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function or(e){if(null!==e.blockedOn)return!1;var t=Or(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=ei(t);return null!==n&&Wn(n),e.blockedOn=t,!1}return!0}function ar(e,t,n){or(e)&&n.delete(t)}function lr(){for($n=!1;0<Gn.length;){var e=Gn[0];if(null!==e.blockedOn){null!==(e=ei(e.blockedOn))&&Bn(e);break}var t=Or(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:Gn.shift()}null!==Kn&&or(Kn)&&(Kn=null),null!==qn&&or(qn)&&(qn=null),null!==Zn&&or(Zn)&&(Zn=null),Qn.forEach(ar),Yn.forEach(ar)}function sr(e,t){e.blockedOn===t&&(e.blockedOn=null,$n||($n=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,lr)))}function ur(e){function t(t){return sr(t,e)}if(0<Gn.length){sr(Gn[0],e);for(var n=1;n<Gn.length;n++){var r=Gn[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Kn&&sr(Kn,e),null!==qn&&sr(qn,e),null!==Zn&&sr(Zn,e),Qn.forEach(t),Yn.forEach(t),n=0;n<Jn.length;n++)(r=Jn[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Jn.length&&null===(n=Jn[0]).blockedOn;)ir(n),null===n.blockedOn&&Jn.shift()}var cr={},dr=new Map,fr=new Map,pr=["abort","abort",bn,"animationEnd",wn,"animationIteration",xn,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Sn,"transitionEnd","waiting","waiting"];function hr(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},fr.set(r,t),dr.set(r,o),cr[i]=o}}hr("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),hr("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),hr(pr,2);for(var mr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),gr=0;gr<mr.length;gr++)fr.set(mr[gr],0);var vr=Me.unstable_UserBlockingPriority,yr=Me.unstable_runWithPriority,br=!0;function wr(e,t){xr(t,e,!1)}function xr(e,t,n){var r=fr.get(t);switch(void 0===r?2:r){case 0:r=Sr.bind(null,t,1,e);break;case 1:r=Cr.bind(null,t,1,e);break;default:r=Er.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Sr(e,t,n,r){ct||st();var i=Er,o=ct;ct=!0;try{lt(i,e,t,n,r)}finally{(ct=o)||ft()}}function Cr(e,t,n,r){yr(vr,Er.bind(null,e,t,n,r))}function Er(e,t,n,r){if(br)if(0<Gn.length&&-1<Xn.indexOf(e))e=tr(null,e,t,n,r),Gn.push(e);else{var i=Or(e,t,n,r);if(null===i)nr(e,r);else if(-1<Xn.indexOf(e))e=tr(i,e,t,n,r),Gn.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return Kn=rr(Kn,e,t,n,r,i),!0;case"dragenter":return qn=rr(qn,e,t,n,r,i),!0;case"mouseover":return Zn=rr(Zn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Qn.set(o,rr(Qn.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Yn.set(o,rr(Yn.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){nr(e,r),e=Fn(e,r,null,t);try{pt(zn,e)}finally{jn(e)}}}}function Or(e,t,n,r){if(null!==(n=Xr(n=Rn(r)))){var i=kn(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=Tn(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=Fn(e,r,n,t);try{pt(zn,e)}finally{jn(e)}return null}var kr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tr=["Webkit","ms","Moz","O"];function _r(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||kr.hasOwnProperty(e)&&kr[e]?(""+t).trim():t+"px"}function Pr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=_r(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(kr).forEach((function(e){Tr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kr[t]=kr[e]}))}));var Mr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ir(e,t){if(t){if(Mr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(Le(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(Le(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(Le(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(Le(62,""))}}function Lr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ar=ln;function Nr(e,t){var n=On(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=Ye[t];for(var r=0;r<t.length;r++)Vn(t[r],e,n)}function Rr(){}function Dr(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jr(e,t){var n,r=Hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Hr(r)}}function Fr(){for(var e=window,t=Dr();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Dr((e=t.contentWindow).document)}return t}function zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Vr=null,Br=null;function Wr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ur(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $r="function"==typeof setTimeout?setTimeout:void 0,Gr="function"==typeof clearTimeout?clearTimeout:void 0;function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),Qr="__reactInternalInstance$"+Zr,Yr="__reactEventHandlers$"+Zr,Jr="__reactContainere$"+Zr;function Xr(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=qr(e);null!==e;){if(n=e[Qr])return n;e=qr(e)}return t}n=(e=n).parentNode}return null}function ei(e){return!(e=e[Qr]||e[Jr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ti(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(Le(33))}function ni(e){return e[Yr]||null}function ri(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function ii(e,t){var n=e.stateNode;if(!n)return null;var r=ze(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(Le(231,t,typeof n));return n}function oi(e,t,n){(t=ii(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=Mn(n._dispatchListeners,t),n._dispatchInstances=Mn(n._dispatchInstances,e))}function ai(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=ri(t);for(t=n.length;0<t--;)oi(n[t],"captured",e);for(t=0;t<n.length;t++)oi(n[t],"bubbled",e)}}function li(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=ii(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=Mn(n._dispatchListeners,t),n._dispatchInstances=Mn(n._dispatchInstances,e))}function si(e){e&&e.dispatchConfig.registrationName&&li(e._targetInst,null,e)}function ui(e){In(e,ai)}var ci=null,di=null,fi=null;function pi(){if(fi)return fi;var e,t,n=di,r=n.length,i="value"in ci?ci.value:ci.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return fi=i.slice(e,1<t?1-t:void 0)}function hi(){return!0}function mi(){return!1}function gi(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?hi:mi,this.isPropagationStopped=mi,this}function vi(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function yi(e){if(!(e instanceof this))throw Error(Le(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function bi(e){e.eventPool=[],e.getPooled=vi,e.release=yi}i(gi.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){this.isPersistent=hi},isPersistent:mi,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=mi,this._dispatchInstances=this._dispatchListeners=null}}),gi.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},gi.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,bi(n),n},bi(gi);var wi=gi.extend({data:null}),xi=gi.extend({data:null}),Si=[9,13,27,32],Ci=Xe&&"CompositionEvent"in window,Ei=null;Xe&&"documentMode"in document&&(Ei=document.documentMode);var Oi=Xe&&"TextEvent"in window&&!Ei,ki=Xe&&(!Ci||Ei&&8<Ei&&11>=Ei),Ti=String.fromCharCode(32),_i={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Pi=!1;function Mi(e,t){switch(e){case"keyup":return-1!==Si.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Ii(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Li=!1;var Ai={eventTypes:_i,extractEvents:function(e,t,n,r){var i;if(Ci)e:{switch(e){case"compositionstart":var o=_i.compositionStart;break e;case"compositionend":o=_i.compositionEnd;break e;case"compositionupdate":o=_i.compositionUpdate;break e}o=void 0}else Li?Mi(e,n)&&(o=_i.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=_i.compositionStart);return o?(ki&&"ko"!==n.locale&&(Li||o!==_i.compositionStart?o===_i.compositionEnd&&Li&&(i=pi()):(di="value"in(ci=r)?ci.value:ci.textContent,Li=!0)),o=wi.getPooled(o,t,n,r),(i||null!==(i=Ii(n)))&&(o.data=i),ui(o),i=o):i=null,(e=Oi?function(e,t){switch(e){case"compositionend":return Ii(t);case"keypress":return 32!==t.which?null:(Pi=!0,Ti);case"textInput":return(e=t.data)===Ti&&Pi?null:e;default:return null}}(e,n):function(e,t){if(Li)return"compositionend"===e||!Ci&&Mi(e,t)?(e=pi(),fi=di=ci=null,Li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ki&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=xi.getPooled(_i.beforeInput,t,n,r)).data=e,ui(t)):t=null,null===i?t:null===t?i:[i,t]}},Ni={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ni[e.type]:"textarea"===t}var Di={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Hi(e,t,n){return(e=gi.getPooled(Di.change,e,t,n)).type="change",it(n),ui(e),e}var ji=null,Fi=null;function zi(e){Nn(e)}function Vi(e){if(Kt(ti(e)))return e}function Bi(e,t){if("change"===e)return t}var Wi=!1;function Ui(){ji&&(ji.detachEvent("onpropertychange",$i),Fi=ji=null)}function $i(e){if("value"===e.propertyName&&Vi(Fi))if(e=Hi(Fi,e,Rn(e)),ct)Nn(e);else{ct=!0;try{at(zi,e)}finally{ct=!1,ft()}}}function Gi(e,t,n){"focus"===e?(Ui(),Fi=n,(ji=t).attachEvent("onpropertychange",$i)):"blur"===e&&Ui()}function Ki(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vi(Fi)}function qi(e,t){if("click"===e)return Vi(t)}function Zi(e,t){if("input"===e||"change"===e)return Vi(t)}Xe&&(Wi=Dn("input")&&(!document.documentMode||9<document.documentMode));var Qi={eventTypes:Di,_isInputEventSupported:Wi,extractEvents:function(e,t,n,r){var i=t?ti(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=Bi;else if(Ri(i))if(Wi)a=Zi;else{a=Ki;var l=Gi}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=qi);if(a&&(a=a(e,t)))return Hi(a,n,r);l&&l(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Xt(i,"number",i.value)}},Yi=gi.extend({view:null,detail:null}),Ji={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xi(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ji[e])&&!!t[e]}function eo(){return Xi}var to=0,no=0,ro=!1,io=!1,oo=Yi.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:eo,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=to;return to=e.screenX,ro?"mousemove"===e.type?e.screenX-t:0:(ro=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=no;return no=e.screenY,io?"mousemove"===e.type?e.screenY-t:0:(io=!0,0)}}),ao=oo.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),lo={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},so={eventTypes:lo,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Xr(t):null)&&(t!==kn(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var l=oo,s=lo.mouseLeave,u=lo.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(l=ao,s=lo.pointerLeave,u=lo.pointerEnter,c="pointer");if(e=null==a?o:ti(a),o=null==t?o:ti(t),(s=l.getPooled(s,a,n,r)).type=c+"leave",s.target=e,s.relatedTarget=o,(n=l.getPooled(u,t,n,r)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(r=a)&&c)e:{for(u=c,a=0,e=l=r;e;e=ri(e))a++;for(e=0,t=u;t;t=ri(t))e++;for(;0<a-e;)l=ri(l),a--;for(;0<e-a;)u=ri(u),e--;for(;a--;){if(l===u||l===u.alternate)break e;l=ri(l),u=ri(u)}l=null}else l=null;for(u=l,l=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)l.push(r),r=ri(r);for(r=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)r.push(c),c=ri(c);for(c=0;c<l.length;c++)li(l[c],"bubbled",s);for(c=r.length;0<c--;)li(r[c],"captured",n);return 0==(64&i)?[s]:[s,n]}};var uo="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},co=Object.prototype.hasOwnProperty;function fo(e,t){if(uo(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!co.call(t,n[r])||!uo(e[n[r]],t[n[r]]))return!1;return!0}var po=Xe&&"documentMode"in document&&11>=document.documentMode,ho={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},mo=null,go=null,vo=null,yo=!1;function bo(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return yo||null==mo||mo!==Dr(n)?null:(n="selectionStart"in(n=mo)&&zr(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vo&&fo(vo,n)?null:(vo=n,(e=gi.getPooled(ho.select,go,e,t)).type="select",e.target=mo,ui(e),e))}var wo={eventTypes:ho,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=On(i),o=Ye.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?ti(t):window,e){case"focus":(Ri(i)||"true"===i.contentEditable)&&(mo=i,go=t,vo=null);break;case"blur":vo=go=mo=null;break;case"mousedown":yo=!0;break;case"contextmenu":case"mouseup":case"dragend":return yo=!1,bo(n,r);case"selectionchange":if(po)break;case"keydown":case"keyup":return bo(n,r)}return null}},xo=gi.extend({animationName:null,elapsedTime:null,pseudoElement:null}),So=gi.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Co=Yi.extend({relatedTarget:null});function Eo(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},To=Yi.extend({key:function(e){if(e.key){var t=Oo[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Eo(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ko[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:eo,charCode:function(e){return"keypress"===e.type?Eo(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Eo(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_o=oo.extend({dataTransfer:null}),Po=Yi.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:eo}),Mo=gi.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Io=oo.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Lo={eventTypes:cr,extractEvents:function(e,t,n,r){var i=dr.get(e);if(!i)return null;switch(e){case"keypress":if(0===Eo(n))return null;case"keydown":case"keyup":e=To;break;case"blur":case"focus":e=Co;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=_o;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=Po;break;case bn:case wn:case xn:e=xo;break;case Sn:e=Mo;break;case"scroll":e=Yi;break;case"wheel":e=Io;break;case"copy":case"cut":case"paste":e=So;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=ao;break;default:e=gi}return ui(t=e.getPooled(i,t,n,r)),t}};if(Ue)throw Error(Le(101));Ue=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Ge(),ze=ni,Ve=ei,Be=ti,Je({SimpleEventPlugin:Lo,EnterLeaveEventPlugin:so,ChangeEventPlugin:Qi,SelectEventPlugin:wo,BeforeInputEventPlugin:Ai});var Ao=[],No=-1;function Ro(e){0>No||(e.current=Ao[No],Ao[No]=null,No--)}function Do(e,t){Ao[++No]=e.current,e.current=t}var Ho={},jo={current:Ho},Fo={current:!1},zo=Ho;function Vo(e,t){var n=e.type.contextTypes;if(!n)return Ho;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Bo(e){return null!=e.childContextTypes}function Wo(){Ro(Fo),Ro(jo)}function Uo(e,t,n){if(jo.current!==Ho)throw Error(Le(168));Do(jo,t),Do(Fo,n)}function $o(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(Le(108,Bt(t)||"Unknown",o));return i({},n,{},r)}function Go(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ho,zo=jo.current,Do(jo,e),Do(Fo,Fo.current),!0}function Ko(e,t,n){var r=e.stateNode;if(!r)throw Error(Le(169));n?(e=$o(e,t,zo),r.__reactInternalMemoizedMergedChildContext=e,Ro(Fo),Ro(jo),Do(jo,e)):Ro(Fo),Do(Fo,n)}var qo=Me.unstable_runWithPriority,Zo=Me.unstable_scheduleCallback,Qo=Me.unstable_cancelCallback,Yo=Me.unstable_requestPaint,Jo=Me.unstable_now,Xo=Me.unstable_getCurrentPriorityLevel,ea=Me.unstable_ImmediatePriority,ta=Me.unstable_UserBlockingPriority,na=Me.unstable_NormalPriority,ra=Me.unstable_LowPriority,ia=Me.unstable_IdlePriority,oa={},aa=Me.unstable_shouldYield,la=void 0!==Yo?Yo:function(){},sa=null,ua=null,ca=!1,da=Jo(),fa=1e4>da?Jo:function(){return Jo()-da};function pa(){switch(Xo()){case ea:return 99;case ta:return 98;case na:return 97;case ra:return 96;case ia:return 95;default:throw Error(Le(332))}}function ha(e){switch(e){case 99:return ea;case 98:return ta;case 97:return na;case 96:return ra;case 95:return ia;default:throw Error(Le(332))}}function ma(e,t){return e=ha(e),qo(e,t)}function ga(e,t,n){return e=ha(e),Zo(e,t,n)}function va(e){return null===sa?(sa=[e],ua=Zo(ea,ba)):sa.push(e),oa}function ya(){if(null!==ua){var e=ua;ua=null,Qo(e)}ba()}function ba(){if(!ca&&null!==sa){ca=!0;var e=0;try{var t=sa;ma(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),sa=null}catch(t){throw null!==sa&&(sa=sa.slice(e+1)),Zo(ea,ya),t}finally{ca=!1}}}function wa(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function xa(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Sa={current:null},Ca=null,Ea=null,Oa=null;function ka(){Oa=Ea=Ca=null}function Ta(e){var t=Sa.current;Ro(Sa),e.type._context._currentValue=t}function _a(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Pa(e,t){Ca=e,Oa=Ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ns=!0),e.firstContext=null)}function Ma(e,t){if(Oa!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Oa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ea){if(null===Ca)throw Error(Le(308));Ea=t,Ca.dependencies={expirationTime:0,firstContext:t,responders:null}}else Ea=Ea.next=t;return e._currentValue}var Ia=!1;function La(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Aa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function Na(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function Ra(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function Da(e,t){var n=e.alternate;null!==n&&Aa(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function Ha(e,t,n,r){var o=e.updateQueue;Ia=!1;var a=o.baseQueue,l=o.shared.pending;if(null!==l){if(null!==a){var s=a.next;a.next=l.next,l.next=s}a=l,o.shared.pending=null,null!==(s=e.alternate)&&null!==(s=s.updateQueue)&&(s.baseQueue=l)}if(null!==a){s=a.next;var u=o.baseState,c=0,d=null,f=null,p=null;if(null!==s)for(var h=s;;){if((l=h.expirationTime)<r){var m={expirationTime:h.expirationTime,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null};null===p?(f=p=m,d=u):p=p.next=m,l>c&&(c=l)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:h.suspenseConfig,tag:h.tag,payload:h.payload,callback:h.callback,next:null}),Lu(l,h.suspenseConfig);e:{var g=e,v=h;switch(l=t,m=n,v.tag){case 1:if("function"==typeof(g=v.payload)){u=g.call(m,u,l);break e}u=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(l="function"==typeof(g=v.payload)?g.call(m,u,l):g))break e;u=i({},u,l);break e;case 2:Ia=!0}}null!==h.callback&&(e.effectTag|=32,null===(l=o.effects)?o.effects=[h]:l.push(h))}if(null===(h=h.next)||h===s){if(null===(l=o.shared.pending))break;h=a.next=l.next,l.next=s,o.baseQueue=a=l,o.shared.pending=null}}null===p?d=u:p.next=f,o.baseState=d,o.baseQueue=p,Au(c),e.expirationTime=c,e.memoizedState=u}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(Le(191,r));r.call(i)}}}var Fa=St.ReactCurrentBatchConfig,za=(new q.Component).refs;function Va(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternalFiber)&&kn(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=bu(),i=Fa.suspense;(i=Na(r=wu(r,e,i),i)).payload=t,null!=n&&(i.callback=n),Ra(e,i),xu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=bu(),i=Fa.suspense;(i=Na(r=wu(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),Ra(e,i),xu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=bu(),r=Fa.suspense;(r=Na(n=wu(n,e,r),r)).tag=2,null!=t&&(r.callback=t),Ra(e,r),xu(e,n)}};function Wa(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&fo(n,r)&&fo(i,o))}function Ua(e,t,n){var r=!1,i=Ho,o=t.contextType;return"object"==typeof o&&null!==o?o=Ma(o):(i=Bo(t)?zo:jo.current,o=(r=null!=(r=t.contextTypes))?Vo(e,i):Ho),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function $a(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,La(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Ma(o):(o=Bo(t)?zo:jo.current,i.context=Vo(e,o)),Ha(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Va(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ha(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Ka=Array.isArray;function qa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(Le(309));var r=n.stateNode}if(!r)throw Error(Le(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===za&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(Le(284));if(!n._owner)throw Error(Le(290,e))}return e}function Za(e,t){if("textarea"!==e.type)throw Error(Le(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Qa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Xu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=nc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function s(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=ec(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=rc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,o){return null===t||7!==t.tag?((t=tc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=nc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case kt:return(n=ec(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case Tt:return(t=rc(t,e.mode,n)).return=e,t}if(Ka(t)||Vt(t))return(t=tc(t,e.mode,n,null)).return=e,t;Za(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case kt:return n.key===i?n.type===_t?c(e,t,n.props.children,r,i):s(e,t,n,r):null;case Tt:return n.key===i?u(e,t,n,r):null}if(Ka(n)||Vt(n))return null!==i?null:c(e,t,n,r,null);Za(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case kt:return e=e.get(null===r.key?n:r.key)||null,r.type===_t?c(t,e,r.props.children,i,r.key):s(t,e,r,i);case Tt:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Ka(r)||Vt(r))return c(t,e=e.get(n)||null,r,i,null);Za(t,r)}return null}function h(i,a,l,s){for(var u=null,c=null,h=a,m=a=0,g=null;null!==h&&m<l.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,l[m],s);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===l.length)return n(i,h),u;if(null===h){for(;m<l.length;m++)null!==(h=d(i,l[m],s))&&(a=o(h,a,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);m<l.length;m++)null!==(g=p(h,i,m,l[m],s))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),u}function m(i,a,l,s){var u=Vt(l);if("function"!=typeof u)throw Error(Le(150));if(null==(l=u.call(l)))throw Error(Le(151));for(var c=u=null,h=a,m=a=0,g=null,v=l.next();null!==h&&!v.done;m++,v=l.next()){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,v.value,s);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,m),null===c?u=y:c.sibling=y,c=y,h=g}if(v.done)return n(i,h),u;if(null===h){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,s))&&(a=o(v,a,m),null===c?u=v:c.sibling=v,c=v);return u}for(h=r(i,h);!v.done;m++,v=l.next())null!==(v=p(h,i,m,v.value,s))&&(e&&null!==v.alternate&&h.delete(null===v.key?m:v.key),a=o(v,a,m),null===c?u=v:c.sibling=v,c=v);return e&&h.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var s="object"==typeof o&&null!==o&&o.type===_t&&null===o.key;s&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case kt:e:{for(u=o.key,s=r;null!==s;){if(s.key===u){switch(s.tag){case 7:if(o.type===_t){n(e,s.sibling),(r=i(s,o.props.children)).return=e,e=r;break e}break;default:if(s.elementType===o.type){n(e,s.sibling),(r=i(s,o.props)).ref=qa(e,s,o),r.return=e,e=r;break e}}n(e,s);break}t(e,s),s=s.sibling}o.type===_t?((r=tc(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=ec(o.type,o.key,o.props,null,e.mode,l)).ref=qa(e,r,o),l.return=e,e=l)}return a(e);case Tt:e:{for(s=o.key;null!==r;){if(r.key===s){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=rc(o,e.mode,l)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=nc(o,e.mode,l)).return=e,e=r),a(e);if(Ka(o))return h(e,r,o,l);if(Vt(o))return m(e,r,o,l);if(u&&Za(e,o),void 0===o&&!s)switch(e.tag){case 1:case 0:throw e=e.type,Error(Le(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ya=Qa(!0),Ja=Qa(!1),Xa={},el={current:Xa},tl={current:Xa},nl={current:Xa};function rl(e){if(e===Xa)throw Error(Le(174));return e}function il(e,t){switch(Do(nl,t),Do(tl,e),Do(el,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cn(null,"");break;default:t=cn(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ro(el),Do(el,t)}function ol(){Ro(el),Ro(tl),Ro(nl)}function al(e){rl(nl.current);var t=rl(el.current),n=cn(t,e.type);t!==n&&(Do(tl,e),Do(el,n))}function ll(e){tl.current===e&&(Ro(el),Ro(tl))}var sl={current:0};function ul(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function cl(e,t){return{responder:e,props:t}}var dl=St.ReactCurrentDispatcher,fl=St.ReactCurrentBatchConfig,pl=0,hl=null,ml=null,gl=null,vl=!1;function yl(){throw Error(Le(321))}function bl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!uo(e[n],t[n]))return!1;return!0}function wl(e,t,n,r,i,o){if(pl=o,hl=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,dl.current=null===e||null===e.memoizedState?Wl:Ul,e=n(r,i),t.expirationTime===pl){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(Le(301));o+=1,gl=ml=null,t.updateQueue=null,dl.current=$l,e=n(r,i)}while(t.expirationTime===pl)}if(dl.current=Bl,t=null!==ml&&null!==ml.next,pl=0,gl=ml=hl=null,vl=!1,t)throw Error(Le(300));return e}function xl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===gl?hl.memoizedState=gl=e:gl=gl.next=e,gl}function Sl(){if(null===ml){var e=hl.alternate;e=null!==e?e.memoizedState:null}else e=ml.next;var t=null===gl?hl.memoizedState:gl.next;if(null!==t)gl=t,ml=e;else{if(null===e)throw Error(Le(310));e={memoizedState:(ml=e).memoizedState,baseState:ml.baseState,baseQueue:ml.baseQueue,queue:ml.queue,next:null},null===gl?hl.memoizedState=gl=e:gl=gl.next=e}return gl}function Cl(e,t){return"function"==typeof t?t(e):t}function El(e){var t=Sl(),n=t.queue;if(null===n)throw Error(Le(311));n.lastRenderedReducer=e;var r=ml,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,s=i;do{var u=s.expirationTime;if(u<pl){var c={expirationTime:s.expirationTime,suspenseConfig:s.suspenseConfig,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null};null===l?(a=l=c,o=r):l=l.next=c,u>hl.expirationTime&&(hl.expirationTime=u,Au(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:s.suspenseConfig,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),Lu(u,s.suspenseConfig),r=s.eagerReducer===e?s.eagerState:e(r,s.action);s=s.next}while(null!==s&&s!==i);null===l?o=r:l.next=a,uo(r,t.memoizedState)||(ns=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Ol(e){var t=Sl(),n=t.queue;if(null===n)throw Error(Le(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);uo(o,t.memoizedState)||(ns=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function kl(e){var t=xl();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:e}).dispatch=Vl.bind(null,hl,e),[t.memoizedState,e]}function Tl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=hl.updateQueue)?(t={lastEffect:null},hl.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function _l(){return Sl().memoizedState}function Pl(e,t,n,r){var i=xl();hl.effectTag|=e,i.memoizedState=Tl(1|t,n,void 0,void 0===r?null:r)}function Ml(e,t,n,r){var i=Sl();r=void 0===r?null:r;var o=void 0;if(null!==ml){var a=ml.memoizedState;if(o=a.destroy,null!==r&&bl(r,a.deps))return void Tl(t,n,o,r)}hl.effectTag|=e,i.memoizedState=Tl(1|t,n,o,r)}function Il(e,t){return Pl(516,4,e,t)}function Ll(e,t){return Ml(516,4,e,t)}function Al(e,t){return Ml(4,2,e,t)}function Nl(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Rl(e,t,n){return n=null!=n?n.concat([e]):null,Ml(4,2,Nl.bind(null,t,e),n)}function Dl(){}function Hl(e,t){return xl().memoizedState=[e,void 0===t?null:t],e}function jl(e,t){var n=Sl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Fl(e,t){var n=Sl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zl(e,t,n){var r=pa();ma(98>r?98:r,(function(){e(!0)})),ma(97<r?97:r,(function(){var r=fl.suspense;fl.suspense=void 0===t?null:t;try{e(!1),n()}finally{fl.suspense=r}}))}function Vl(e,t,n){var r=bu(),i=Fa.suspense;i={expirationTime:r=wu(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===hl||null!==o&&o===hl)vl=!0,i.expirationTime=pl,hl.expirationTime=pl;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(i.eagerReducer=o,i.eagerState=l,uo(l,a))return}catch(e){}xu(e,r)}}var Bl={readContext:Ma,useCallback:yl,useContext:yl,useEffect:yl,useImperativeHandle:yl,useLayoutEffect:yl,useMemo:yl,useReducer:yl,useRef:yl,useState:yl,useDebugValue:yl,useResponder:yl,useDeferredValue:yl,useTransition:yl},Wl={readContext:Ma,useCallback:Hl,useContext:Ma,useEffect:Il,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Pl(4,2,Nl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pl(4,2,e,t)},useMemo:function(e,t){var n=xl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Vl.bind(null,hl,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xl().memoizedState=e},useState:kl,useDebugValue:Dl,useResponder:cl,useDeferredValue:function(e,t){var n=kl(e),r=n[0],i=n[1];return Il((function(){var n=fl.suspense;fl.suspense=void 0===t?null:t;try{i(e)}finally{fl.suspense=n}}),[e,t]),r},useTransition:function(e){var t=kl(!1),n=t[0];return t=t[1],[Hl(zl.bind(null,t,e),[t,e]),n]}},Ul={readContext:Ma,useCallback:jl,useContext:Ma,useEffect:Ll,useImperativeHandle:Rl,useLayoutEffect:Al,useMemo:Fl,useReducer:El,useRef:_l,useState:function(){return El(Cl)},useDebugValue:Dl,useResponder:cl,useDeferredValue:function(e,t){var n=El(Cl),r=n[0],i=n[1];return Ll((function(){var n=fl.suspense;fl.suspense=void 0===t?null:t;try{i(e)}finally{fl.suspense=n}}),[e,t]),r},useTransition:function(e){var t=El(Cl),n=t[0];return t=t[1],[jl(zl.bind(null,t,e),[t,e]),n]}},$l={readContext:Ma,useCallback:jl,useContext:Ma,useEffect:Ll,useImperativeHandle:Rl,useLayoutEffect:Al,useMemo:Fl,useReducer:Ol,useRef:_l,useState:function(){return Ol(Cl)},useDebugValue:Dl,useResponder:cl,useDeferredValue:function(e,t){var n=Ol(Cl),r=n[0],i=n[1];return Ll((function(){var n=fl.suspense;fl.suspense=void 0===t?null:t;try{i(e)}finally{fl.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Ol(Cl),n=t[0];return t=t[1],[jl(zl.bind(null,t,e),[t,e]),n]}},Gl=null,Kl=null,ql=!1;function Zl(e,t){var n=Yu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ql(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Yl(e){if(ql){var t=Kl;if(t){var n=t;if(!Ql(e,t)){if(!(t=Kr(n.nextSibling))||!Ql(e,t))return e.effectTag=-1025&e.effectTag|2,ql=!1,void(Gl=e);Zl(Gl,n)}Gl=e,Kl=Kr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,ql=!1,Gl=e}}function Jl(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Gl=e}function Xl(e){if(e!==Gl)return!1;if(!ql)return Jl(e),ql=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ur(t,e.memoizedProps))for(t=Kl;t;)Zl(e,t),t=Kr(t.nextSibling);if(Jl(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(Le(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Kl=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Kl=null}}else Kl=Gl?Kr(e.stateNode.nextSibling):null;return!0}function es(){Kl=Gl=null,ql=!1}var ts=St.ReactCurrentOwner,ns=!1;function rs(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ya(t,e.child,n,r)}function is(e,t,n,r,i){n=n.render;var o=t.ref;return Pa(t,i),r=wl(e,t,n,r,o,i),null===e||ns?(t.effectTag|=1,rs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),xs(e,t,i))}function os(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Ju(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ec(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,as(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fo)(i,r)&&e.ref===t.ref)?xs(e,t,o):(t.effectTag|=1,(e=Xu(a,r)).ref=t.ref,e.return=t,t.child=e)}function as(e,t,n,r,i,o){return null!==e&&fo(e.memoizedProps,r)&&e.ref===t.ref&&(ns=!1,i<o)?(t.expirationTime=e.expirationTime,xs(e,t,o)):ss(e,t,n,r,o)}function ls(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ss(e,t,n,r,i){var o=Bo(n)?zo:jo.current;return o=Vo(t,o),Pa(t,i),n=wl(e,t,n,r,o,i),null===e||ns?(t.effectTag|=1,rs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),xs(e,t,i))}function us(e,t,n,r,i){if(Bo(n)){var o=!0;Go(t)}else o=!1;if(Pa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Ua(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,u=n.contextType;u="object"==typeof u&&null!==u?Ma(u):Vo(t,u=Bo(n)?zo:jo.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||s!==u)&&$a(t,a,r,u),Ia=!1;var f=t.memoizedState;a.state=f,Ha(t,r,a,i),s=t.memoizedState,l!==r||f!==s||Fo.current||Ia?("function"==typeof c&&(Va(t,n,c,r),s=t.memoizedState),(l=Ia||Wa(t,n,l,r,f,s,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=u,r=l):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,Aa(e,t),l=t.memoizedProps,a.props=t.type===t.elementType?l:xa(t.type,l),s=a.context,u="object"==typeof(u=n.contextType)&&null!==u?Ma(u):Vo(t,u=Bo(n)?zo:jo.current),(d="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||s!==u)&&$a(t,a,r,u),Ia=!1,s=t.memoizedState,a.state=s,Ha(t,r,a,i),f=t.memoizedState,l!==r||s!==f||Fo.current||Ia?("function"==typeof c&&(Va(t,n,c,r),f=t.memoizedState),(c=Ia||Wa(t,n,l,r,s,f,u))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),r=!1);return cs(e,t,n,r,o,i)}function cs(e,t,n,r,i,o){ls(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Ko(t,n,!1),xs(e,t,o);r=t.stateNode,ts.current=t;var l=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Ya(t,e.child,null,o),t.child=Ya(t,null,l,o)):rs(e,t,l,o),t.memoizedState=r.state,i&&Ko(t,n,!0),t.child}function ds(e){var t=e.stateNode;t.pendingContext?Uo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Uo(0,t.context,!1),il(e,t.containerInfo)}var fs,ps,hs,ms,gs={dehydrated:null,retryTime:0};function vs(e,t,n){var r,i=t.mode,o=t.pendingProps,a=sl.current,l=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(l=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),Do(sl,1&a),null===e){if(void 0!==o.fallback&&Yl(t),l){if(l=o.fallback,(o=tc(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=tc(l,i,n,null)).return=t,o.sibling=n,t.memoizedState=gs,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Ja(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,l){if(o=o.fallback,(n=Xu(e,e.pendingProps)).return=t,0==(2&t.mode)&&(l=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=l;null!==l;)l.return=n,l=l.sibling;return(i=Xu(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=gs,t.child=n,i}return n=Ya(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,l){if(l=o.fallback,(o=tc(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=tc(l,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=gs,t.child=o,n}return t.memoizedState=null,t.child=Ya(t,e,o.children,n)}function ys(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),_a(e.return,t)}function bs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function ws(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(rs(e,t,r.children,n),0!=(2&(r=sl.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ys(e,n);else if(19===e.tag)ys(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Do(sl,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ul(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),bs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ul(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}bs(t,!0,n,null,o,t.lastEffect);break;case"together":bs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function xs(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Au(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(Le(153));if(null!==t.child){for(n=Xu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Xu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ss(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Cs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Bo(t.type)&&Wo(),null;case 3:return ol(),Ro(Fo),Ro(jo),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Xl(t)||(t.effectTag|=4),ps(t),null;case 5:ll(t),n=rl(nl.current);var o=t.type;if(null!==e&&null!=t.stateNode)hs(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(Le(166));return null}if(e=rl(el.current),Xl(t)){r=t.stateNode,o=t.type;var a=t.memoizedProps;switch(r[Qr]=t,r[Yr]=a,o){case"iframe":case"object":case"embed":wr("load",r);break;case"video":case"audio":for(e=0;e<Cn.length;e++)wr(Cn[e],r);break;case"source":wr("error",r);break;case"img":case"image":case"link":wr("error",r),wr("load",r);break;case"form":wr("reset",r),wr("submit",r);break;case"details":wr("toggle",r);break;case"input":Zt(r,a),wr("invalid",r),Nr(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},wr("invalid",r),Nr(n,"onChange");break;case"textarea":rn(r,a),wr("invalid",r),Nr(n,"onChange")}for(var l in Ir(o,a),e=null,a)if(a.hasOwnProperty(l)){var s=a[l];"children"===l?"string"==typeof s?r.textContent!==s&&(e=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(e=["children",""+s]):Qe.hasOwnProperty(l)&&null!=s&&Nr(n,l)}switch(o){case"input":Gt(r),Jt(r,a,!0);break;case"textarea":Gt(r),an(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Rr)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===Ar&&(e=un(o)),e===Ar?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(o,{is:r.is}):(e=l.createElement(o),"select"===o&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,o),e[Qr]=t,e[Yr]=r,fs(e,t,!1,!1),t.stateNode=e,l=Lr(o,r),o){case"iframe":case"object":case"embed":wr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Cn.length;s++)wr(Cn[s],e);s=r;break;case"source":wr("error",e),s=r;break;case"img":case"image":case"link":wr("error",e),wr("load",e),s=r;break;case"form":wr("reset",e),wr("submit",e),s=r;break;case"details":wr("toggle",e),s=r;break;case"input":Zt(e,r),s=qt(e,r),wr("invalid",e),Nr(n,"onChange");break;case"option":s=en(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),wr("invalid",e),Nr(n,"onChange");break;case"textarea":rn(e,r),s=nn(e,r),wr("invalid",e),Nr(n,"onChange");break;default:s=r}Ir(o,s);var u=s;for(a in u)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?Pr(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&fn(e,c):"children"===a?"string"==typeof c?("textarea"!==o||""!==c)&&pn(e,c):"number"==typeof c&&pn(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(Qe.hasOwnProperty(a)?null!=c&&Nr(n,a):null!=c&&Ct(e,a,c,l))}switch(o){case"input":Gt(e),Jt(e,r,!1);break;case"textarea":Gt(e),an(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Ut(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?tn(e,!!r.multiple,n,!1):null!=r.defaultValue&&tn(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Rr)}Wr(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)ms(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(Le(166));n=rl(nl.current),rl(el.current),Xl(t)?(n=t.stateNode,r=t.memoizedProps,n[Qr]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=n)}return null;case 13:return Ro(sl),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Xl(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(a=t.firstEffect)?(t.firstEffect=o,o.nextEffect=a):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&sl.current)?eu===Ks&&(eu=qs):(eu!==Ks&&eu!==qs||(eu=Zs),0!==ou&&null!==Ys&&(ac(Ys,Xs),lc(Ys,ou)))),(n||r)&&(t.effectTag|=4),null);case 4:return ol(),ps(t),null;case 10:return Ta(t),null;case 17:return Bo(t.type)&&Wo(),null;case 19:if(Ro(sl),null===(r=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(a=r.rendering)){if(o)Ss(r,!1);else if(eu!==Ks||null!==e&&0!=(64&e.effectTag))for(a=t.child;null!==a;){if(null!==(e=ul(a))){for(t.effectTag|=64,Ss(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)a=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return Do(sl,1&sl.current|2),t.child}a=a.sibling}}else{if(!o)if(null!==(e=ul(a))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ss(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*fa()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Ss(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=fa()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=fa(),n.sibling=null,t=sl.current,Do(sl,o?1&t|2:1&t),n):null}throw Error(Le(156,t.tag))}function Es(e){switch(e.tag){case 1:Bo(e.type)&&Wo();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(ol(),Ro(Fo),Ro(jo),0!=(64&(t=e.effectTag)))throw Error(Le(285));return e.effectTag=-4097&t|64,e;case 5:return ll(e),null;case 13:return Ro(sl),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return Ro(sl),null;case 4:return ol(),null;case 10:return Ta(e),null;default:return null}}function Os(e,t){return{value:e,source:t,stack:Wt(t)}}fs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ps=function(){},hs=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var l,s,u=t.stateNode;switch(rl(el.current),e=null,n){case"input":a=qt(u,a),r=qt(u,r),e=[];break;case"option":a=en(u,a),r=en(u,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=nn(u,a),r=nn(u,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(u.onclick=Rr)}for(l in Ir(n,r),n=null,a)if(!r.hasOwnProperty(l)&&a.hasOwnProperty(l)&&null!=a[l])if("style"===l)for(s in u=a[l])u.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(Qe.hasOwnProperty(l)?e||(e=[]):(e=e||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=a?a[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(e||(e=[]),e.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(l,c)):"children"===l?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(Qe.hasOwnProperty(l)?(null!=c&&Nr(o,l),e||u===c||(e=[])):(e=e||[]).push(l,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},ms=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var ks="function"==typeof WeakSet?WeakSet:Set;function Ts(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=Wt(n)),null!==n&&Bt(n.type),t=t.value,null!==e&&1===e.tag&&Bt(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function _s(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){$u(e,t)}else t.current=null}function Ps(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:xa(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(Le(163))}function Ms(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ls(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void Is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:xa(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ja(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ja(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&Wr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&ur(n)))));case 19:case 17:case 20:case 21:return}throw Error(Le(163))}function As(e,t,n){switch("function"==typeof Zu&&Zu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;ma(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){$u(i,e)}}e=e.next}while(e!==r)}))}break;case 1:_s(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){$u(e,t)}}(t,n);break;case 5:_s(t);break;case 4:Hs(e,t,n)}}function Ns(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&Ns(t)}function Rs(e){return 5===e.tag||3===e.tag||4===e.tag}function Ds(e){e:{for(var t=e.return;null!==t;){if(Rs(t)){var n=t;break e}t=t.return}throw Error(Le(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(Le(161))}16&n.effectTag&&(pn(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Rs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=Rr));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function Hs(e,t,n){for(var r,i,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(Le(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var l=e,s=o,u=n,c=s;;)if(As(l,c,u),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(l=r,s=o.stateNode,8===l.nodeType?l.parentNode.removeChild(s):l.removeChild(s)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(As(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function js(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Ms(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Yr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Qt(n,r),Lr(e,i),t=Lr(e,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?Pr(n,l):"dangerouslySetInnerHTML"===a?fn(n,l):"children"===a?pn(n,l):Ct(n,a,l,t)}switch(e){case"input":Yt(n,r);break;case"textarea":on(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?tn(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?tn(n,!!r.multiple,r.defaultValue,!0):tn(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(Le(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,ur(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,lu=fa()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=_r("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void Fs(t);case 19:return void Fs(t);case 17:return}throw Error(Le(163))}function Fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ks),t.forEach((function(t){var r=Ku.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var zs="function"==typeof WeakMap?WeakMap:Map;function Vs(e,t,n){(n=Na(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){uu||(uu=!0,cu=r),Ts(e,t)},n}function Bs(e,t,n){(n=Na(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Ts(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===du?du=new Set([this]):du.add(this),Ts(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ws,Us=Math.ceil,$s=St.ReactCurrentDispatcher,Gs=St.ReactCurrentOwner,Ks=0,qs=3,Zs=4,Qs=0,Ys=null,Js=null,Xs=0,eu=Ks,tu=null,nu=1073741823,ru=1073741823,iu=null,ou=0,au=!1,lu=0,su=null,uu=!1,cu=null,du=null,fu=!1,pu=null,hu=90,mu=null,gu=0,vu=null,yu=0;function bu(){return 0!=(48&Qs)?1073741821-(fa()/10|0):0!==yu?yu:yu=1073741821-(fa()/10|0)}function wu(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=pa();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Qs))return Xs;if(null!==n)e=wa(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=wa(e,150,100);break;case 97:case 96:e=wa(e,5e3,250);break;case 95:e=2;break;default:throw Error(Le(326))}return null!==Ys&&e===Xs&&--e,e}function xu(e,t){if(50<gu)throw gu=0,vu=null,Error(Le(185));if(null!==(e=Su(e,t))){var n=pa();1073741823===t?0!=(8&Qs)&&0==(48&Qs)?ku(e):(Eu(e),0===Qs&&ya()):Eu(e),0==(4&Qs)||98!==n&&99!==n||(null===mu?mu=new Map([[e,t]]):(void 0===(n=mu.get(e))||n>t)&&mu.set(e,t))}}function Su(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Ys===i&&(Au(t),eu===Zs&&ac(i,Xs)),lc(i,t)),i}function Cu(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!oc(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Eu(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=va(ku.bind(null,e));else{var t=Cu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=bu();if(r=1073741823===t?99:1===t||2===t?95:0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==oa&&Qo(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?va(ku.bind(null,e)):ga(r,Ou.bind(null,e),{timeout:10*(1073741821-t)-fa()}),e.callbackNode=t}}}function Ou(e,t){if(yu=0,t)return sc(e,t=bu()),Eu(e),null;var n=Cu(e);if(0!==n){if(t=e.callbackNode,0!=(48&Qs))throw Error(Le(327));if(Bu(),e===Ys&&n===Xs||Pu(e,n),null!==Js){var r=Qs;Qs|=16;for(var i=Iu();;)try{Ru();break}catch(t){Mu(e,t)}if(ka(),Qs=r,$s.current=i,1===eu)throw t=tu,Pu(e,n),ac(e,n),Eu(e),t;if(null===Js)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=eu,Ys=null,r){case Ks:case 1:throw Error(Le(345));case 2:sc(e,2<n?2:n);break;case qs:if(ac(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=ju(i)),1073741823===nu&&10<(i=lu+500-fa())){if(au){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,Pu(e,n);break}}if(0!==(o=Cu(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=$r(Fu.bind(null,e),i);break}Fu(e);break;case Zs:if(ac(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=ju(i)),au&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,Pu(e,n);break}if(0!==(i=Cu(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==ru?r=10*(1073741821-ru)-fa():1073741823===nu?r=0:(r=10*(1073741821-nu)-5e3,0>(r=(i=fa())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Us(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=$r(Fu.bind(null,e),r);break}Fu(e);break;case 5:if(1073741823!==nu&&null!==iu){o=nu;var a=iu;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=fa()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){ac(e,n),e.timeoutHandle=$r(Fu.bind(null,e),r);break}}Fu(e);break;default:throw Error(Le(329))}if(Eu(e),e.callbackNode===t)return Ou.bind(null,e)}}return null}function ku(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Qs))throw Error(Le(327));if(Bu(),e===Ys&&t===Xs||Pu(e,t),null!==Js){var n=Qs;Qs|=16;for(var r=Iu();;)try{Nu();break}catch(t){Mu(e,t)}if(ka(),Qs=n,$s.current=r,1===eu)throw n=tu,Pu(e,t),ac(e,t),Eu(e),n;if(null!==Js)throw Error(Le(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ys=null,Fu(e),Eu(e)}return null}function Tu(e,t){var n=Qs;Qs|=1;try{return e(t)}finally{0===(Qs=n)&&ya()}}function _u(e,t){var n=Qs;Qs&=-2,Qs|=8;try{return e(t)}finally{0===(Qs=n)&&ya()}}function Pu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Js)for(n=Js.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&Wo();break;case 3:ol(),Ro(Fo),Ro(jo);break;case 5:ll(r);break;case 4:ol();break;case 13:case 19:Ro(sl);break;case 10:Ta(r)}n=n.return}Ys=e,Js=Xu(e.current,null),Xs=t,eu=Ks,tu=null,ru=nu=1073741823,iu=null,ou=0,au=!1}function Mu(e,t){for(;;){try{if(ka(),dl.current=Bl,vl)for(var n=hl.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(pl=0,gl=ml=hl=null,vl=!1,null===Js||null===Js.return)return eu=1,tu=t,Js=null;e:{var i=e,o=Js.return,a=Js,l=t;if(t=Xs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var s=l;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!=(1&sl.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var h=d.memoizedProps;f=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!c)}}if(f){var m=d.updateQueue;if(null===m){var g=new Set;g.add(s),d.updateQueue=g}else m.add(s);if(0==(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=Na(1073741823,null);v.tag=2,Ra(a,v)}a.expirationTime=1073741823;break e}l=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new zs,l=new Set,y.set(s,l)):void 0===(l=y.get(s))&&(l=new Set,y.set(s,l)),!l.has(a)){l.add(a);var b=Gu.bind(null,i,s,a);s.then(b,b)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);l=Error((Bt(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Wt(a))}5!==eu&&(eu=2),l=Os(l,a),d=o;do{switch(d.tag){case 3:s=l,d.effectTag|=4096,d.expirationTime=t,Da(d,Vs(d,s,t));break e;case 1:s=l;var w=d.type,x=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===du||!du.has(x)))){d.effectTag|=4096,d.expirationTime=t,Da(d,Bs(d,s,t));break e}}d=d.return}while(null!==d)}Js=Hu(Js)}catch(e){t=e;continue}break}}function Iu(){var e=$s.current;return $s.current=Bl,null===e?Bl:e}function Lu(e,t){e<nu&&2<e&&(nu=e),null!==t&&e<ru&&2<e&&(ru=e,iu=t)}function Au(e){e>ou&&(ou=e)}function Nu(){for(;null!==Js;)Js=Du(Js)}function Ru(){for(;null!==Js&&!aa();)Js=Du(Js)}function Du(e){var t=Ws(e.alternate,e,Xs);return e.memoizedProps=e.pendingProps,null===t&&(t=Hu(e)),Gs.current=null,t}function Hu(e){Js=e;do{var t=Js.alternate;if(e=Js.return,0==(2048&Js.effectTag)){if(t=Cs(t,Js,Xs),1===Xs||1!==Js.childExpirationTime){for(var n=0,r=Js.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Js.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Js.firstEffect),null!==Js.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Js.firstEffect),e.lastEffect=Js.lastEffect),1<Js.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Js:e.firstEffect=Js,e.lastEffect=Js))}else{if(null!==(t=Es(Js)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Js.sibling))return t;Js=e}while(null!==Js);return eu===Ks&&(eu=5),null}function ju(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Fu(e){var t=pa();return ma(99,zu.bind(null,e,t)),null}function zu(e,t){do{Bu()}while(null!==pu);if(0!=(48&Qs))throw Error(Le(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(Le(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=ju(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ys&&(Js=Ys=null,Xs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Qs;Qs|=32,Gs.current=null,Vr=br;var a=Fr();if(zr(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{var s=(l=(l=a.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(s&&0!==s.rangeCount){l=s.anchorNode;var u=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var d=0,f=-1,p=-1,h=0,m=0,g=a,v=null;t:for(;;){for(var y;g!==l||0!==u&&3!==g.nodeType||(f=d+u),g!==c||0!==s&&3!==g.nodeType||(p=d+s),3===g.nodeType&&(d+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===a)break t;if(v===l&&++h===u&&(f=d),v===c&&++m===s&&(p=d),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}l=-1===f||-1===p?null:{start:f,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;Br={activeElementDetached:null,focusedElem:a,selectionRange:l},br=!1,su=i;do{try{Vu()}catch(e){if(null===su)throw Error(Le(330));$u(su,e),su=su.nextEffect}}while(null!==su);su=i;do{try{for(a=e,l=t;null!==su;){var b=su.effectTag;if(16&b&&pn(su.stateNode,""),128&b){var w=su.alternate;if(null!==w){var x=w.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&b){case 2:Ds(su),su.effectTag&=-3;break;case 6:Ds(su),su.effectTag&=-3,js(su.alternate,su);break;case 1024:su.effectTag&=-1025;break;case 1028:su.effectTag&=-1025,js(su.alternate,su);break;case 4:js(su.alternate,su);break;case 8:Hs(a,u=su,l),Ns(u)}su=su.nextEffect}}catch(e){if(null===su)throw Error(Le(330));$u(su,e),su=su.nextEffect}}while(null!==su);if(x=Br,w=Fr(),b=x.focusedElem,l=x.selectionRange,w!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==l&&zr(b)&&(w=l.start,void 0===(x=l.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),u=b.textContent.length,a=Math.min(l.start,u),l=void 0===l.end?a:Math.min(l.end,u),!x.extend&&a>l&&(u=l,l=a,a=u),u=jr(b,a),c=jr(b,l),u&&c&&(1!==x.rangeCount||x.anchorNode!==u.node||x.anchorOffset!==u.offset||x.focusNode!==c.node||x.focusOffset!==c.offset)&&((w=w.createRange()).setStart(u.node,u.offset),x.removeAllRanges(),a>l?(x.addRange(w),x.extend(c.node,c.offset)):(w.setEnd(c.node,c.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}br=!!Vr,Br=Vr=null,e.current=n,su=i;do{try{for(b=e;null!==su;){var S=su.effectTag;if(36&S&&Ls(b,su.alternate,su),128&S){w=void 0;var C=su.ref;if(null!==C){var E=su.stateNode;switch(su.tag){case 5:w=E;break;default:w=E}"function"==typeof C?C(w):C.current=w}}su=su.nextEffect}}catch(e){if(null===su)throw Error(Le(330));$u(su,e),su=su.nextEffect}}while(null!==su);su=null,la(),Qs=o}else e.current=n;if(fu)fu=!1,pu=e,hu=t;else for(su=i;null!==su;)t=su.nextEffect,su.nextEffect=null,su=t;if(0===(t=e.firstPendingTime)&&(du=null),1073741823===t?e===vu?gu++:(gu=0,vu=e):gu=0,"function"==typeof qu&&qu(n.stateNode,r),Eu(e),uu)throw uu=!1,e=cu,cu=null,e;return 0!=(8&Qs)||ya(),null}function Vu(){for(;null!==su;){var e=su.effectTag;0!=(256&e)&&Ps(su.alternate,su),0==(512&e)||fu||(fu=!0,ga(97,(function(){return Bu(),null}))),su=su.nextEffect}}function Bu(){if(90!==hu){var e=97<hu?97:hu;return hu=90,ma(e,Wu)}}function Wu(){if(null===pu)return!1;var e=pu;if(pu=null,0!=(48&Qs))throw Error(Le(331));var t=Qs;for(Qs|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:Ms(5,n),Is(5,n)}}catch(t){if(null===e)throw Error(Le(330));$u(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Qs=t,ya(),!0}function Uu(e,t,n){Ra(e,t=Vs(e,t=Os(n,t),1073741823)),null!==(e=Su(e,1073741823))&&Eu(e)}function $u(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===du||!du.has(r))){Ra(n,e=Bs(n,e=Os(t,e),1073741823)),null!==(n=Su(n,1073741823))&&Eu(n);break}}n=n.return}}function Gu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ys===e&&Xs===n?eu===Zs||eu===qs&&1073741823===nu&&fa()-lu<500?Pu(e,Xs):au=!0:oc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Eu(e)))}function Ku(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(t=wu(t=bu(),e,null)),null!==(e=Su(e,t))&&Eu(e)}Ws=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||Fo.current)ns=!0;else{if(r<n){switch(ns=!1,t.tag){case 3:ds(t),es();break;case 5:if(al(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Bo(t.type)&&Go(t);break;case 4:il(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,Do(Sa,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?vs(e,t,n):(Do(sl,1&sl.current),null!==(t=xs(e,t,n))?t.sibling:null);Do(sl,1&sl.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return ws(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),Do(sl,sl.current),!r)return null}return xs(e,t,n)}ns=!1}}else ns=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Vo(t,jo.current),Pa(t,n),i=wl(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bo(r)){var o=!0;Go(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,La(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&Va(t,r,a,e),i.updater=Ba,t.stateNode=i,i._reactInternalFiber=t,Ga(t,r,e,n),t=cs(null,t,r,!0,o,n)}else t.tag=0,rs(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return Ju(e)?1:0;if(null!=e){if((e=e.$$typeof)===Nt)return 11;if(e===Ht)return 14}return 2}(i),e=xa(i,e),o){case 0:t=ss(null,t,i,e,n);break e;case 1:t=us(null,t,i,e,n);break e;case 11:t=is(null,t,i,e,n);break e;case 14:t=os(null,t,i,xa(i.type,e),r,n);break e}throw Error(Le(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,ss(e,t,r,i=t.elementType===r?i:xa(r,i),n);case 1:return r=t.type,i=t.pendingProps,us(e,t,r,i=t.elementType===r?i:xa(r,i),n);case 3:if(ds(t),r=t.updateQueue,null===e||null===r)throw Error(Le(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,Aa(e,t),Ha(t,r,null,n),(r=t.memoizedState.element)===i)es(),t=xs(e,t,n);else{if((i=t.stateNode.hydrate)&&(Kl=Kr(t.stateNode.containerInfo.firstChild),Gl=t,i=ql=!0),i)for(n=Ja(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else rs(e,t,r,n),es();t=t.child}return t;case 5:return al(t),null===e&&Yl(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,Ur(r,i)?a=null:null!==o&&Ur(r,o)&&(t.effectTag|=16),ls(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(rs(e,t,a,n),t=t.child),t;case 6:return null===e&&Yl(t),null;case 13:return vs(e,t,n);case 4:return il(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):rs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,is(e,t,r,i=t.elementType===r?i:xa(r,i),n);case 7:return rs(e,t,t.pendingProps,n),t.child;case 8:case 12:return rs(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var l=t.type._context;if(Do(Sa,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0==(o=uo(l,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!Fo.current){t=xs(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var s=l.dependencies;if(null!==s){a=l.child;for(var u=s.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&o)){1===l.tag&&((u=Na(n,null)).tag=2,Ra(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),_a(l.return,n),s.expirationTime<n&&(s.expirationTime=n);break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}rs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Pa(t,n),r=r(i=Ma(i,o.unstable_observedBits)),t.effectTag|=1,rs(e,t,r,n),t.child;case 14:return o=xa(i=t.type,t.pendingProps),os(e,t,i,o=xa(i.type,o),r,n);case 15:return as(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xa(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Bo(r)?(e=!0,Go(t)):e=!1,Pa(t,n),Ua(t,r,i),Ga(t,r,i,n),cs(null,t,r,!0,e,n);case 19:return ws(e,t,n)}throw Error(Le(156,t.tag))};var qu=null,Zu=null;function Qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Yu(e,t,n,r){return new Qu(e,t,n,r)}function Ju(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Xu(e,t){var n=e.alternate;return null===n?((n=Yu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ec(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)Ju(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case _t:return tc(n.children,i,o,t);case At:a=8,i|=7;break;case Pt:a=8,i|=1;break;case Mt:return(e=Yu(12,n,t,8|i)).elementType=Mt,e.type=Mt,e.expirationTime=o,e;case Rt:return(e=Yu(13,n,t,i)).type=Rt,e.elementType=Rt,e.expirationTime=o,e;case Dt:return(e=Yu(19,n,t,i)).elementType=Dt,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case It:a=10;break e;case Lt:a=9;break e;case Nt:a=11;break e;case Ht:a=14;break e;case jt:a=16,r=null;break e;case Ft:a=22;break e}throw Error(Le(130,null==e?e:typeof e,""))}return(t=Yu(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function tc(e,t,n,r){return(e=Yu(7,e,r,t)).expirationTime=n,e}function nc(e,t,n){return(e=Yu(6,e,null,t)).expirationTime=n,e}function rc(e,t,n){return(t=Yu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ic(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function oc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function ac(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function lc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function sc(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function uc(e,t,n,r){var i=t.current,o=bu(),a=Fa.suspense;o=wu(o,i,a);e:if(n){t:{if(kn(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(Le(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Bo(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(Le(171))}if(1===n.tag){var s=n.type;if(Bo(s)){n=$o(n,s,l);break e}}n=l}else n=Ho;return null===t.context?t.context=n:t.pendingContext=n,(t=Na(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Ra(i,t),xu(i,o),o}function cc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function dc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function fc(e,t){dc(e,t),(e=e.alternate)&&dc(e,t)}function pc(e,t,n){var r=new ic(e,t,n=null!=n&&!0===n.hydrate),i=Yu(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,La(i),e[Jr]=r.current,n&&0!==t&&function(e,t){var n=On(t);Xn.forEach((function(e){Vn(e,t,n)})),er.forEach((function(e){Vn(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function hc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function mc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var l=i;i=function(){var e=cc(a);l.call(e)}}uc(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new pc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var s=i;i=function(){var e=cc(a);s.call(e)}}_u((function(){uc(t,a,e,i)}))}return cc(a)}function gc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Tt,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function vc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!hc(t))throw Error(Le(200));return gc(e,t,null,n)}pc.prototype.render=function(e){uc(e,this._internalRoot,null,null)},pc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;uc(null,e,null,(function(){t[Jr]=null}))},Bn=function(e){if(13===e.tag){var t=wa(bu(),150,100);xu(e,t),fc(e,t)}},Wn=function(e){13===e.tag&&(xu(e,3),fc(e,3))},Un=function(e){if(13===e.tag){var t=bu();xu(e,t=wu(t,e,null)),fc(e,t)}},et=function(e,t,n){switch(t){case"input":if(Yt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ni(r);if(!i)throw Error(Le(90));Kt(r),Yt(r,i)}}}break;case"textarea":on(e,n);break;case"select":null!=(t=n.value)&&tn(e,!!n.multiple,t,!1)}},at=Tu,lt=function(e,t,n,r,i){var o=Qs;Qs|=4;try{return ma(98,e.bind(null,t,n,r,i))}finally{0===(Qs=o)&&ya()}},st=function(){0==(49&Qs)&&(function(){if(null!==mu){var e=mu;mu=null,e.forEach((function(e,t){sc(t,e),Eu(t)})),ya()}}(),Bu())},ut=function(e,t){var n=Qs;Qs|=2;try{return e(t)}finally{0===(Qs=n)&&ya()}};var yc={Events:[ei,ti,ni,Je,Ze,ui,function(e){In(e,si)},it,ot,Er,Nn,Bu,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;!function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);qu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Zu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Pn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Xr,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yc,Ie.createPortal=vc,Ie.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(Le(188));throw Error(Le(268,Object.keys(e)))}return null===(e=Pn(t))?null:e.stateNode},Ie.flushSync=function(e,t){if(0!=(48&Qs))throw Error(Le(187));var n=Qs;Qs|=1;try{return ma(99,e.bind(null,t))}finally{Qs=n,ya()}},Ie.hydrate=function(e,t,n){if(!hc(t))throw Error(Le(200));return mc(null,e,t,!0,n)},Ie.render=function(e,t,n){if(!hc(t))throw Error(Le(200));return mc(null,e,t,!1,n)},Ie.unmountComponentAtNode=function(e){if(!hc(e))throw Error(Le(40));return!!e._reactRootContainer&&(_u((function(){mc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Jr]=null}))})),!0)},Ie.unstable_batchedUpdates=Tu,Ie.unstable_createPortal=function(e,t){return vc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},Ie.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hc(n))throw Error(Le(200));if(null==e||void 0===e._reactInternalFiber)throw Error(Le(38));return mc(e,t,n,!1,r)},Ie.version="16.13.1";var bc={};(function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}})(),bc=Ie;var wc={exports:{}};!function(e,t){var n={};e.PubSub=n;var r=e.define;!function(e){var t={},n=-1;function r(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function i(e,t,n){e(t,n)}function o(e,n,o,a){var l,s=t[n],u=a?i:r;if(t.hasOwnProperty(n))for(l in s)s.hasOwnProperty(l)&&u(s[l],e,o)}function a(e){var n=String(e);return Boolean(t.hasOwnProperty(n)&&function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}(t[n]))}function l(e,t,n,r){var i=function(e,t,n){return function(){var r=String(e),i=r.lastIndexOf(".");for(o(e,e,t,n);-1!==i;)i=(r=r.substr(0,i)).lastIndexOf("."),o(e,r,t,n);o(e,"*",t,n)}}(e="symbol"==typeof e?e.toString():e,t,r);return!!function(e){for(var t=String(e),n=a(t)||a("*"),r=t.lastIndexOf(".");!n&&-1!==r;)r=(t=t.substr(0,r)).lastIndexOf("."),n=a(t);return n}(e)&&(!0===n?i():setTimeout(i,0),!0)}e.publish=function(t,n){return l(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return l(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,r){if("function"!=typeof r)return!1;e="symbol"==typeof e?e.toString():e,t.hasOwnProperty(e)||(t[e]={});var i="uid_"+String(++n);return t[e][i]=r,i},e.subscribeAll=function(t){return e.subscribe("*",t)},e.subscribeOnce=function(t,n){var r=e.subscribe(t,(function(){e.unsubscribe(r),n.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&delete t[n]},e.countSubscriptions=function(e){var n,r=0;for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&r++;return r},e.getSubscriptions=function(e){var n,r=[];for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&r.push(n);return r},e.unsubscribe=function(n){var r,i,o,a="string"==typeof n&&(t.hasOwnProperty(n)||function(e){var n;for(n in t)if(t.hasOwnProperty(n)&&0===n.indexOf(e))return!0;return!1}(n)),l=!a&&"string"==typeof n,s="function"==typeof n,u=!1;if(!a){for(r in t)if(t.hasOwnProperty(r)){if(i=t[r],l&&i[n]){delete i[n],u=n;break}if(s)for(o in i)i.hasOwnProperty(o)&&i[o]===n&&(delete i[o],u=!0)}return u}e.clearSubscriptions(n)}}(n),"function"==typeof r&&r.amd?r((function(){return n})):"object"==typeof wc.exports&&(void 0!==wc&&wc.exports&&(wc.exports=wc.exports=n),wc.exports.PubSub=n,wc.exports=wc.exports=n)}("object"==typeof window&&window||this),wc=wc.exports;var xc={},Sc=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cc=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xc,"__esModule",{value:!0});var Ec=Cc(wc),Oc=function(){function e(){this.CHANGE_EVT="CHANGE",this.PubSub=Ec.default}return e.join=function(t){var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Sc(t,e),t}(e);return t.forEach((function(e){var t=n.prototype,r=e.prototype;Object.getOwnPropertyNames(r).filter((function(e){return"function"==typeof r[e]&&"constructor"!==e})).forEach((function(e){t[e]=r[e]}))})),n},Object.defineProperty(e.prototype,"reflect",{get:function(){return this},enumerable:!0,configurable:!0}),e.prototype.sub=function(e,t){var n=this.getTopic(t);return this.PubSub.subscribe(n,e)},e.prototype.pub=function(e,t){var n=this.getTopic(t);this.PubSub.publish(n,e)},e.prototype.unsub=function(e){this.PubSub.unsubscribe(e)},e.prototype.getTopic=function(e){return this.CHANGE_EVT+(e?"."+e:"")},e}();xc.BaseStateManager=Oc;var kc={},Tc=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_c=this&&this.__assign||function(){return(_c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Pc=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},Mc=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Ic=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r};Object.defineProperty(kc,"__esModule",{value:!0});var Lc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.STATE_NAME_ERR="already exists in app state or app state handler",t}return Tc(t,e),t.prototype.transformStateConfigs=function(e){var t=this,n=e.root;if(n){var r=n[0],i=n[1];return{appState:r,appStateHandle:this.getProxyStateHandler(i)}}return Object.entries(e).reduce((function(e,n){var r=n[0],i=n[1],o=e.appState,a=e.appStateHandle;t.checkStateName(r,o,a);var l=i[0],s=i[1];return o[r]=l,a[r]=t.getProxyStateHandler(s,r),e}),{appState:{},appStateHandle:{}})},t.prototype.getProxyStateHandler=function(e,t){var n=this,r=this.getAllowedMethodNames(e),i=this.getModPartialState.bind(this),o=this.updateState.bind(this);return new Proxy(e,{get:function(a,l,s){var u=a[l];return-1===r.indexOf(l)?u:function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return Pc(n,void 0,void 0,(function(){var n,a;return Mc(this,(function(l){switch(l.label){case 0:return(n=i(u,s,r))?n instanceof Promise?[4,n]:[3,2]:[2];case 1:return a=l.sent(),o(a,e,t),[3,3];case 2:o(n,e,t),l.label=3;case 3:return[2]}}))}))}}})},t.prototype.getAllowedMethodNames=function(e){var t=Object.getPrototypeOf(e);return Object.getOwnPropertyNames(t).filter((function(e){var n=Object.getOwnPropertyDescriptor(t,e),r=n.get,i=n.set,o=n.value;return"constructor"!==e&&"function"==typeof o&&!r&&!i}))},t.prototype.getModPartialState=function(e,t,n){return e.apply(t,Ic([this.state],n))},t.prototype.updateState=function(e,t,n){var r,i=this.state,o=_c(_c({},i),n?((r={})[n]=_c(_c({},i[n]),e),r):e),a={prev:i,curr:o};this.setState(o,(function(){return t.pub(a,n)}))},t.prototype.checkStateName=function(e,t,n){if(e in t||e in n)throw new Error(e+" "+this.STATE_NAME_ERR)},t}(q.Component);kc.BaseStateComponent=Lc;var Ac={},Nc=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rc=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ac,"__esModule",{value:!0});var Dc=Rc(q);Ac.StateHandle={BaseStateManager:xc.BaseStateManager,init:function(e,t){return function(n){function r(e){var r=n.call(this,e)||this,i=r.transformStateConfigs(t),o=i.appState,a=i.appStateHandle;return r.state=o,r.appStateHandle=a,r}return Nc(r,n),r.prototype.render=function(){return Dc.default.createElement(e,{appState:this.state,appStateHandle:this.appStateHandle})},r}(kc.BaseStateComponent)}};var Hc={exports:{}};(function(e){!function(t){var n="object"==typeof Hc.exports&&Hc.exports&&!Hc.exports.nodeType&&Hc.exports,r=Hc&&!Hc.nodeType&&Hc,i="object"==typeof e&&e;i.global!==i&&i.window!==i&&i.self!==i||(t=i);var o,a,l=2147483647,s=36,u=/^xn--/,c=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function m(e){throw new RangeError(f[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function v(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+h(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=s)e=p(e/35);return p(r+36*e/(e+38))}function S(e){var t,n,r,i,o,a,u,c,d,f,h,g=[],v=e.length,y=0,w=128,S=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(o=y,a=1,u=s;i>=v&&m("invalid-input"),((c=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:s)>=s||c>p((l-y)/a))&&m("overflow"),y+=c*a,!(c<(d=u<=S?1:u>=S+26?26:u-S));u+=s)a>p(l/(f=s-d))&&m("overflow"),a*=f;S=x(y-o,t=g.length+1,0==o),p(y/t)>l-w&&m("overflow"),w+=p(y/t),y%=t,g.splice(y++,0,w)}return b(g)}function C(e){var t,n,r,i,o,a,u,c,d,f,g,v,b,S,C,E=[];for(v=(e=y(e)).length,t=128,n=0,o=72,a=0;a<v;++a)(g=e[a])<128&&E.push(h(g));for(r=i=E.length,i&&E.push("-");r<v;){for(u=l,a=0;a<v;++a)(g=e[a])>=t&&g<u&&(u=g);for(u-t>p((l-n)/(b=r+1))&&m("overflow"),n+=(u-t)*b,t=u,a=0;a<v;++a)if((g=e[a])<t&&++n>l&&m("overflow"),g==t){for(c=n,d=s;!(c<(f=d<=o?1:d>=o+26?26:d-o));d+=s)C=c-f,S=s-f,E.push(h(w(f+C%S,0))),c=p(C/S);E.push(h(w(c,0))),o=x(n,b,r==i),n=0,++r}++n,++t}return E.join("")}if(o={version:"1.4.1",ucs2:{decode:y,encode:b},decode:S,encode:C,toASCII:function(e){return v(e,(function(e){return c.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return v(e,(function(e){return u.test(e)?S(e.slice(4).toLowerCase()):e}))}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",(function(){return o}));else if(n&&r)if(Hc.exports==n)r.exports=o;else for(a in o)o.hasOwnProperty(a)&&(n[a]=o[a]);else t.punycode=o}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),Hc=Hc.exports;var jc=function(e){return"string"==typeof e},Fc=function(e){return"object"==typeof e&&null!==e},zc=function(e){return null===e},Vc=function(e){return null==e};function Bc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Wc=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Uc=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},$c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function Gc(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var Kc=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},qc={parse:function(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var l=e.length;a>0&&l>a&&(l=a);for(var s=0;s<l;++s){var u,c,d,f,p=e[s].replace(o,"%20"),h=p.indexOf(n);h>=0?(u=p.substr(0,h),c=p.substr(h+1)):(u=p,c=""),d=decodeURIComponent(u),f=decodeURIComponent(c),Bc(i,d)?Wc(i[d])?i[d].push(f):i[d]=[i[d],f]:i[d]=f}return i},stringify:function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Gc(Kc(e),(function(r){var i=encodeURIComponent(Uc(r))+n;return $c(e[r])?Gc(e[r],(function(e){return i+encodeURIComponent(Uc(e))})).join(t):i+encodeURIComponent(Uc(e[r]))})).join(t):r?encodeURIComponent(Uc(r))+n+encodeURIComponent(Uc(e)):""}},Zc={};function Qc(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}Zc.parse=ud,Zc.resolve=function(e,t){return ud(e,!1,!0).resolve(t)};var Yc=/^([a-z0-9.+-]+:)/i,Jc=/:[0-9]*$/,Xc=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ed=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),td=["'"].concat(ed),nd=["%","/","?",";","#"].concat(td),rd=["/","?","#"],id=/^[+a-z0-9A-Z_-]{0,63}$/,od=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ad={javascript:!0,"javascript:":!0},ld={javascript:!0,"javascript:":!0},sd={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function ud(e,t,n){if(e&&Fc(e)&&e instanceof Qc)return e;var r=new Qc;return r.parse(e,t,n),r}Qc.prototype.parse=function(e,t,n){if(!jc(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var a=e=o.join(i);if(a=a.trim(),!n&&1===e.split("#").length){var l=Xc.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],this.query=t?qc.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var s=Yc.exec(a);if(s){var u=(s=s[0]).toLowerCase();this.protocol=u,a=a.substr(s.length)}if(n||s||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===a.substr(0,2);!c||s&&ld[s]||(a=a.substr(2),this.slashes=!0)}if(!ld[s]&&(c||s&&!sd[s])){for(var d,f,p=-1,h=0;h<rd.length;h++)-1!==(m=a.indexOf(rd[h]))&&(-1===p||m<p)&&(p=m);for(-1!==(f=-1===p?a.lastIndexOf("@"):a.lastIndexOf("@",p))&&(d=a.slice(0,f),a=a.slice(f+1),this.auth=decodeURIComponent(d)),p=-1,h=0;h<nd.length;h++){var m;-1!==(m=a.indexOf(nd[h]))&&(-1===p||m<p)&&(p=m)}-1===p&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var v=this.hostname.split(/\./),y=(h=0,v.length);h<y;h++){var b=v[h];if(b&&!b.match(id)){for(var w="",x=0,S=b.length;x<S;x++)b.charCodeAt(x)>127?w+="x":w+=b[x];if(!w.match(id)){var C=v.slice(0,h),E=v.slice(h+1),O=b.match(od);O&&(C.push(O[1]),E.unshift(O[2])),E.length&&(a="/"+E.join(".")+a),this.hostname=C.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=Hc.toASCII(this.hostname));var k=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+k,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!ad[u])for(h=0,y=td.length;h<y;h++){var _=td[h];if(-1!==a.indexOf(_)){var P=encodeURIComponent(_);P===_&&(P=escape(_)),a=a.split(_).join(P)}}var M=a.indexOf("#");-1!==M&&(this.hash=a.substr(M),a=a.slice(0,M));var I=a.indexOf("?");if(-1!==I?(this.search=a.substr(I),this.query=a.substr(I+1),t&&(this.query=qc.parse(this.query)),a=a.slice(0,I)):t&&(this.search="",this.query={}),a&&(this.pathname=a),sd[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var L=this.search||"";this.path=k+L}return this.href=this.format(),this},Qc.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Fc(this.query)&&Object.keys(this.query).length&&(o=qc.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||sd[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},Qc.prototype.resolve=function(e){return this.resolveObject(ud(e,!1,!0)).format()},Qc.prototype.resolveObject=function(e){if(jc(e)){var t=new Qc;t.parse(e,!1,!0),e=t}for(var n=new Qc,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),l=0;l<a.length;l++){var s=a[l];"protocol"!==s&&(n[s]=e[s])}return sd[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!sd[e.protocol]){for(var u=Object.keys(e),c=0;c<u.length;c++){var d=u[c];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||ld[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var p=n.pathname||"",h=n.search||"";n.path=p+h}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),g=e.host||e.pathname&&"/"===e.pathname.charAt(0),v=g||m||n.host&&e.pathname,y=v,b=n.pathname&&n.pathname.split("/")||[],w=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!sd[n.protocol]);if(w&&(n.hostname="",n.port=null,n.host&&(""===b[0]?b[0]=n.host:b.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),v=v&&(""===f[0]||""===b[0])),g)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,b=f;else if(f.length)b||(b=[]),b.pop(),b=b.concat(f),n.search=e.search,n.query=e.query;else if(!Vc(e.search))return w&&(n.hostname=n.host=b.shift(),(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift())),n.search=e.search,n.query=e.query,zc(n.pathname)&&zc(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=b.slice(-1)[0],S=(n.host||e.host||b.length>1)&&("."===x||".."===x)||""===x,C=0,E=b.length;E>=0;E--)"."===(x=b[E])?b.splice(E,1):".."===x?(b.splice(E,1),C++):C&&(b.splice(E,1),C--);if(!v&&!y)for(;C--;C)b.unshift("..");!v||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),S&&"/"!==b.join("/").substr(-1)&&b.push("");var O,k=""===b[0]||b[0]&&"/"===b[0].charAt(0);return w&&(n.hostname=n.host=k?"":b.length?b.shift():"",(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift())),(v=v||n.host&&b.length)&&!k&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),zc(n.pathname)&&zc(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},Qc.prototype.parseHost=function(){var e=this.host,t=Jc.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var cd={},dd=function(e,t,n,r,i,o){if(Array.isArray(r)?(this.path=r,this.property=r.reduce((function(e,t){return e+yd(t)}),"instance")):void 0!==r&&(this.property=r),e&&(this.message=e),n){var a=n.$id||n.id;this.schema=a||n}void 0!==t&&(this.instance=t),this.name=i,this.argument=o,this.stack=this.toString()};dd.prototype.toString=function(){return this.property+" "+this.message};var fd=cd.ValidatorResult=function(e,t,n,r){this.instance=e,this.schema=t,this.options=n,this.path=r.path,this.propertyPath=r.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.throwFirst=n&&n.throwFirst,this.throwAll=n&&n.throwAll,this.disableFormat=n&&!0===n.disableFormat};function pd(e,t){return t+": "+e.toString()+"\n"}function hd(e){Error.captureStackTrace&&Error.captureStackTrace(this,hd),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}fd.prototype.addError=function(e){var t;if("string"==typeof e)t=new dd(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new dd(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new hd(this);if(this.throwError)throw t;return t},fd.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)},fd.prototype.toString=function(e){return this.errors.map(pd).join("")},Object.defineProperty(fd.prototype,"valid",{get:function(){return!this.errors.length}}),cd.ValidatorResultError=hd,hd.prototype=new Error,hd.prototype.constructor=hd,hd.prototype.name="Validation Error";var md=cd.SchemaError=function e(t,n){this.message=t,this.schema=n,Error.call(this,t),Error.captureStackTrace(this,e)};md.prototype=Object.create(Error.prototype,{constructor:{value:md,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var gd=cd.SchemaContext=function(e,t,n,r,i){this.schema=e,this.options=t,Array.isArray(n)?(this.path=n,this.propertyPath=n.reduce((function(e,t){return e+yd(t)}),"instance")):this.propertyPath=n,this.base=r,this.schemas=i};gd.prototype.resolve=function(e){return Zc.resolve(this.base,e)},gd.prototype.makeChild=function(e,t){var n=void 0===t?this.path:this.path.concat([t]),r=e.$id||e.id,i=Zc.resolve(this.base,r||""),o=new gd(e,this.options,n,i,Object.create(this.schemas));return r&&!o.schemas[i]&&(o.schemas[i]=e),o};var vd={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};vd.regexp=vd.regex,vd.pattern=vd.regex,vd.ipv4=vd["ip-address"],cd.isFormat=function(e,t,n){if("string"==typeof e&&void 0!==vd[t]){if(vd[t]instanceof RegExp)return vd[t].test(e);if("function"==typeof vd[t])return vd[t](e)}else if(n&&n.customFormats&&"function"==typeof n.customFormats[t])return n.customFormats[t](e);return!0};var yd=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function bd(e,t,n,r){"object"==typeof n?t[r]=Sd(e[r],n):-1===e.indexOf(n)&&t.push(n)}function wd(e,t,n){t[n]=e[n]}function xd(e,t,n,r){"object"==typeof t[r]&&t[r]&&e[r]?n[r]=Sd(e[r],t[r]):n[r]=t[r]}function Sd(e,t){var n=Array.isArray(t),r=n&&[]||{};return n?(e=e||[],r=r.concat(e),t.forEach(bd.bind(null,e,r))):(e&&"object"==typeof e&&Object.keys(e).forEach(wd.bind(null,e,r)),Object.keys(t).forEach(xd.bind(null,e,t,r))),r}cd.deepCompareStrict=function e(t,n){if(typeof t!=typeof n)return!1;if(Array.isArray(t))return!!Array.isArray(n)&&t.length===n.length&&t.every((function(r,i){return e(t[i],n[i])}));if("object"==typeof t){if(!t||!n)return t===n;var r=Object.keys(t),i=Object.keys(n);return r.length===i.length&&r.every((function(r){return e(t[r],n[r])}))}return t===n},cd.deepMerge=Sd,cd.objectGetPath=function(e,t){for(var n,r=t.split("/").slice(1);"string"==typeof(n=r.shift());){var i=decodeURIComponent(n.replace(/~0/,"~").replace(/~1/g,"/"));if(!(i in e))return;e=e[i]}return e},cd.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var n=e.toString().split("e");if(2===n.length){if("-"!==n[1][0])return t;t=Number(n[1].slice(1))}var r=n[0].split(".");return 2===r.length&&(t+=r[1].length),t},cd.isSchema=function(e){return"object"==typeof e&&e||"boolean"==typeof e};var Cd,Ed=cd.ValidatorResult,Od=cd.SchemaError,kd={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},Td=kd.validators={};function _d(e,t,n,r,i){var o=t.throwError,a=t.throwAll;t.throwError=!1,t.throwAll=!1;var l=this.validateSchema(e,i,t,n);return t.throwError=o,t.throwAll=a,!l.valid&&r instanceof Function&&r(l),l.valid}function Pd(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e)for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}function Md(e,t,n,r,i,o){if(this.types.object(e)&&(!t.properties||void 0===t.properties[i]))if(!1===t.additionalProperties)o.addError({name:"additionalProperties",argument:i,message:"is not allowed to have the additional property "+JSON.stringify(i)});else{var a=t.additionalProperties||{};"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,i,a,n,r);var l=this.validateSchema(e[i],a,n,r.makeChild(a,i));l.instance!==o.instance[i]&&(o.instance[i]=l.instance),o.importErrors(l)}}Td.type=function(e,t,n,r){if(void 0===e)return null;var i=new Ed(e,t,n,r),o=Array.isArray(t.type)?t.type:[t.type];if(!o.some(this.testType.bind(this,e,t,n,r))){var a=o.map((function(e){if(e){var t=e.$id||e.id;return t?"<"+t+">":e+""}}));i.addError({name:"type",argument:a,message:"is not of a type(s) "+a})}return i},Td.anyOf=function(e,t,n,r){if(void 0===e)return null;var i=new Ed(e,t,n,r),o=new Ed(e,t,n,r);if(!Array.isArray(t.anyOf))throw new Od("anyOf must be an array");if(!t.anyOf.some(_d.bind(this,e,n,r,(function(e){o.importErrors(e)})))){var a=t.anyOf.map((function(e,t){var n=e.$id||e.id;return n?"<"+n+">":e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));n.nestedErrors&&i.importErrors(o),i.addError({name:"anyOf",argument:a,message:"is not any of "+a.join(",")})}return i},Td.allOf=function(e,t,n,r){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new Od("allOf must be an array");var i=new Ed(e,t,n,r),o=this;return t.allOf.forEach((function(t,a){var l=o.validateSchema(e,t,n,r);if(!l.valid){var s=t.$id||t.id||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+a+"]";i.addError({name:"allOf",argument:{id:s,length:l.errors.length,valid:l},message:"does not match allOf schema "+s+" with "+l.errors.length+" error[s]:"}),i.importErrors(l)}})),i},Td.oneOf=function(e,t,n,r){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new Od("oneOf must be an array");var i=new Ed(e,t,n,r),o=new Ed(e,t,n,r),a=t.oneOf.filter(_d.bind(this,e,n,r,(function(e){o.importErrors(e)}))).length,l=t.oneOf.map((function(e,t){return e.$id||e.id||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));return 1!==a&&(n.nestedErrors&&i.importErrors(o),i.addError({name:"oneOf",argument:l,message:"is not exactly one from "+l.join(",")})),i},Td.if=function(e,t,n,r){if(void 0===e)return null;if(!cd.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var i,o=_d.call(this,e,n,r,null,t.if),a=new Ed(e,t,n,r);if(o){if(void 0===t.then)return;if(!cd.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');i=this.validateSchema(e,t.then,n,r.makeChild(t.then)),a.importErrors(i)}else{if(void 0===t.else)return;if(!cd.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');i=this.validateSchema(e,t.else,n,r.makeChild(t.else)),a.importErrors(i)}return a},Td.propertyNames=function(e,t,n,r){if(this.types.object(e)){var i=new Ed(e,t,n,r),o=void 0!==t.propertyNames?t.propertyNames:{};if(!cd.isSchema(o))throw new Od('Expected "propertyNames" to be a schema (object or boolean)');for(var a in e)if(void 0!==Pd(e,a)){var l=this.validateSchema(a,o,n,r.makeChild(o));i.importErrors(l)}return i}},Td.properties=function(e,t,n,r){if(this.types.object(e)){var i=new Ed(e,t,n,r),o=t.properties||{};for(var a in o){var l=o[a];if(void 0!==l){if(null===l)throw new Od('Unexpected null, expected schema in "properties"');"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,a,l,n,r);var s=Pd(e,a),u=this.validateSchema(s,l,n,r.makeChild(l,a));u.instance!==i.instance[a]&&(i.instance[a]=u.instance),i.importErrors(u)}}return i}},Td.patternProperties=function(e,t,n,r){if(this.types.object(e)){var i=new Ed(e,t,n,r),o=t.patternProperties||{};for(var a in e){var l=!0;for(var s in o){var u=o[s];if(void 0!==u){if(null===u)throw new Od('Unexpected null, expected schema in "patternProperties"');try{var c=new RegExp(s,"u")}catch(e){c=new RegExp(s)}if(c.test(a)){l=!1,"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,a,u,n,r);var d=this.validateSchema(e[a],u,n,r.makeChild(u,a));d.instance!==i.instance[a]&&(i.instance[a]=d.instance),i.importErrors(d)}}}l&&Md.call(this,e,t,n,r,a,i)}return i}},Td.additionalProperties=function(e,t,n,r){if(this.types.object(e)){if(t.patternProperties)return null;var i=new Ed(e,t,n,r);for(var o in e)Md.call(this,e,t,n,r,o,i);return i}},Td.minProperties=function(e,t,n,r){if(this.types.object(e)){var i=new Ed(e,t,n,r);return Object.keys(e).length>=t.minProperties||i.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),i}},Td.maxProperties=function(e,t,n,r){if(this.types.object(e)){var i=new Ed(e,t,n,r);return Object.keys(e).length<=t.maxProperties||i.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),i}},Td.items=function(e,t,n,r){var i=this;if(this.types.array(e)&&t.items){var o=new Ed(e,t,n,r);return e.every((function(e,a){var l=Array.isArray(t.items)?t.items[a]||t.additionalItems:t.items;if(void 0===l)return!0;if(!1===l)return o.addError({name:"items",message:"additionalItems not permitted"}),!1;var s=i.validateSchema(e,l,n,r.makeChild(l,a));return s.instance!==o.instance[a]&&(o.instance[a]=s.instance),o.importErrors(s),!0})),o}},Td.minimum=function(e,t,n,r){if(this.types.number(e)){var i=new Ed(e,t,n,r);return t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum||i.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||i.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),i}},Td.maximum=function(e,t,n,r){if(this.types.number(e)){var i=new Ed(e,t,n,r);return t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum||i.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||i.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),i}},Td.exclusiveMinimum=function(e,t,n,r){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var i=new Ed(e,t,n,r);return e>t.exclusiveMinimum||i.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),i}},Td.exclusiveMaximum=function(e,t,n,r){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var i=new Ed(e,t,n,r);return e<t.exclusiveMaximum||i.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),i}};var Id=function(e,t,n,r,i,o){if(this.types.number(e)){var a=t[i];if(0==a)throw new Od(i+" cannot be zero");var l=new Ed(e,t,n,r),s=cd.getDecimalPlaces(e),u=cd.getDecimalPlaces(a),c=Math.max(s,u),d=Math.pow(10,c);return Math.round(e*d)%Math.round(a*d)!=0&&l.addError({name:i,argument:a,message:o+JSON.stringify(a)}),l}};function Ld(e,t,n){var r,i=n.length;for(r=t+1;r<i;r++)if(cd.deepCompareStrict(e,n[r]))return!1;return!0}Td.multipleOf=function(e,t,n,r){return Id.call(this,e,t,n,r,"multipleOf","is not a multiple of (divisible by) ")},Td.divisibleBy=function(e,t,n,r){return Id.call(this,e,t,n,r,"divisibleBy","is not divisible by (multiple of) ")},Td.required=function(e,t,n,r){var i=new Ed(e,t,n,r);return void 0===e&&!0===t.required?i.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach((function(t){void 0===Pd(e,t)&&i.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})})),i},Td.pattern=function(e,t,n,r){if(this.types.string(e)){var i=new Ed(e,t,n,r),o=t.pattern;try{var a=new RegExp(o,"u")}catch(e){a=new RegExp(o)}return e.match(a)||i.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),i}},Td.format=function(e,t,n,r){if(void 0!==e){var i=new Ed(e,t,n,r);return i.disableFormat||cd.isFormat(e,t.format,this)||i.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),i}},Td.minLength=function(e,t,n,r){if(this.types.string(e)){var i=new Ed(e,t,n,r),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)>=t.minLength||i.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),i}},Td.maxLength=function(e,t,n,r){if(this.types.string(e)){var i=new Ed(e,t,n,r),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)<=t.maxLength||i.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),i}},Td.minItems=function(e,t,n,r){if(this.types.array(e)){var i=new Ed(e,t,n,r);return e.length>=t.minItems||i.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),i}},Td.maxItems=function(e,t,n,r){if(this.types.array(e)){var i=new Ed(e,t,n,r);return e.length<=t.maxItems||i.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),i}},Td.uniqueItems=function(e,t,n,r){if(!0===t.uniqueItems&&this.types.array(e)){var i=new Ed(e,t,n,r);return e.every(Ld)||i.addError({name:"uniqueItems",message:"contains duplicate item"}),i}},Td.dependencies=function(e,t,n,r){if(this.types.object(e)){var i=new Ed(e,t,n,r);for(var o in t.dependencies)if(void 0!==e[o]){var a=t.dependencies[o],l=r.makeChild(a,o);if("string"==typeof a&&(a=[a]),Array.isArray(a))a.forEach((function(t){void 0===e[t]&&i.addError({name:"dependencies",argument:l.propertyPath,message:"property "+t+" not found, required by "+l.propertyPath})}));else{var s=this.validateSchema(e,a,n,l);i.instance!==s.instance&&(i.instance=s.instance),s&&s.errors.length&&(i.addError({name:"dependencies",argument:l.propertyPath,message:"does not meet dependency required by "+l.propertyPath}),i.importErrors(s))}}return i}},Td.enum=function(e,t,n,r){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new Od("enum expects an array",t);var i=new Ed(e,t,n,r);return t.enum.some(cd.deepCompareStrict.bind(null,e))||i.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),i},Td.const=function(e,t,n,r){if(void 0===e)return null;var i=new Ed(e,t,n,r);return cd.deepCompareStrict(t.const,e)||i.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),i},Td.not=Td.disallow=function(e,t,n,r){var i=this;if(void 0===e)return null;var o=new Ed(e,t,n,r),a=t.not||t.disallow;return a?(Array.isArray(a)||(a=[a]),a.forEach((function(a){if(i.testType(e,t,n,r,a)){var l=a&&(a.$id||a.id)||a;o.addError({name:"not",argument:l,message:"is of prohibited type "+l})}})),o):null},Cd=kd;var Ad={};function Nd(e,t){this.id=e,this.ref=t}Ad.scan=function(e,t){function n(e,t){if(t&&"object"==typeof t)if(t.$ref){var l=Zc.resolve(e,t.$ref);a[l]=a[l]?a[l]+1:0}else{var s=t.$id||t.id,u=s?Zc.resolve(e,s):e;if(u){if(u.indexOf("#")<0&&(u+="#"),o[u]){if(!cd.deepCompareStrict(o[u],t))throw new Error("Schema <"+u+"> already exists with different definition");return o[u]}o[u]=t,"#"==u[u.length-1]&&(o[u.substring(0,u.length-1)]=t)}r(u+"/items",Array.isArray(t.items)?t.items:[t.items]),r(u+"/extends",Array.isArray(t.extends)?t.extends:[t.extends]),n(u+"/additionalItems",t.additionalItems),i(u+"/properties",t.properties),n(u+"/additionalProperties",t.additionalProperties),i(u+"/definitions",t.definitions),i(u+"/patternProperties",t.patternProperties),i(u+"/dependencies",t.dependencies),r(u+"/disallow",t.disallow),r(u+"/allOf",t.allOf),r(u+"/anyOf",t.anyOf),r(u+"/oneOf",t.oneOf),n(u+"/not",t.not)}}function r(e,t){if(Array.isArray(t))for(var r=0;r<t.length;r++)n(e+"/"+r,t[r])}function i(e,t){if(t&&"object"==typeof t)for(var r in t)n(e+"/"+r,t[r])}var o={},a={};return n(e,t),new Nd(o,a)};var Rd,Dd=Ad.scan,Hd=cd.ValidatorResult,jd=cd.ValidatorResultError,Fd=cd.SchemaError,zd=cd.SchemaContext,Vd=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(Wd),this.attributes=Object.create(Cd.validators)};function Bd(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}Vd.prototype.customFormats={},Vd.prototype.schemas=null,Vd.prototype.types=null,Vd.prototype.attributes=null,Vd.prototype.unresolvedRefs=null,Vd.prototype.addSchema=function(e,t){var n=this;if(!e)return null;var r=Dd(t||"/",e),i=t||e.$id||e.id;for(var o in r.id)this.schemas[o]=r.id[o];for(var o in r.ref)this.unresolvedRefs.push(o);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===n.schemas[e]})),this.schemas[i]},Vd.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])},Vd.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var n in t)this.addSubSchema(e,t[n])},Vd.prototype.setSchemas=function(e){this.schemas=e},Vd.prototype.getSchema=function(e){return this.schemas[e]},Vd.prototype.validate=function(e,t,n,r){if("boolean"!=typeof t&&"object"!=typeof t||null===t)throw new Fd("Expected `schema` to be an object or boolean");n||(n={});var i,o=t.$id||t.id,a=Zc.resolve(n.base||"/",o||"");if(!r){(r=new zd(t,n,[],a,Object.create(this.schemas))).schemas[a]||(r.schemas[a]=t);var l=Dd(a,t);for(var s in l.id){var u=l.id[s];r.schemas[s]=u}}if(n.required&&void 0===e)return(i=new Hd(e,t,n,r)).addError("is required, but is undefined"),i;if(!(i=this.validateSchema(e,t,n,r)))throw new Error("Result undefined");if(n.throwAll&&i.errors.length)throw new jd(i);return i},Vd.prototype.validateSchema=function(e,t,n,r){var i=new Hd(e,t,n,r);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var o={schema:t,ctx:r};t.extends.forEach(this.schemaTraverser.bind(this,o)),t=o.schema,o.schema=null,o.ctx=null,o=null}else t=cd.deepMerge(t,this.superResolve(t.extends,r));var a=Bd(t);if(a){var l=this.resolve(t,a,r),s=new zd(l.subschema,n,r.path,l.switchSchema,r.schemas);return this.validateSchema(e,l.subschema,n,s)}var u=n&&n.skipAttributes||[];for(var c in t)if(!Cd.ignoreProperties[c]&&u.indexOf(c)<0){var d=null,f=this.attributes[c];if(f)d=f.call(this,e,t,n,r);else if(!1===n.allowUnknownAttributes)throw new Fd("Unsupported attribute: "+c,t);d&&i.importErrors(d)}if("function"==typeof n.rewrite){var p=n.rewrite.call(this,e,t,n,r);i.instance=p}return i},Vd.prototype.schemaTraverser=function(e,t){e.schema=cd.deepMerge(e.schema,this.superResolve(t,e.ctx))},Vd.prototype.superResolve=function(e,t){var n=Bd(e);return n?this.resolve(e,n,t).subschema:e},Vd.prototype.resolve=function(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};var r=Zc.parse(t),i=r&&r.hash,o=i&&i.length&&t.substr(0,t.length-i.length);if(!o||!n.schemas[o])throw new Fd("no such schema <"+t+">",e);var a=cd.objectGetPath(n.schemas[o],i.substr(1));if(void 0===a)throw new Fd("no such schema "+i+" located in <"+o+">",e);return{subschema:a,switchSchema:t}},Vd.prototype.testType=function(e,t,n,r,i){if(void 0!==i){if(null===i)throw new Fd('Unexpected null in "type" keyword');if("function"==typeof this.types[i])return this.types[i].call(this,e);if(i&&"object"==typeof i){var o=this.validateSchema(e,i,n,r);return void 0===o||!(o&&o.errors.length)}return!0}};var Wd=Vd.prototype.types={};Wd.string=function(e){return"string"==typeof e},Wd.number=function(e){return"number"==typeof e&&isFinite(e)},Wd.integer=function(e){return"number"==typeof e&&e%1==0},Wd.boolean=function(e){return"boolean"==typeof e},Wd.array=function(e){return Array.isArray(e)},Wd.null=function(e){return null===e},Wd.date=function(e){return e instanceof Date},Wd.any=function(e){return!0},Wd.object=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof Date)},Rd=Vd;var Ud={};Ud.Validator=Rd;cd.ValidatorResult,cd.ValidatorResultError,cd.ValidationError,cd.SchemaError,Ad.SchemaScanResult,Ad.scan;var $d={},Gd=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},Kd=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},qd=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($d,"__esModule",{value:!0});var Zd=qd({$schema:"http://json-schema.org/draft-07/schema#",definitions:{ALibType:{enum:["css","js"],type:"string"},HostRule:{properties:{activeTabIdx:{default:0,enum:[0,1,2],type:"number"},codeExecPhase:{default:0,enum:[0,1],type:"number"},cssCode:{default:"",type:"string"},id:{type:"string"},isCssOn:{default:!1,type:"boolean"},isExactMatch:{default:!1,type:"boolean"},isHost:{default:!0,type:"boolean"},isHttps:{default:!1,type:"boolean"},isJsOn:{default:!1,type:"boolean"},isLibOn:{default:!1,type:"boolean"},jsCode:{default:"",type:"string"},libs:{default:[],items:{$ref:"#/definitions/LibRule"},type:"array"},paths:{default:[],items:{$ref:"#/definitions/PathRule"},type:"array"},title:{default:"",type:"string"},value:{default:"",type:"string"}},required:["activeTabIdx","codeExecPhase","cssCode","id","isCssOn","isExactMatch","isHost","isHttps","isJsOn","isLibOn","jsCode","libs","paths","title","value"],type:"object"},LibRule:{properties:{id:{type:"string"},isAsync:{default:!0,type:"boolean"},isOn:{default:!1,type:"boolean"},title:{default:"",type:"string"},type:{$ref:"#/definitions/ALibType",default:"js"},value:{default:"",type:"string"}},required:["id","isAsync","isOn","title","type","value"],type:"object"},PathRule:{properties:{activeTabIdx:{default:0,enum:[0,1,2],type:"number"},codeExecPhase:{default:0,enum:[0,1],type:"number"},cssCode:{default:"",type:"string"},id:{type:"string"},isCssOn:{default:!1,type:"boolean"},isExactMatch:{default:!1,type:"boolean"},isHost:{type:"boolean"},isJsOn:{default:!1,type:"boolean"},isLibOn:{default:!1,type:"boolean"},jsCode:{default:"",type:"string"},libs:{default:[],items:{$ref:"#/definitions/LibRule"},type:"array"},title:{default:"",type:"string"},value:{default:"",type:"string"}},required:["activeTabIdx","codeExecPhase","cssCode","id","isCssOn","isExactMatch","isJsOn","isLibOn","jsCode","libs","title","value"],type:"object"}},items:{$ref:"#/definitions/HostRule"},type:"array"}),Qd=function(){function e(){this.validator=new Ud.Validator,this.PARSE_ERR_MSG="JSON parse error, check if json is correct"}return e.prototype.readJson=function(e){return Gd(this,void 0,void 0,(function(){var t,n=this;return Kd(this,(function(r){switch(r.label){case 0:return[4,new Promise((function(t){return n.readFile(e,t)}))];case 1:t=r.sent();try{return[2,JSON.parse(t)]}catch(e){throw new Error("JSON parse error, check if json is correct: "+e.message)}return[2]}}))}))},e.prototype.saveJson=function(e,t,n){void 0===n&&(n=!1);var r=this.Url,i=JSON.stringify(e),o=new Blob([i],{type:"application/json;charset=utf-8"}),a=r.createObjectURL(o);this.createAnchorElem(a,t,n).click(),r.revokeObjectURL(a)},e.prototype.checkJson=function(e){return this.validator.validate(e,Zd.default)},e.prototype.readFile=function(e,t){var n=new FileReader;n.addEventListener("load",this.onFileLoad(t)),n.addEventListener("error",this.onFileError),n.readAsText(e)},e.prototype.onFileLoad=function(e){var t=function(n){var r=n.target;r.removeEventListener("load",t),e(r.result)};return t},e.prototype.onFileError=function(e){throw e.target.error},e.prototype.createAnchorElem=function(e,t,n){void 0===n&&(n=!1);var r=n?"_"+this.dateStr:"",i=document.createElement("a");return i.href=e,i.target="_blank",i.download=""+t+r+".json",i},Object.defineProperty(e.prototype,"dateStr",{get:function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0");return e.getFullYear()+n+t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Url",{get:function(){return URL||webkitURL},enumerable:!0,configurable:!0}),e}();$d.FileHandle=Qd;var Yd={},Jd=this&&this.__assign||function(){return(Jd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Xd=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r};Object.defineProperty(Yd,"__esModule",{value:!0});var ef=function(){function e(){}return e.prototype.getOption=function(e,t){var n=t||this.getDefOption();return Jd(Jd({},n),e)},e.prototype.getDefOption=function(){return{page:0,increment:[10],incrementIdx:0,maxSpread:3}},e.prototype.getState=function(e,t){var n=this.getDefOption(),r=n.increment[0],i=Object.assign(n,t),o=i.page,a=i.increment,l=i.incrementIdx,s=i.maxSpread,u=this.getNoPerPage(a,l,r),c=this.getDefState(e,u);if(e<=1)return c;var d=this.getTotalPage(e,u);if(d<=1)return c;var f=this.getCurrPage(o,d-1),p=f.curr,h=f.pageNo,m=this.getPageSliceIdx(e,u,p),g=m.startIdx,v=m.endIdx,y=this.getRecordCtx(e,g,v),b=this.getSpreadCtx(h,d,s),w=this.getRelPage(d,p),x=this.getRelPageCtx({curr:p,last:w.last},w);return w=this.parseRelPage(w,x),Jd(Jd(Jd(Jd(Jd({curr:p},w),m),{pageNo:h,perPage:u,totalPage:d}),y),b)},e.prototype.getDefState=function(e,t){var n=this.getRecordCtx(e,0);return Jd(Jd({},n),{perPage:t,totalPage:1,startIdx:0,pageNo:1})},e.prototype.getRecordCtx=function(e,t,n){var r=e>=1;return{startRecord:r&&Number.isInteger(t)?t+1:0,endRecord:r&&Number.isInteger(n)?n:e,totalRecord:e}},e.prototype.getNoPerPage=function(e,t,n){if(!e.length)return n;var r=e[t];return Number.isInteger(r)&&r>0?e[t]:n},e.prototype.parseNoPerPage=function(e){return e.filter((function(e){return Number.isInteger(e)&&e>0}))},e.prototype.getTotalPage=function(e,t){var n=e>t?e/t:1;return Math.ceil(n)},e.prototype.getCurrPage=function(e,t){var n=e>=0&&e<=t?e:0;return{curr:n,pageNo:n+1}},e.prototype.getRelPage=function(e,t){return{first:0,prev:t-1,next:t+1,last:e-1}},e.prototype.getRelPageCtx=function(e,t){var n=this;return Object.getOwnPropertyNames(t).reduce((function(r,i){var o={type:i,target:t[i]};return r[i]=n.canNavToPage(e,o),r}),{})},e.prototype.parseRelPage=function(e,t){return Object.getOwnPropertyNames(e).forEach((function(n){var r=e[n];e[n]=t[n]?r:null})),e},e.prototype.getPageSliceIdx=function(e,t,n){var r=n*t,i=r+t;return{startIdx:r=r<e?r:void 0,endIdx:i=i<e?i:void 0}},e.prototype.getSpreadCtx=function(e,t,n){void 0===n&&(n=3);var r=Xd(Array(n+1)),i=t-e,o=e-1,a=o>1&&o<t,l=i>1&&i<t?r.reduce((function(r,i,o){var a=e+o+1,l=o===n&&t-a>=1;return a>1&&a<t&&r.push(l?"...":a),r}),[]):null;return{ltSpread:a?r.reduce((function(r,i,o){var a=e-o-1,l=o===n&&e-a>=1;return a>1&&a<t&&r.unshift(l?"...":a),r}),[]):null,rtSpread:l,maxSpread:n}},e.prototype.getPageIdxForSpread=function(e,t,n){return n?e-t-1:e+t+1},e.prototype.canNavToPage=function(e,t){var n=e.curr,r=e.last,i=t.type,o=t.target;if(!this.isGteZero([n,r]))return!1;switch(i){case"prev":return o>=0;case"next":return o<=r;case"first":return 0!==n&&o<n;case"last":return o>n;case"page":return this.isGteZero(o)&&o!==n&&o<=r;default:return!1}},e.prototype.isGteZero=function(e){return Array.isArray(e)?e.every((function(e){return Number.isInteger(e)&&e>=0})):Number.isInteger(e)&&e>=0},e.prototype.createGenericCmpAttr=function(e){var t=this,n=e.totalRecord,r=e.option,i=e.state,o=e.callback,a=i.first,l=i.prev,s=i.next,u=i.last,c=i.ltSpread,d=i.rtSpread,f=this.getGenericCmpEvtHandler(n,r,o);return{firstBtnAttr:this.getTextBtnAttr(f,["first",a]),prevBtnAttr:this.getTextBtnAttr(f,["prev",l]),nextBtnAttr:this.getTextBtnAttr(f,["next",s]),lastBtnAttr:this.getTextBtnAttr(f,["last",u]),ltSpreadBtnsAttr:c?c.map((function(e){return t.getSpreadBtnAttr(f,i,[e,!0])})):null,rtSpreadBtnsAttr:d?d.map((function(e){return t.getSpreadBtnAttr(f,i,[e,!1])})):null,perPageSelectAttr:this.getPerPageSelectAttr(f,r),pageSelectAttr:this.getPageSelectAttr(f,i)}},e.prototype.getTextBtnAttr=function(e,t){var n=t[0],r=t[1];return{title:n,disabled:!Number.isInteger(r),onClick:function(){return e({page:r})}}},e.prototype.getSpreadBtnAttr=function(e,t,n){var r=n[0],i=n[1],o=t.curr,a=t.maxSpread,l="number"==typeof r,s=i?l?o-1:this.getPageIdxForSpread(o,a,!0):l?o+1:this.getPageIdxForSpread(o,a,!1);return{title:l?r:i?"left-spread":"right-spread",isSpread:!l,onClick:function(){return e({page:s})}}},e.prototype.getPageSelectAttr=function(e,t){var n=this,r=t.pageNo,i=t.totalPage,o=t.ltSpread,a=t.rtSpread,l=i<=1,s=l||1===r?[1]:Xd([1],o||[],[r]),u=l||r===i?[]:Xd(a||[],[i]),c=Xd(s,u),d=s.length-1;return{title:"page select",disabled:l,options:c,selectedOptionValue:r,selectedOptionIdx:d,onSelect:function(r){var i=r.target,o=n.getTargetPageIdxByPos(t,c,[parseInt(i.value,10),d]);e({page:o})}}},e.prototype.getPerPageSelectAttr=function(e,t){var n=t.increment,r=t.incrementIdx;return{title:"per page select",disabled:n.length<=1,options:n,selectedOptionValue:n[r],selectedOptionIdx:r,onSelect:function(t){var n=t.target;return e({page:0,incrementIdx:parseInt(n.value,10)})}}},e.prototype.getGenericCmpEvtHandler=function(e,t,n){var r=this;return function(i){var o=r.getOption(i,t),a=r.getState(e,o);n&&n({pgnOption:o,pgnState:a})}},e.prototype.getTargetPageIdxByPos=function(e,t,n){var r=n[0],i=n[1],o=e.curr,a=e.maxSpread,l=t[r];return"number"==typeof l?l-1:this.getPageIdxForSpread(o,a,r<i)},e}();Yd.PgnHandle=ef;var tf={};Object.defineProperty(tf,"__esModule",{value:!0});var nf=function(){function e(){}return e.prototype.getRuleIdxCtxFromIdCtx=function(e,t){var n=t.hostId,r=t.pathId,i=t.libId,o=e.findIndex((function(e){return e.id===n})),a=e[o],l=null==a?void 0:a.paths,s=r?l.findIndex((function(e){return e.id===r})):null;return{hostIdx:o,pathIdx:s,libIdx:i?r?l[s].libs.findIndex((function(e){return e.id===i})):a.libs.findIndex((function(e){return e.id===i})):null}},e.prototype.getRuleFromIdxCtx=function(e,t){var n=t.hostIdx,r=t.pathIdx,i=t.libIdx,o=e[n],a=Number.isInteger(r)?null==o?void 0:o.paths[r]:null;return(Number.isInteger(i)?a?a.libs[i]:o.libs[i]:null)||a||o},e.prototype.getRuleFromIdCtx=function(e,t){var n=t.hostId,r=t.pathId,i=t.libId,o=e.find((function(e){return e.id===n})),a=r?null==o?void 0:o.paths.find((function(e){return e.id===r})):null;return(i?a?null==a?void 0:a.libs.find((function(e){return e.id===i})):o.libs.find((function(e){return e.id===i})):null)||a||o},e.prototype.getFilteredRules=function(e,t){var n=t.trim().toLowerCase();if(!n)return e;var r=n.toLowerCase().split(/\s+/);return e.filter((function(e){var t=e.title,n=e.value,i=e.paths,o=t.toLowerCase(),a=n.toLowerCase();return r.some((function(e){return o.includes(e)||a.includes(e)}))||i.some((function(e){var t=e.title,n=e.value,i=t.toLowerCase(),o=n.toLowerCase();return r.some((function(e){return i.includes(e)||o.includes(e)}))}))}))},e.prototype.getLibs=function(e,t){return(Number.isInteger(t)?e.paths[t]:e).libs},e.prototype.getHostFromUrl=function(e,t){for(var n=t.protocol,r=t.host,i=0;i<(null==e?void 0:e.length);i++){var o=e[i];if(this.isMatchHost(n,r,o))return o}},e.prototype.getPathFromUrl=function(e,t){for(var n=t.pathname,r=0;r<(null==e?void 0:e.length);r++){var i=e[r];if(this.isMatchPath(n,i))return i}},e.prototype.getNextAvailRuleIdCtx=function(e,t){var n,r=!t.pathId,i=this.getRuleIdxCtxFromIdCtx(e,t),o=i.hostIdx,a=i.pathIdx,l=e[r?0:o],s=null==l?void 0:l.id,u=l.paths;return{hostId:s,pathId:null===(n=u[r?a:u.length?0:null])||void 0===n?void 0:n.id}},e.prototype.setProps=function(e,t,n){var r=this.getRuleFromIdCtx(e,t);Object.assign(r,n)},e.prototype.setTitle=function(e,t,n){this.getRuleFromIdCtx(e,t).title=n},e.prototype.setValue=function(e,t,n){this.getRuleFromIdCtx(e,t).value=n},e.prototype.toggleHttpsSwitch=function(e,t){var n=this.getRuleFromIdCtx(e,t);n.isHttps=!n.isHttps},e.prototype.toggleExactSwitch=function(e,t){var n=this.getRuleFromIdCtx(e,t);n.isExactMatch=!n.isExactMatch},e.prototype.toggleJsExecStep=function(e,t,n){this.getRuleFromIdCtx(e,t).codeExecPhase=n},e.prototype.setLastActiveTab=function(e,t,n){this.getRuleFromIdCtx(e,t).activeTabIdx=n},e.prototype.toggleJsSwitch=function(e,t){var n=this.getRuleFromIdCtx(e,t);n.isJsOn=!n.isJsOn},e.prototype.toggleCssSwitch=function(e,t){var n=this.getRuleFromIdCtx(e,t);n.isCssOn=!n.isCssOn},e.prototype.toggleLibSwitch=function(e,t){var n=this.getRuleFromIdCtx(e,t);n.isLibOn=!n.isLibOn},e.prototype.setJsCode=function(e,t,n){this.getRuleFromIdCtx(e,t).jsCode=n},e.prototype.setCssCode=function(e,t,n){this.getRuleFromIdCtx(e,t).cssCode=n},e.prototype.setLibType=function(e,t,n){this.getRuleFromIdCtx(e,t).type=n},e.prototype.toggleLibAsyncSwitch=function(e,t){var n=this.getRuleFromIdCtx(e,t);n.isAsync=!n.isAsync},e.prototype.toggleLibIsOnSwitch=function(e,t){var n=this.getRuleFromIdCtx(e,t);n.isOn=!n.isOn},e.prototype.addHost=function(e,t){e.push(t)},e.prototype.addPath=function(e,t,n){e[this.getRuleIdxCtxFromIdCtx(e,t).hostIdx].paths.push(n)},e.prototype.addLib=function(e,t,n){var r=this.getRuleIdxCtxFromIdCtx(e,t),i=r.hostIdx,o=r.pathIdx,a=e[i];this.getLibs(a,o).push(n)},e.prototype.rmvHost=function(e,t){var n=this.getRuleIdxCtxFromIdCtx(e,t).hostIdx;e.splice(n,1)},e.prototype.rmvPath=function(e,t){var n,r=this.getRuleIdxCtxFromIdCtx(e,t),i=r.hostIdx,o=r.pathIdx;null===(n=e[i])||void 0===n||n.paths.splice(o,1)},e.prototype.rmvLib=function(e,t){var n=this.getRuleIdxCtxFromIdCtx(e,t),r=n.hostIdx,i=n.pathIdx,o=n.libIdx,a=e[r];this.getLibs(a,i).splice(o,1)},e.prototype.rmvHostsFromIds=function(e,t){t.forEach((function(t){var n=e.findIndex((function(e){return e.id===t}));-1!==n&&e.splice(n,1)}))},e.prototype.rmvPartialHosts=function(e,t){Object.getOwnPropertyNames(t).forEach((function(t){var n=e.findIndex((function(e){return e.id===t}));-1!==n&&e.splice(n,1)}))},e.prototype.rmvPartialLibs=function(e,t,n){var r=this.getRuleFromIdCtx(e,n).libs;Object.getOwnPropertyNames(t).forEach((function(e){var t=r.findIndex((function(t){return t.id===e}));-1!==t&&r.splice(t,1)}))},e.prototype.rmvAllHosts=function(e,t){var n=t.startIdx,r=t.endIdx;e.slice(n,r).forEach((function(t){var n=t.id,r=e.findIndex((function(e){return e.id===n}));e.splice(r,1)}))},e.prototype.rmvAllLibs=function(e,t){this.getRuleFromIdCtx(e,t).libs.length=0},e.prototype.isMatchHost=function(e,t,n){var r=n.isHttps,i=n.value,o=n.isExactMatch?t===i:t.includes(i),a=this.isMatchProtocol(e,r);return o&&a},e.prototype.isMatchPath=function(e,t){var n=t.value;return t.isExactMatch?e===n:e.includes(n)},e.prototype.isMatchProtocol=function(e,t){return!t||e.includes("https")},e}();tf.dataHandle=new nf;var rf={};Object.defineProperty(rf,"__esModule",{value:!0});var of=function(){this.showDeleteModal=!0,this.resultsPerPageIdx=0,this.defRuleConfig={isHttps:!1,isJsOn:!1,isCssOn:!1,isLibOn:!1,codeExecPhase:0}};rf.SettingState=of;var af={};Object.defineProperty(af,"__esModule",{value:!0}),af.UtilHandle={cssCls:function(e,t){return void 0===t&&(t=""),t?t.split(/\s+/).reduce((function(t,n){return n?t+" "+e+"--"+n:t}),e):e},createId:function(){return Math.random().toString(36).substr(2)+Date.now().toString(36)}};var lf={},sf=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(lf,"__esModule",{value:!0});var uf=function(){this.isJsOn=!1,this.isCssOn=!1,this.isLibOn=!1,this.codeExecPhase=0},cf=function(e){function t(t,n){var r=e.call(this)||this;return r.isExactMatch=!1,r.title="",r.value="",r.jsCode="",r.cssCode="",r.libs=[],r.activeTabIdx=0,r.id=af.UtilHandle.createId(),r.title=t,r.value=n,r}return sf(t,e),t}(uf);lf.PathRule=cf;var df=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isHost=!0,t.isHttps=!1,t.paths=[],t}return sf(t,e),t}(cf);lf.HostRule=df;var ff=function(e,t){this.type="js",this.title="",this.value="",this.isOn=!1,this.isAsync=!0,this.id=af.UtilHandle.createId(),this.title=e,this.value=t};lf.LibRule=ff;var pf={};Object.defineProperty(pf,"__esModule",{value:!0}),pf.getDefRules=function(){var e=new lf.PathRule("news","/news"),t=new lf.LibRule("ycomb-path-lib","https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css");t.type="css",t.isOn=!0,Object.assign(e,{jsCode:'console.log("ycomb-path");',cssCode:"* { border: 1px solid blue !important; }",isCssOn:!0,isJsOn:!0,isLibOn:!0,libs:[t]});var n=new lf.HostRule("y-comb","news.ycombinator.com"),r=new lf.LibRule("ycomb-host-lib","https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js");return r.isOn=!0,Object.assign(n,{jsCode:'console.log("ycomb-host");',cssCode:"body { background-color: red !important; }",isCssOn:!0,isJsOn:!0,isLibOn:!0,paths:[e],libs:[r]}),[n]};var hf={},mf=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},gf=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(hf,"__esModule",{value:!0});var vf=function(){function e(e){var t;this.storeKey="chrome-code-injector",this.isInChromeCtx="undefined"!=typeof chrome&&!!(null===(t=null===chrome||void 0===chrome?void 0:chrome.storage)||void 0===t?void 0:t.sync),e&&(this.storeKey=e)}return e.prototype.getState=function(){return mf(this,void 0,void 0,(function(){var e,t,n;return gf(this,(function(r){switch(r.label){case 0:return e=this.getOnGetStateResolved(),[4,new Promise(e)];case 1:return(t=r.sent())?(n=JSON.parse(t),[3,4]):[3,2];case 2:return[4,this.getDefState()];case 3:n=r.sent(),r.label=4;case 4:return[2,n]}}))}))},e.prototype.getDefState=function(){return mf(this,void 0,void 0,(function(){var e;return gf(this,(function(t){switch(t.label){case 0:return e={rules:pf.getDefRules(),setting:new rf.SettingState},[4,hf.chromeHandle.saveState(e)];case 1:return t.sent(),[2,e]}}))}))},e.prototype.saveState=function(e){return mf(this,void 0,void 0,(function(){var t,n,r,i;return gf(this,(function(o){switch(o.label){case 0:return this.isInChromeCtx?[4,this.getState()]:[2];case 1:return t=o.sent(),n=Object.assign(t,e),r=JSON.stringify(n),[4,chrome.storage.sync.set((i={},i[this.storeKey]=r,i))];case 2:return o.sent(),[2]}}))}))},e.prototype.getTabUrl=function(){return mf(this,void 0,void 0,(function(){var e;return gf(this,(function(t){return e=this.getOnGetCurrentResolved(),[2,new Promise(e)]}))}))},e.prototype.isMainframeRequest=function(e){var t=e.frameId,n=e.type,r=e.method,i=e.statusCode;return 0===t&&"GET"===r&&"main_frame"===n&&i>=200&&i<300},e.prototype.getAlteredCsp=function(e,t){var n=this,r=e;return t.forEach((function(t){var i=n.getCspSubPolicy(e,t);if(i){if(i.includes("'self'"))return;r=n.addCspSubPolicyValue(e,i)}else{var o=n.getCspSubPolicy(e,"default-src");if(null==o?void 0:o.includes("'self'"))return;r=n.addCspSubPolicy(e,t)}})),r},e.prototype.getCsp=function(e){return e.find((function(e){return"Content-Security-Policy"===e.name}))},e.prototype.getCspSubPolicy=function(e,t){var n;return null===(n=new RegExp("("+t+"[^;]+)(?=;)?").exec(e))||void 0===n?void 0:n[0]},e.prototype.addCspSubPolicy=function(e,t){return e+"; "+t+" 'self'"},e.prototype.addCspSubPolicyValue=function(e,t){var n=t+" 'self'";return e.replace(t,n)},e.prototype.getOnGetStateResolved=function(){var e=this;return function(t){var n=e.getOnStorage(t);chrome.storage.sync.get(e.storeKey,n)}},e.prototype.getOnGetCurrentResolved=function(){var e=this;return function(t){var n=e.getOnTabQuery(t);chrome.tabs.query({active:!0,currentWindow:!0},n)}},e.prototype.getOnStorage=function(e){var t=this;return function(n){return e(n[t.storeKey])}},e.prototype.getOnTabQuery=function(e){return function(t){var n=t[0],r=new URL(n.url);e(r)}},e}();hf.chromeHandle=new vf;var yf={};Object.defineProperty(yf,"__esModule",{value:!0}),yf.modalSet={defSetting:{id:"modal-setting",txt:"Default Settings"},importConfig:{id:"modal-setting-import",txt:"Import Configuration from a `*.json` file"},exportConfig:{id:"modal-setting-export",txt:"Export Configuration to a `*.json` file"},removeConfirm:{id:"modal-delete-confirm",txt:"Confirmation"},addHost:{id:"modal-host-add",txt:"Add Host"},addPath:{id:"modal-path-add",txt:"Add Path"},addLib:{id:"modal-lib-add",txt:"Add a library from a URL (e.g. CDN)"},editLib:{id:"modal-lib-edit",txt:"Edit a Library Url"},delHosts:{id:"modal-hosts-del",txt:"Confirmation"},delHostOrPath:{id:"modal-host-or-path-del",txt:"Confirmation"},delLib:{id:"modal-delete-lib-confirm",txt:"Confirmation"},delLibs:{id:"modal-delete-libs-confirm",txt:"Confirmation"}};var bf={};Object.defineProperty(bf,"__esModule",{value:!0});var wf=function(e){e&&Object.assign(this,e)};bf.RuleIdCtxState=wf;var xf={};Object.defineProperty(xf,"__esModule",{value:!0}),xf.resultsPerPageList=[10,20,50,100,200];var Sf={},Cf=this&&this.__assign||function(){return(Cf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ef=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r};Object.defineProperty(Sf,"__esModule",{value:!0});var Of=(new rf.SettingState).resultsPerPageIdx,kf=new Yd.PgnHandle,Tf=function(e){if(this.sortOption={reset:!0},this.srcRules=null,this.selectState={areAllRowsSelected:!1,selectedRowKeyCtx:{}},this.expdRowId=null,e){var t=e.totalRecord,n=e.pgnOption;if(!(t<0)){var r={increment:Ef(xf.resultsPerPageList),incrementIdx:Of},i=n?Cf(Cf({},r),n):r;this.pgnOption=i,this.pgnState=kf.getState(t,i)}}};Sf.DataGridState=Tf;var _f={};Object.defineProperty(_f,"__esModule",{value:!0});var Pf=function(e){this.value="",this.errMsg=[],this.isValid=null,e&&Object.assign(this,e)};_f.TextInputState=Pf;var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});var If=function(){this.currentId=null,this.ruleIdCtx=new bf.RuleIdCtxState,this.exportFileInput=new _f.TextInputState,this.importFileInput=null,this.titleInput=new _f.TextInputState,this.valueInput=new _f.TextInputState,this.isConfirmBtnEnabled=!1};Mf.ModalState=If;var Lf={},Af=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nf=this&&this.__assign||function(){return(Nf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Rf=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},Df=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Hf=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r};Object.defineProperty(Lf,"__esModule",{value:!0});var jf=new $d.FileHandle,Ff=new Yd.PgnHandle,zf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Af(t,e),t.prototype.onModal=function(e,t){var n=e.localState,r=t.id,i=n.modal;return{localState:Nf(Nf({},n),{modal:Nf(Nf({},i),{currentId:r})})}},t.prototype.onModalCancel=function(e){var t=e.localState,n=new Mf.ModalState;return{localState:Nf(Nf({},t),{modal:n})}},t.prototype.onImportDataModal=function(e){return this.reflect.onModal(e,{id:yf.modalSet.importConfig.id})},t.prototype.onImportDataModalOk=function(e){return Rf(this,void 0,void 0,(function(){var t,n,r,i;return Df(this,(function(o){switch(o.label){case 0:return t=e.localState.modal,n=t.importFileInput,[4,jf.readJson(n)];case 1:return r=o.sent(),i=this.reflect.onModalCancel(e).localState,hf.chromeHandle.saveState({rules:r}),[2,{rules:r,localState:i}]}}))}))},t.prototype.onExportDataModal=function(e){return this.reflect.onModal(e,{id:yf.modalSet.exportConfig.id})},t.prototype.onExportDataModalOk=function(e){var t=e.rules,n=e.localState.modal.exportFileInput.value;return jf.saveJson(t,n,!0),this.reflect.onModalCancel(e)},t.prototype.onImportFileInputChange=function(e,t){var n=e.localState,r=t.file,i=t.isValid;return{localState:Nf(Nf({},n),{modal:Nf(Nf({},n.modal),{isConfirmBtnEnabled:i,importFileInput:r})})}},t.prototype.onExportInputChange=function(e,t){var n=e.localState,r=t.errMsg,i=t.isValid,o=t.val,a=n.modal;return{localState:Nf(Nf({},n),{modal:Nf(Nf({},a),{isConfirmBtnEnabled:i,exportFileInput:{value:o,isValid:i,errMsg:r}})})}},t.prototype.onSettingModal=function(e){return this.reflect.onModal(e,{id:yf.modalSet.defSetting.id})},t.prototype.onResultsPerPageChange=function(e,t){var n=e.setting,r=t.selectValueAttrVal,i={setting:Nf(Nf({},n),{resultsPerPageIdx:r})};return hf.chromeHandle.saveState(i),i},t.prototype.onResetAll=function(){var e=new rf.SettingState;return hf.chromeHandle.saveState({setting:e}),{setting:e}},t.prototype.onDefHttpsToggle=function(e){var t=e.setting,n=t.defRuleConfig,r=n.isHttps,i={setting:Nf(Nf({},t),{defRuleConfig:Nf(Nf({},n),{isHttps:!r})})};return hf.chromeHandle.saveState(i),i},t.prototype.onDefJsToggle=function(e){var t=e.setting,n=t.defRuleConfig,r=n.isJsOn,i={setting:Nf(Nf({},t),{defRuleConfig:Nf(Nf({},n),{isJsOn:!r})})};return hf.chromeHandle.saveState(i),i},t.prototype.onDefCssToggle=function(e){var t=e.setting,n=t.defRuleConfig,r=n.isCssOn,i={setting:Nf(Nf({},t),{defRuleConfig:Nf(Nf({},n),{isCssOn:!r})})};return hf.chromeHandle.saveState(i),i},t.prototype.onDefLibToggle=function(e){var t=e.setting,n=t.defRuleConfig,r=n.isLibOn,i={setting:Nf(Nf({},t),{defRuleConfig:Nf(Nf({},n),{isLibOn:!r})})};return hf.chromeHandle.saveState(i),i},t.prototype.onDefJsExecStageChange=function(e,t){var n=e.setting,r=t.selectValueAttrVal,i=n.defRuleConfig,o={setting:Nf(Nf({},n),{defRuleConfig:Nf(Nf({},i),{codeExecPhase:r})})};return hf.chromeHandle.saveState(o),o},t.prototype.onDelConfirmDialogToggle=function(e){var t=e.setting,n={setting:Nf(Nf({},t),{showDeleteModal:!t.showDeleteModal})};return hf.chromeHandle.saveState(n),n},t.prototype.onAddHostModal=function(e){return this.reflect.onModal(e,{id:yf.modalSet.addHost.id})},t.prototype.onAddHostModalOk=function(e){var t=e.localState,n=e.rules,r=e.setting,i=t.modal,o=i.titleInput,a=i.valueInput,l=o.value,s=a.value,u=new lf.HostRule(l,s);return Object.assign(u,r.defRuleConfig),tf.dataHandle.addHost(n,u),hf.chromeHandle.saveState({rules:n}),{localState:Nf(Nf({},t),{modal:new Mf.ModalState})}},t.prototype.onAddPathModal=function(e,t){var n=e.localState,r=n.isListView,i=n.listView,o=this.reflect.onModal(e,{id:yf.modalSet.addPath.id});return r?{localState:Nf(Nf({},o.localState),{listView:Nf(Nf({},i),{ruleIdCtx:t})})}:o},t.prototype.onAddPathModalOk=function(e){var t=e.localState,n=e.rules,r=e.setting,i=t.modal,o=t.isListView,a=t.listView,l=t.editView,s=(o?a:l).ruleIdCtx,u=i.titleInput,c=i.valueInput,d=u.value,f=c.value,p=new lf.PathRule(d,f);Object.assign(p,r.defRuleConfig),tf.dataHandle.addPath(n,s,p),hf.chromeHandle.saveState({rules:n});var h=Nf(Nf({},t),{modal:new Mf.ModalState});if(o){var m=a.dataGrid,g=m.pgnOption,v=Ff.getState(n.length,g);return{localState:Nf(Nf({},h),{listView:Nf(Nf({},a),{dataGrid:Nf(Nf({},m),{pgnState:v})})})}}return{rules:Hf(n),localState:h}},t.prototype.onAddLibModal=function(e){return this.reflect.onModal(e,{id:yf.modalSet.addLib.id})},t.prototype.onAddLibModalOk=function(e){var t=e.rules,n=e.localState,r=n.modal,i=n.editView,o=r.titleInput,a=r.valueInput,l=i.ruleIdCtx,s=o.value,u=a.value,c=new lf.LibRule(s,u);return tf.dataHandle.addLib(t,l,c),hf.chromeHandle.saveState({rules:t}),{localState:Nf(Nf({},n),{modal:new Mf.ModalState})}},t.prototype.onDelHostOrPathModal=function(e,t){var n=this.reflect,r=e.localState,i=e.setting,o=r.isListView,a=r.listView,l=r.editView,s=this.reflect.onModal(e,{id:yf.modalSet.delHostOrPath.id}).localState,u=o?{localState:Nf(Nf({},s),{listView:Nf(Nf({},a),{ruleIdCtx:t})})}:{localState:Nf(Nf({},s),{editView:Nf(Nf({},l),{ruleIdCtx:t})})};return i.showDeleteModal?u:n.onDelHostOrPathModalOk(Nf(Nf({},e),u))},t.prototype.onDelHostOrPathModalOk=function(e){var t=e.rules,n=e.localState,r=n.isListView,i=n.listView,o=n.editView,a=(r?i:o).ruleIdCtx,l=!a.pathId;a.pathId?tf.dataHandle.rmvPath(t,a):tf.dataHandle.rmvHost(t,a),hf.chromeHandle.saveState({rules:t});var s=!!t.length,u=Nf(Nf({},n),{modal:new Mf.ModalState});if(r){var c=i.searchText,d=i.dataGrid,f=d.pgnOption,p=t.length,h=this.reflect.getUpdatedSearchText(c,p),m=l?new Sf.DataGridState({totalRecord:p,pgnOption:f}):d;return{localState:Nf(Nf({},u),{listView:Nf(Nf({},i),{searchText:h,ruleIdCtx:new bf.RuleIdCtxState,dataGrid:m})})}}if(r||s){var g=tf.dataHandle.getNextAvailRuleIdCtx(t,a);return{localState:Nf(Nf({},u),{editView:Nf(Nf({},o),{ruleIdCtx:new bf.RuleIdCtxState(g)})})}}return{localState:Nf(Nf({},u),{isListView:!0})}},t.prototype.onDelHostsModal=function(e,t){var n=t.srcRules,r=t.sliceIdxCtx,i=e.localState,o=e.setting,a=i.modal,l=i.listView,s={localState:Nf(Nf({},i),{listView:Nf(Nf({},l),{dataGrid:Nf(Nf({},l.dataGrid),{srcRules:n,sliceIdxCtx:r})}),modal:Nf(Nf({},a),{currentId:yf.modalSet.delHosts.id})})};return o.showDeleteModal?s:this.reflect.onDelHostsModalOk(Nf(Nf({},e),s))},t.prototype.onDelHostsModalOk=function(e){var t=e.rules,n=e.localState,r=n.listView,i=r.dataGrid,o=r.searchText,a=i.selectState,l=i.pgnOption,s=i.srcRules,u=i.sliceIdxCtx,c=a.areAllRowsSelected,d=a.selectedRowKeyCtx,f=u.startIdx,p=u.endIdx,h=s.slice(f,p).map((function(e){return e.id}));c?tf.dataHandle.rmvHostsFromIds(t,h):tf.dataHandle.rmvPartialHosts(t,d),hf.chromeHandle.saveState({rules:t});var m=t.length,g=this.reflect.getUpdatedSearchText(o,m),v=new Sf.DataGridState({totalRecord:m,pgnOption:l});return Nf(Nf({},e),{localState:Nf(Nf({},n),{modal:new Mf.ModalState,listView:Nf(Nf({},r),{searchText:g,dataGrid:v})})})},t.prototype.onDelLibModal=function(e,t){var n=e.localState,r=e.setting,i=n.editView,o={localState:Nf(Nf({},n),{editView:Nf(Nf({},i),{libRuleIdCtx:Nf(Nf({},i.ruleIdCtx),{libId:t.id})}),modal:Nf(Nf({},n.modal),{currentId:yf.modalSet.delLib.id})})};return r.showDeleteModal?o:this.reflect.onDelLibModalOk(Nf(Nf({},e),o))},t.prototype.onDelLibModalOk=function(e){var t=e.rules,n=e.localState,r=n.editView,i=r.libRuleIdCtx;return tf.dataHandle.rmvLib(t,i),hf.chromeHandle.saveState({rules:t}),{localState:Nf(Nf({},n),{modal:new Mf.ModalState,editView:Nf(Nf({},r),{libRuleIdCtx:new bf.RuleIdCtxState})})}},t.prototype.onDelLibsModal=function(e){var t=e.setting,n=this.reflect.onModal(e,{id:yf.modalSet.delLibs.id});return t.showDeleteModal?n:this.reflect.onDelLibsModalOk(Nf(Nf({},e),n))},t.prototype.onDelLibsModalOk=function(e){var t=e.rules,n=e.localState,r=n.editView,i=r.ruleIdCtx,o=r.dataGrid.selectState,a=o.areAllRowsSelected,l=o.selectedRowKeyCtx;return a?tf.dataHandle.rmvAllLibs(t,i):tf.dataHandle.rmvPartialLibs(t,l,i),hf.chromeHandle.saveState({rules:t}),{localState:Nf(Nf({},n),{modal:new Mf.ModalState,editView:Nf(Nf({},r),{dataGrid:new Sf.DataGridState})})}},t.prototype.onEditLibModal=function(e,t){var n=e.rules,r=e.localState,i=t.id,o=r.editView,a=r.modal,l=Nf(Nf({},o.ruleIdCtx),{libId:i}),s=tf.dataHandle.getRuleFromIdCtx(n,l),u=s.title,c=s.value,d=new _f.TextInputState({value:u,isValid:!0}),f=new _f.TextInputState({value:c,isValid:!0});return{localState:Nf(Nf({},r),{editView:Nf(Nf({},o),{libRuleIdCtx:l}),modal:Nf(Nf({},a),{currentId:yf.modalSet.editLib.id,titleInput:d,valueInput:f,isConfirmBtnEnabled:!0})})}},t.prototype.onEditLibModalOk=function(e){var t=e.rules,n=e.localState,r=n.modal,i=n.editView,o=r.titleInput,a=r.valueInput,l=i.libRuleIdCtx,s=o.value,u=a.value;return tf.dataHandle.setProps(t,l,{title:s,value:u}),hf.chromeHandle.saveState({rules:t}),{localState:Nf(Nf({},n),{editView:Nf(Nf({},i),{libRuleIdCtx:new bf.RuleIdCtxState}),modal:new Mf.ModalState})}},t.prototype.onModalTitleInput=function(e,t){var n=e.localState,r=t.val,i=t.isValid,o=t.errMsg,a=n.modal,l=a.valueInput.isValid;return{localState:Nf(Nf({},n),{modal:Nf(Nf({},a),{isConfirmBtnEnabled:i&&l,titleInput:{isValid:i,errMsg:o,value:r}})})}},t.prototype.onModalValueInput=function(e,t){var n=e.localState,r=t.val,i=t.isValid,o=t.errMsg,a=n.modal,l=a.titleInput.isValid;return{localState:Nf(Nf({},n),{modal:Nf(Nf({},a),{isConfirmBtnEnabled:i&&l,valueInput:{isValid:i,errMsg:o,value:r}})})}},t.prototype.getUpdatedSearchText=function(e,t){return e?t?e:"":e},t}(Ac.StateHandle.BaseStateManager);Lf.ModalStateHandle=zf;var Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});var Bf=function(){function e(){}return e.prototype.getState=function(e){void 0===e&&(e={});var t=Object.assign(this.defOption,e),n=t.isAll,r=t.rowsCtx,i=t.currState;return n?this.toggleSelectAll(i):this.toggleSelectOne(i,r)},e.prototype.distillState=function(e){var t=e.areAllRowsSelected,n=e.selectedRowKeyCtx,r=!t&&!!Object.entries(n).length;return{isPartiallySelected:r,hasSelected:t||r}},e.prototype.toggleSelectAll=function(e){var t=e.areAllRowsSelected,n=e.selectedRowKeyCtx;return{areAllRowsSelected:!(n&&Object.getOwnPropertyNames(n).length||t),selectedRowKeyCtx:{}}},e.prototype.toggleSelectOne=function(e,t){var n=this,r=e.areAllRowsSelected,i=e.selectedRowKeyCtx,o=t.rows,a=t.rowKey,l=this.toggleSelect,s=i[a],u=o.length;return r?(o.forEach((function(e){var t=e.id;t===a||n.toggleSelect(i,t)})),{areAllRowsSelected:!1,selectedRowKeyCtx:i}):(l(i,a,!s),u===Object.entries(i).length?{areAllRowsSelected:!0,selectedRowKeyCtx:{}}:{areAllRowsSelected:!1,selectedRowKeyCtx:i})},e.prototype.toggleSelect=function(e,t,n){void 0===n&&(n=!0),e[t]=!!n||null,n||delete e[t]},Object.defineProperty(e.prototype,"defState",{get:function(){return{areAllRowsSelected:!1,selectedRowKeyCtx:{}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defOption",{get:function(){return{isAll:!0,rowsCtx:null,currState:this.defState}},enumerable:!0,configurable:!0}),e}();Vf.RowSelectHandle=Bf,Vf.rowHandle=new Bf;var Wf={},Uf=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$f=this&&this.__assign||function(){return($f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Gf=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(Wf,"__esModule",{value:!0});var Kf=new Vf.RowSelectHandle,qf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Uf(t,e),t.prototype.onSearchTextChange=function(e,t){var n=e.localState,r=t.value;return{localState:$f($f({},n),{listView:$f($f({},n.listView),{searchText:r})})}},t.prototype.onSearchTextClear=function(e){var t=e.localState;return{localState:$f($f({},t),{listView:$f($f({},t.listView),{searchText:""})})}},t.prototype.onPaginate=function(e,t){var n=e.localState;return{localState:$f($f({},n),{listView:$f($f({},n.listView),{dataGrid:$f($f($f({},n.listView.dataGrid),{selectState:{areAllRowsSelected:!1,selectedRowKeyCtx:{}}}),t)})})}},t.prototype.onSort=function(e,t){var n=e.localState,r=t.sortOption;return{localState:$f($f({},n),{listView:$f($f({},n.listView),{dataGrid:$f($f({},n.listView.dataGrid),{sortOption:r})})})}},t.prototype.onRowSelectToggle=function(e,t){var n=e.localState,r=t.dataSrc,i=t.hostId,o=n.listView.dataGrid,a=o.pgnState,l=o.selectState,s=a.startIdx,u=a.endIdx,c=Kf.getState({isAll:!1,currState:l,rowsCtx:{rows:r.slice(s,u),rowKey:i}});return{localState:$f($f({},n),{listView:$f($f({},n.listView),{dataGrid:$f($f({},o),{pgnState:a,selectState:c})})})}},t.prototype.onRowsSelectToggle=function(e){var t=e.localState,n=t.listView.dataGrid,r=n.selectState,i=Kf.getState({isAll:!0,currState:r});return{localState:$f($f({},t),{listView:$f($f({},t.listView),{dataGrid:$f($f({},n),{selectState:i})})})}},t.prototype.onRowExpand=function(e,t){var n=e.localState,r=t.hostId,i=n.listView.dataGrid,o=i.expdRowId;return{localState:$f($f({},n),{listView:$f($f({},n.listView),{dataGrid:$f($f({},i),{expdRowId:r===o?null:r})})})}},t.prototype.onEditView=function(e,t){var n=e.rules,r=e.localState,i=r.editView,o=tf.dataHandle.getRuleFromIdCtx(n,t),a=o.title,l=o.value,s=new _f.TextInputState({value:a}),u=new _f.TextInputState({value:l});return{localState:$f($f({},r),{isListView:!1,editView:$f($f({},i),{ruleIdCtx:t,titleInput:s,valueInput:u})})}},t.prototype.onHttpsToggle=function(e,t){var n=e.rules;return tf.dataHandle.toggleHttpsSwitch(n,t),hf.chromeHandle.saveState({rules:n}),{}},t.prototype.onExactMatchToggle=function(e,t){var n=e.rules;return tf.dataHandle.toggleExactSwitch(n,t),hf.chromeHandle.saveState({rules:n}),{}},t.prototype.onJsExecStepChange=function(e,t){var n=e.rules,r=t.selectValueAttrVal,i=Gf(t,["selectValueAttrVal"]);return tf.dataHandle.toggleJsExecStep(n,i,r),hf.chromeHandle.saveState({rules:n}),{}},t.prototype.onJsToggle=function(e,t){var n=e.rules;return tf.dataHandle.toggleJsSwitch(n,t),hf.chromeHandle.saveState({rules:n}),{}},t.prototype.onCssToggle=function(e,t){var n=e.rules;return tf.dataHandle.toggleCssSwitch(n,t),hf.chromeHandle.saveState({rules:n}),{}},t.prototype.onLibToggle=function(e,t){var n=e.rules;return tf.dataHandle.toggleLibSwitch(n,t),hf.chromeHandle.saveState({rules:n}),{}},t}(Ac.StateHandle.BaseStateManager);Wf.OptionListViewStateHandle=qf;var Zf={},Qf=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yf=this&&this.__assign||function(){return(Yf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Jf=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r};Object.defineProperty(Zf,"__esModule",{value:!0});var Xf=new Vf.RowSelectHandle,ep=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qf(t,e),t.prototype.onListView=function(e){var t=e.localState;return{localState:Yf(Yf({},t),{isListView:!0})}},t.prototype.onActiveRuleChange=function(e,t){var n=e.rules,r=e.localState,i=t.item,o=t.parentIdx,a=t.isChild,l=i.id,s=i.title,u=i.value,c=a?n[o].id:l,d=a?l:null,f=new bf.RuleIdCtxState({hostId:c,pathId:d}),p=new _f.TextInputState({value:s}),h=new _f.TextInputState({value:u}),m=new Sf.DataGridState;return{localState:Yf(Yf({},r),{editView:Yf(Yf({},r.editView),{ruleIdCtx:f,titleInput:p,valueInput:h,dataGrid:m})})}},t.prototype.onActiveTitleInput=function(e,t){var n=e.rules,r=e.localState,i=t.isValid,o=t.val,a=t.errMsg,l=r.editView,s=l.ruleIdCtx,u={localState:Yf(Yf({},r),{editView:Yf(Yf({},l),{titleInput:new _f.TextInputState({isValid:i,errMsg:a,value:o})})})};return i?(tf.dataHandle.setTitle(n,s,o),hf.chromeHandle.saveState({rules:n}),Yf(Yf({},u),{rules:Jf(n)})):u},t.prototype.onActiveValueInput=function(e,t){var n=e.rules,r=e.localState,i=t.isValid,o=t.val,a=t.errMsg,l=r.editView,s=l.ruleIdCtx,u={localState:Yf(Yf({},r),{editView:Yf(Yf({},l),{valueInput:new _f.TextInputState({isValid:i,errMsg:a,value:o})})})};return i?(tf.dataHandle.setValue(n,s,o),hf.chromeHandle.saveState({rules:n}),Yf(Yf({},u),{rules:Jf(n)})):u},t.prototype.onActiveTabChange=function(e,t){var n=e.rules,r=t.ruleIdCtx,i=t.idx;return tf.dataHandle.setLastActiveTab(n,r,i),hf.chromeHandle.saveState({rules:n}),{}},t.prototype.onTabToggle=function(e,t){var n=e.rules,r=t.ruleIdCtx;switch(t.tab.id){case"js":tf.dataHandle.toggleJsSwitch(n,r);break;case"css":tf.dataHandle.toggleCssSwitch(n,r);break;case"lib":tf.dataHandle.toggleLibSwitch(n,r);break;default:return{}}return hf.chromeHandle.saveState({rules:n}),{}},t.prototype.onCodeChange=function(e,t){var n=e.rules,r=t.ruleIdCtx,i=t.codeMode,o=t.codeMirrorArgs[2];switch(i){case"js":tf.dataHandle.setJsCode(n,r,o);break;case"css":tf.dataHandle.setCssCode(n,r,o);break;default:return{}}return hf.chromeHandle.saveState({rules:n}),{}},t.prototype.onLibSort=function(e,t){var n=e.localState,r=t.sortOption,i=n.editView;return{localState:Yf(Yf({},n),{editView:Yf(Yf({},i),{dataGrid:Yf(Yf({},i.dataGrid),{sortOption:r})})})}},t.prototype.onLibRowSelectToggle=function(e,t){var n=e.localState,r=t.libs,i=t.id,o=n.editView,a=o.dataGrid,l=Xf.getState({isAll:!1,currState:a.selectState,rowsCtx:{rows:r,rowKey:i}});return{localState:Yf(Yf({},n),{editView:Yf(Yf({},o),{dataGrid:Yf(Yf({},a),{selectState:l})})})}},t.prototype.onLibRowsSelectToggle=function(e){var t=e.localState,n=t.editView,r=n.dataGrid,i=Xf.getState({isAll:!0,currState:r.selectState});return{localState:Yf(Yf({},t),{editView:Yf(Yf({},n),{dataGrid:Yf(Yf({},r),{selectState:i})})})}},t.prototype.onLibTypeChange=function(e,t){var n=e.rules,r=e.localState,i=t.selectValue,o=t.id;return tf.dataHandle.setLibType(n,Yf(Yf({},r.editView.ruleIdCtx),{libId:o}),i),hf.chromeHandle.saveState({rules:n}),{}},t.prototype.onLibAsyncToggle=function(e,t){var n=e.rules,r=e.localState;return tf.dataHandle.toggleLibAsyncSwitch(n,Yf(Yf({},r.editView.ruleIdCtx),{libId:t.id})),hf.chromeHandle.saveState({rules:n}),{}},t.prototype.onLibIsOnToggle=function(e,t){var n=e.rules,r=e.localState;return tf.dataHandle.toggleLibIsOnSwitch(n,Yf(Yf({},r.editView.ruleIdCtx),{libId:t.id})),hf.chromeHandle.saveState({rules:n}),{}},t}(Ac.StateHandle.BaseStateManager);Zf.OptionEditViewStateHandle=ep;var tp={};Object.defineProperty(tp,"__esModule",{value:!0}),tp.AppStateHandle=Ac.StateHandle.BaseStateManager.join([Lf.ModalStateHandle,Wf.OptionListViewStateHandle,Zf.OptionEditViewStateHandle]);var np={};Object.defineProperty(np,"__esModule",{value:!0});var rp=[["Ebay","www.ebay.com"],["Amazon","www.amazon.com"],["Gumtree","www.gumtree.com"],["JingDong","www.jd.com"]],ip=[["home","/home"],["deal","/deals/today/"],["panasonic","/electronics/panasonic"]],op=[["jQuery","jquery.com"],["Angular","angular.io"],["Bootstrap","bootstrap.com"]];np.createMockRules=function(){return rp.map((function(e){var t=e[0],n=e[1],r=new lf.HostRule(t,n);return ip.forEach((function(e){var n=e[0],i=e[1],o=new lf.PathRule(""+t+n,i);r.paths.push(o),op.forEach((function(e){var r=e[0],i=e[1];o.libs.push(new lf.LibRule(""+t+n+r,i))}))})),op.forEach((function(e){var n=e[0],i=e[1];r.libs.push(new lf.LibRule(""+t+n,i))})),r}))};var ap={};Object.defineProperty(ap,"__esModule",{value:!0});var lp=function(e){this.isListView=!0,this.listView={ruleIdCtx:new bf.RuleIdCtxState,searchText:"",dataGrid:null},this.editView={ruleIdCtx:new bf.RuleIdCtxState,libRuleIdCtx:new bf.RuleIdCtxState,titleInput:new _f.TextInputState,valueInput:new _f.TextInputState,dataGrid:new Sf.DataGridState},this.modal=new Mf.ModalState,this.listView.dataGrid=new Sf.DataGridState({totalRecord:e})};ap.LocalState=lp;var sp={};Object.defineProperty(sp,"__esModule",{value:!0}),sp.createMockAppState=function(){var e=np.createMockRules();return{rules:e,setting:new rf.SettingState,localState:new ap.LocalState(e.length)}};var up={};Object.defineProperty(up,"__esModule",{value:!0}),up.urlSet={DOC:"https://github.com/CharltonC/chrome-custom-code-insertion-userguide"};var cp={};Object.defineProperty(cp,"__esModule",{value:!0}),cp.codeExecStageList=["dom content ready","after page load"];var dp={},fp=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},pp=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};Object.defineProperty(dp,"__esModule",{value:!0});var hp=function(){function e(){var e=this;this.fileHandle=new $d.FileHandle,this.url={rule:/^(https?:\/\/)?(www\.)?(([a-z0-9]+(-|_)?)+\.)+[a-z0-9]+(\/([^?/]+))*$/i,msg:"must be a url, e.g. www.xzy.com, www.xyz.com/file.ext"},this.urlHost={rule:/^(www\.)?(([a-z0-9]+(-|_)?)+\.)+[a-z0-9]+$/i,msg:"must be a domain, e.g. www.google.com"},this.urlPath={rule:/^\/([^?/]+)/,msg:"must be Url path, e.g. /home"},this.nonEmptyFile={rule:function(e){return!!e.size},msg:"file selected has no content"},this.maxFileSize={rule:function(e){return e.size<=2097152},msg:"file selected has size larger than 2mb"},this.fileName={rule:/^\w+(.*\w+)?$/,msg:"file name must start/end with a character"},this.ruleTitle={rule:/^[a-z0-9]+(-|[a-z0-9])*[a-z0-9]+$/i,msg:"must be at least 2 characters of letter/number with optional dash in between and without whitespace, e.g. site-name"},this.jsonFileSchema=function(t){return fp(e,void 0,void 0,(function(){var e,n,r,i;return pp(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.fileHandle.readJson(t)];case 1:return e=o.sent(),[3,3];case 2:return[2,[""+o.sent().message]];case 3:return n=this.fileHandle.checkJson(e),r=n.valid,i=n.errors,[2,!!r||i.map((function(e){return"Import file data error: "+e.message}))]}}))}))}}return e.prototype.gteChar=function(e){if(!Number.isInteger(e)||e<1)throw new Error("`minChar` must be an positive integer larger or equal than 1");return{rule:new RegExp("^[a-zA-Z0-9]{"+e+",}$"),msg:"must be "+e+" or more characters without whitespace"}},e}();dp.ValidationHandle=hp;var mp={};Object.defineProperty(mp,"__esModule",{value:!0});var gp=new dp.ValidationHandle,vp=gp.ruleTitle,yp=gp.nonEmptyFile,bp=gp.maxFileSize,wp=gp.jsonFileSchema,xp=gp.fileName,Sp=gp.urlHost,Cp=gp.urlPath,Ep=gp.url;mp.validationSet={ruleId:[vp],ruleUrlHost:[Sp],ruleUrlPath:[Cp],libUrl:[Ep],importConfig:[yp,bp,wp],exportConfig:[xp]};var Op={},kp=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Op,"__esModule",{value:!0});var Tp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cssCls=af.UtilHandle.cssCls,t}return kp(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n=this,r=t?Object.entries(t):[];if(r.length&&r.some((function(e){var t=e[0];return e[1]!==n.state[t]})))return!0;var i=Object.entries(e),o=Object.entries(this.props);return!(!i.length||!o.length)&&i.some((function(e){var t=e[0];return e[1]!==n.props[t]}))},t}(q.Component);Op.MemoComponent=Tp;var _p={},Pp=this&&this.__assign||function(){return(Pp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Mp=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_p,"__esModule",{value:!0});var Ip=Mp(q);_p.inclStaticIcon=function(e,t,n){void 0===t&&(t="black"),void 0===n&&(n={});var r="icon icon--"+e+("black"!==t?" icon--"+t:"");return Ip.default.createElement("span",Pp({className:r},n))};var Lp={},Ap=this&&this.__assign||function(){return(Ap=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Np=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Rp=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(Lp,"__esModule",{value:!0});var Dp=Rp(q),Hp=af.UtilHandle.cssCls;Lp.IconBtn=Dp.memo((function(e){var t=e.icon,n=e.theme,r=e.clsSuffix,i=Np(e,["icon","theme","clsSuffix"]),o=Hp("icon-btn",r);return Dp.default.createElement("button",Ap({type:"button",className:o},i),_p.inclStaticIcon(t,n))}));var jp={},Fp=this&&this.__assign||function(){return(Fp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},zp=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Vp=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(jp,"__esModule",{value:!0});var Bp=Vp(q),Wp=af.UtilHandle.cssCls;jp.Checkbox=Bp.memo((function(e){var t=e.id,n=e.label,r=e.ltLabel,i=e.clsSuffix,o=zp(e,["id","label","ltLabel","clsSuffix"]),a=Wp("checkbox",(null!=i?i:"")+(r?"lt-label":""));return Bp.default.createElement("div",{className:a},Bp.default.createElement("input",Fp({type:"checkbox",id:t,name:t},o)),n&&Bp.default.createElement("label",{htmlFor:t},n))}));var Up={},$p=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gp=this&&this.__assign||function(){return(Gp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Kp=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},qp=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Up,"__esModule",{value:!0});var Zp=qp(q),Qp=_p.inclStaticIcon("valid"),Yp=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=n.onChange.bind(n),n.onBlur=n.onBlur.bind(n),n}return $p(t,e),t.prototype.render=function(){var e=this,t=this.cssCls,n=this.props,r=n.id,i=n.label,o=(n.onInputChange,n.onInputBlur,n.validation),a=(n.defaultValue,Kp(n,["id","label","onInputChange","onInputBlur","validation","defaultValue"])),l=Object.assign(this.defValidationConfig,o),s=l.rules,u=l.fixedPosErrMsg,c=l.isValid,d=l.errMsg,f=this.hsValidation(s)&&"boolean"==typeof c,p=f&&c,h=f&&!c,m=t("text-ipt",(i?"label":"")+" "+(f?c?"valid":"invalid":"")),g=t("text-ipt__label",(null==a?void 0:a.required)?"req":""),v=t("text-ipt__err",u?"pos-fixed":""),y=h&&d?Zp.default.createElement("ul",{className:v},d.map((function(e,t){return Zp.default.createElement("li",{key:"text-ipt__err-msg-"+t},e)}))):null;return Zp.default.createElement("div",{className:m},i&&Zp.default.createElement("label",{className:g,htmlFor:r},i),Zp.default.createElement("div",{className:"text-ipt__input"},Zp.default.createElement("input",Gp({id:r,type:"text",ref:function(t){return e.$input=t},onChange:this.onChange,onBlur:this.onBlur},a)),p&&Qp,u&&y),!u&&y)},t.prototype.onChange=function(e){this.onCallback(e,this.props.onInputChange)},t.prototype.onBlur=function(e){this.onCallback(e,this.props.onInputBlur)},t.prototype.onCallback=function(e,t){if(t){var n=this.props.validation.rules,r=e.target.value,i=r.length>=3,o=this.getValidState(r,n);t(Gp(Gp({},o),{evt:e,val:r,isGte3:i}))}},t.prototype.getValidState=function(e,t){if(this.hsValidation(t)){var n=[];return t.forEach((function(t){var r=t.rule,i=t.msg,o=!0;"function"==typeof r?o=r(e):r instanceof RegExp&&(o=-1!==e.search(r)),o||n.push(i)})),{isValid:!n.length,errMsg:n}}},t.prototype.hsValidation=function(e){return(null==e?void 0:e.length)>0},Object.defineProperty(t.prototype,"defValidationConfig",{get:function(){return{rules:[],isValid:null,errMsg:[],fixedPosErrMsg:!0}},enumerable:!0,configurable:!0}),t.defaultProps={validation:{}},t}(Op.MemoComponent);Up.TextInput=Yp;var Jp={},Xp=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),eh=this&&this.__assign||function(){return(eh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},th=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},nh=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jp,"__esModule",{value:!0});var rh=nh(q),ih=_p.inclStaticIcon("close"),oh=_p.inclStaticIcon("search"),ah=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=n.onChange.bind(n),n.onClick=n.onClick.bind(n),n}return Xp(t,e),t.prototype.onChange=function(e){var t,n,r=e.target.value,i=r.length>=3;null===(n=(t=this.props).onInputChange)||void 0===n||n.call(t,{evt:e,value:r,isGte3Char:i})},t.prototype.onClick=function(e){var t,n;this.$input.value="",this.$input.focus(),null===(n=(t=this.props).onInputClear)||void 0===n||n.call(t,{evt:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.id,r=t.value,i=t.disabled,o=(t.onInputChange,t.onInputClear,th(t,["id","value","disabled","onInputChange","onInputClear"])),a="search"+(i?" search--disabled":"");return rh.default.createElement("label",{className:a,htmlFor:n},rh.default.createElement("input",eh({id:n,className:"search__input",type:"text",placeholder:"Search",value:r,disabled:i,ref:function(t){return e.$input=t},onChange:this.onChange},o)),r?rh.default.createElement("button",{className:"search__clear",type:"button",title:"clear the search",disabled:i,onClick:this.onClick},ih):oh)},t}(Op.MemoComponent);Jp.SearchInput=ah;var lh={},sh=this&&this.__assign||function(){return(sh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},uh=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},ch=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(lh,"__esModule",{value:!0});var dh=ch(q),fh=af.UtilHandle.cssCls;lh.SliderSwitch=dh.memo((function(e){var t=e.id,n=e.label,r=e.ltLabel,i=e.clsSuffix,o=uh(e,["id","label","ltLabel","clsSuffix"]),a=fh("slider-switch",(null!=i?i:"")+" "+(r?"lt-label":""));return dh.default.createElement("div",{className:a},dh.default.createElement("input",sh({type:"checkbox",id:t,name:t},o)),n&&dh.default.createElement("label",{htmlFor:t},n))}));var ph={},hh=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mh=this&&this.__assign||function(){return(mh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},gh=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},vh=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ph,"__esModule",{value:!0});var yh=vh(q),bh=_p.inclStaticIcon("arrow-dn"),wh=function(e){function t(t){var n=e.call(this,t)||this;return n.state=n.getInitialState(t),n.onSelect=n.onSelect.bind(n),n}return hh(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.selectIdx,n=this.props,r=n.list,i=n.selectIdx;if(void 0!==i&&t!==i){var o=this.getInitialState({list:r,selectIdx:t});this.setState(o)}},t.prototype.render=function(){var e=this.props,t=e.id,n=e.label,r=e.ltLabel,i=e.list,o=e.listTxtTransform,a=e.border,l=e.selectIdx,s=(e.onSelect,e.clsSuffix),u=gh(e,["id","label","ltLabel","list","listTxtTransform","border","selectIdx","onSelect","clsSuffix"]),c=this.state,d=c.hsList,f=c.hsSelectIdx,p=this.getClsName(s,a,r),h=f?mh(mh({},u),{value:l}):u;return d&&yh.default.createElement("div",{className:p},yh.default.createElement("select",mh({},h,{id:t,onChange:this.onSelect}),i.map((function(e,n){return yh.default.createElement("option",{key:t+"-"+n,value:n},o?o(e):e)}))),bh,n&&yh.default.createElement("label",{htmlFor:t},n))},t.prototype.getInitialState=function(e){var t=e.list,n=e.selectIdx;return{hsList:!!t.length,hsSelectIdx:Number.isInteger(n)&&void 0!==t[n]}},t.prototype.onSelect=function(e){var t,n,r=Number(e.target.value),i=this.props.list[r];null===(n=(t=this.props).onSelect)||void 0===n||n.call(t,{evt:e,selectValue:i,selectValueAttrVal:r})},t.prototype.getClsName=function(e,t,n){void 0===e&&(e=""),void 0===n&&(n=!1);var r=e+" "+(t?"border":"plain")+" "+(n?"lt-label":"");return this.cssCls("dropdown",r)},t}(Op.MemoComponent);ph.Dropdown=wh;var xh,Sh={},Ch=this&&this.__extends||(xh=function(e,t){return(xh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}xh(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Eh=this&&this.__assign||function(){return(Eh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Oh=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function l(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}s((r=r.apply(e,t||[])).next())}))},kh=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Th=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},_h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sh,"__esModule",{value:!0});var Ph=_h(q),Mh=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isValid:null,errMsg:[]},n.onChange=n.onChange.bind(n),n}return Ch(t,e),t.prototype.render=function(){var e=this.cssCls,t=this.props,n=this.state,r=t.id,i=t.clsSuffix,o=t.fileType,a=t.validate,l=(t.onFileChange,Th(t,["id","clsSuffix","fileType","validate","onFileChange"])),s=n.isValid,u=n.errMsg,c=e("file-input",i);return Ph.default.createElement("div",{className:c},Ph.default.createElement("input",Eh({type:"file",id:r,className:"file-input__input",accept:o,onChange:this.onChange},l)),(null==a?void 0:a.length)&&!s&&Ph.default.createElement("ul",{className:"file-input__err"},u.map((function(e,t){return Ph.default.createElement("li",{key:"file-input__err-msg-"+t},e)}))))},t.prototype.onChange=function(e){return Oh(this,void 0,void 0,(function(){var t,n,r,i,o,a,l,s;return kh(this,(function(u){switch(u.label){case 0:return t=this.props,n=t.validate,r=t.onFileChange,(null==n?void 0:n.length)?(i=e.target.files.item(0),o=[],i?[3,1]:(o.push("no file was selected"),[3,5])):[2];case 1:a=0,u.label=2;case 2:return a<n.length?(l=n[a],[4,this.getErrMsg(i,l)]):[3,5];case 3:o=u.sent(),u.label=4;case 4:return a++,[3,2];case 5:return s={errMsg:o,isValid:!o.length},this.setState(s),null==r||r(Eh(Eh({},s),{file:i})),[2]}}))}))},t.prototype.getErrMsg=function(e,t){return Oh(this,void 0,void 0,(function(){var n,r,i,o;return kh(this,(function(a){switch(a.label){case 0:return n=[],"function"!=typeof t?[3,2]:[4,t(e)];case 1:return r=a.sent(),n=!0===r?n:n.concat(r),[3,3];case 2:i=t.rule,o=t.msg,i(e)||n.push(o),a.label=3;case 3:return[2,n]}}))}))},t}(Op.MemoComponent);Sh.FileInput=Mh;var Ih={},Lh=this&&this.__assign||function(){return(Lh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Ah=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Nh=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(Ih,"__esModule",{value:!0});var Rh=Nh(q);Ih.TextBtn=Rh.memo((function(e){var t=e.text,n=e.outline,r=Ah(e,["text","outline"]),i="text-btn text-btn--"+(n?"outline":"fill");return Rh.default.createElement("button",Lh({type:"button",className:i},r),t)}));var Dh={},Hh=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jh=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dh,"__esModule",{value:!0});var Fh=jh(q),zh=_p.inclStaticIcon("close"),Vh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hh(t,e),t.prototype.componentWillUnmount=function(){this.props.onCancel()},t.prototype.render=function(){var e=this.props,t=e.header,n=e.subHeader,r=e.children,i=e.id,o=e.activeModalId,a=e.clsSuffix,l=e.cancel,s=e.onCancel,u=e.confirm,c=e.confirmDisabled,d=e.confirmType;return this.isVisible(i,o)&&Fh.default.createElement("div",{className:this.cssCls("modal",a)},Fh.default.createElement("div",{className:"modal__content"},Fh.default.createElement("div",{className:"modal__header"},Fh.default.createElement("h3",null,t),n&&Fh.default.createElement("h4",null,n),Fh.default.createElement("button",{type:"button",onClick:s},zh)),Fh.default.createElement("div",{className:"modal__body"},r),(l||u)&&Fh.default.createElement("div",{className:"modal__footer"},l&&Fh.default.createElement(Ih.TextBtn,{text:l,outline:!0,onClick:s}),u&&Fh.default.createElement(Ih.TextBtn,{text:u,disabled:c,type:d,onClick:this.onSubmit.bind(this)}))),Fh.default.createElement("div",{className:"modal__overlay",onClick:s}))},t.prototype.isVisible=function(e,t){return t&&e&&t===e},t.prototype.onSubmit=function(e){var t=this.props,n=t.onConfirm,r=t.onCancel;e.preventDefault(),n?n(e):r(e)},t.defaultProps={confirmType:"submit"},t}(Op.MemoComponent);Dh.Modal=Vh;var Bh={};Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.hintMsgSet={DOC_LINK:"User Guide",EXPAND_BTN:"expand to show the path rules",HTTPS_SWITCH:"whether the host url must have HTTPS protocol to match",EXACT_MATCH_SWITCH:"whether an address must be an exact match (else contains address)",CODE_EXEC_STEP_SELECT:"inject code either when page is interactive or page is completely loaded including images",JS_SWITCH:"whether to allow custom javascript code to be injected",CSS_SWITCH:"whether to allow custom css code to be injected",LIB_SWITCH:"whether to allow all 3rd party libraries to be injected",ADD_HOST_BTN:"add a host rule",ADD_PATH_BTN:"add a path rule",ADD_LIB_BTN:"add a 3rd party library to be injected",LIB_TYPE_SELECT:"library type (javascript; or css stylesheet)",LIB_ASYNC_SWITCH:"whether to inject the 3rd party library in a async/non-blocking manner or blocking manner",LIB_ACTIVE_SWITCH:"whether to allow the 3rd library to be injected (also requires library switch to be on)"};var Wh={},Uh=this&&this.__assign||function(){return(Uh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},$h=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Gh=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r};Object.defineProperty(Wh,"__esModule",{value:!0});var Kh=function(){function e(){}return e.prototype.getCtxTbHeaders=function(e){var t=this.getBaseCtxTbHeaders(e),n=t.slots,r=$h(t,["slots"]),i=this.getSpanCtxTbHeaders(n);return Uh(Uh({},r),{headers:i})},e.prototype.getBaseCtxTbHeaders=function(e,t,n){var r=this;void 0===t&&(t=0),n=n||this.getDefTbHeaderCache();var i=e.map((function(e){var i=e.title,o=e.sortKey,a=e.subHeader,l=n.colTotal,s=t+1,u=a?r.getBaseCtxTbHeaders(a,s,n):null;return r.setTbHeaderCache(n,s,u),{title:i,sortKey:o,ownColTotal:a?n.colTotal-l:null}})),o=0===t;return o&&this.setTbHeaderCache(n,t,i),o?Uh(Uh({},n),{rowTotal:n.slots.length}):i},e.prototype.getSpanCtxTbHeaders=function(e){var t=e.length;return e.map((function(e,n){return 0===n||t--,e.map((function(e){var n=e.ownColTotal,r=$h(e,["ownColTotal"]);return Uh(Uh({},r),{rowSpan:n?1:t,colSpan:n||1})}))}))},e.prototype.setTbHeaderCache=function(e,t,n){var r=e.slots;if(n)if(0===t)r[t]=n;else{var i=r[t];r[t]=i?i.concat(n):n}else e.colTotal++},e.prototype.getDefTbHeaderCache=function(){return{slots:[],colTotal:0,rowTotal:0}},e.prototype.getCtxListHeaders=function(e){var t=this.getBaseCtxListHeaders(e),n=t.headers,r=t.rowTotal,i=t.colTotal,o=this.getSpanCtxListHeaders(n,r);return{colTotal:i,rowTotal:r,headers:this.getFlattenListHeaders(o),gridTemplateRows:"repeat("+r+", 1fr)",gridTemplateColumns:"repeat("+i+", 1fr)"}},e.prototype.getBaseCtxListHeaders=function(e,t,n){var r=this;t=null!=t?t:1,(n=null!=n?n:{colTotal:0,rowTotal:0}).rowTotal=Math.max(n.rowTotal,t);var i=e.map((function(e){var i,o,a=e.subHeader,l=$h(e,["subHeader"]);if(a){var s=n.colTotal;i=r.getBaseCtxListHeaders(a,t+1,n).headers,o=n.colTotal-s}else n.colTotal++;return Uh(Uh({},l),{ownColTotal:o,subHeader:i})}));return Uh(Uh({},n),{headers:i})},e.prototype.getSpanCtxListHeaders=function(e,t){var n=this;return e.map((function(e){var r=e.subHeader,i=e.ownColTotal,o=$h(e,["subHeader","ownColTotal"]),a=r?{subHeader:n.getSpanCtxListHeaders(r,t-1)}:{};return Uh(Uh(Uh({},o),{colSpan:i||1,rowSpan:i?1:t}),a)}))},e.prototype.getFlattenListHeaders=function(e,t){var n=this;void 0===t&&(t=0);var r=0;return e.reduce((function(e,i){var o=i.subHeader,a=i.colSpan,l=i.rowSpan,s=$h(i,["subHeader","colSpan","rowSpan"]);return e.push(Uh(Uh({},s),{colSpan:a,rowSpan:l,gridColumn:r+1+" / "+(r+1+a),gridRow:t+1+" / "+(t+1+l)})),o&&(e=Gh(e,n.getFlattenListHeaders(o,t+1))),r+=a,e}),[])},e}();Wh.HeaderGrpHandle=Kh;var qh={},Zh=this&&this.__assign||function(){return(Zh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(qh,"__esModule",{value:!0});var Qh=function(){function e(){this.errMsg={ROW_KEY_MISSING:"Key in Row Config is missing",ROW_KEY_TYPE:"Key in Row Config must be a string",PROP_DATA_TYPE:"Data must be an array"}}return e.prototype.createOption=function(e,t){return Zh(Zh({},t||{data:[],rows:[],rowIdKey:"id",showAll:!1,pgnStartIdx:0}),e)},e.prototype.createCtxRows=function(e){void 0===e&&(e={});var t=this.createOption(e),n=t.data,r=t.rows,i=t.rowIdKey,o=t.showAll,a=t.pgnStartIdx;if(this.getValidatedData(n))return this.getCtxRows({data:n,rows:r,rowLvl:0,rowIdKey:i,parentPath:"",showAll:o,pgnStartIdx:a})},e.prototype.getCtxRows=function(e){var t=this,n=e.data,r=e.rows,i=e.rowIdKey,o=e.rowLvl,a=e.pgnStartIdx,l=e.parentPath,s=e.showAll,u=e.parentItemCtx,c=this.parseRowConfig(r[o],o),d=c.rowKey,f=c.transformFn;return n.map((function(n,r){var c={ctxIdx:void 0!==a?r+a:null,idx:r,rowType:t.getRowType(r),item:n,itemPath:t.getItemPath(r,d,l),parentPath:l,itemKey:d,itemLvl:o},p=Zh(Zh({},c),{itemId:"function"==typeof i?i(c):n[i],parentItemCtx:u,nestedItems:null,isExpdByDef:null}),h=t.getCtxNestedRows(Zh(Zh({},e),{data:n,rowLvl:o+1,parentPath:c.itemPath,parentItemCtx:p}));return Object.assign(p,{nestedItems:h,isExpdByDef:!!(null==h?void 0:h.length)&&s}),f?f(p):p}))},e.prototype.getCtxNestedRows=function(e){var t=e.data,n=e.rows,r=e.rowLvl,i=this.getValidatedData(t,n[r]);return i?this.getCtxRows(Zh(Zh({},e),{data:i})):null},e.prototype.parseRowConfig=function(e,t){var n=e[0],r=e[1];n=n||null,r=r||null;var i=0===t;return{rowKey:i?"":n,transformFn:i?"function"==typeof n?n:null:r||null}},e.prototype.getValidatedData=function(e,t){if(Array.isArray(e))return e.length?e:null;var n=this.errMsg,r=n.ROW_KEY_MISSING,i=n.ROW_KEY_TYPE,o=n.PROP_DATA_TYPE;if(!t)return null;var a=t[0];if(!a)throw new Error(r);if("string"!=typeof a)throw new Error(i);var l=a.split("/").reduce((function(t,n){return e[n]}),e),s=Array.isArray(l);if(l&&!s)throw new Error(o);return s&&l.length?l:null},e.prototype.getItemPath=function(e,t,n){var r=t?[t,e].join(":"):""+e;return n?[n,r].join("/"):r},e.prototype.getRowType=function(e){return e%2==0?"odd":"even"},e.prototype.isGteZeroInt=function(e){return Number.isInteger(e)&&e>=0},e}();qh.RowTransformHandle=Qh;var Yh={},Jh=this&&this.__assign||function(){return(Jh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(Yh,"__esModule",{value:!0});var Xh=function(){function e(){}return e.prototype.createOption=function(e,t){return Jh(Jh({},t||{showAll:!1,onePerLevel:!1}),e)},e.prototype.createState=function(){return{}},e.prototype.getExpdBtnAttr=function(e){var t,n=this.createOption(null!==(t=e.option)&&void 0!==t?t:{}),r=n.onePerLevel,i=n.showAll;return r?this.getBtnAttrForOneExpd(e):i?this.getBtnAttrForShowAll(e):this.getBtnAttrForHideAll(e)},e.prototype.rmvRowInExpdState=function(e,t){if(t in e)return e[t]=null,delete e[t],e},e.prototype.isRowOpen=function(e,t,n){void 0===n&&(n=!1);var r=t in(null!=e?e:{});return n?!r:r},e.prototype.getBtnAttrForShowAll=function(e){var t=this,n=e.itemCtx,r=e.expdState,i=e.callback,o=n.itemId,a=n.itemLvl,l=this.isRowOpen(r,o,!0);return{isOpen:l,onClick:function(){var e=Jh({},r);l?e[o]=a:t.rmvRowInExpdState(e,o),null==i||i({expdState:Jh({},e)})}}},e.prototype.getBtnAttrForHideAll=function(e){var t=this,n=e.itemCtx,r=e.expdState,i=e.callback,o=n.itemId,a=n.itemLvl,l=this.isRowOpen(r,o);return{isOpen:l,onClick:function(){var e=Jh({},r);l?t.rmvRowInExpdState(e,o):e[o]=a,null==i||i({expdState:Jh({},e)})}}},e.prototype.getBtnAttrForOneExpd=function(e){var t=this,n=e.itemCtx,r=e.expdState,i=e.callback,o=n.itemId,a=this.isRowOpen(r,o);return{isOpen:a,onClick:function(){var e,l=Jh({},r);if(a)t.rmvRowInExpdState(l,o),e=Jh({},l);else{var s=t.getRelExpdState(n),u=t.getFilteredCurrExpdState(l,s);e=Jh(Jh({},u),s)}null==i||i({expdState:e})}}},e.prototype.getRelExpdState=function(e){for(var t,n,r=e.itemId,i=e.itemLvl,o=e.parentItemCtx,a=((t={})[r]=i,t),l=o;l;)a[l.itemId]=l.itemLvl,l=null!==(n=null==l?void 0:l.parentItemCtx)&&void 0!==n?n:null;return a},e.prototype.getFilteredCurrExpdState=function(e,t){var n=this,r=Jh({},e),i=Object.entries(r);return Object.entries(t).forEach((function(e){e[0];var t=e[1];i.forEach((function(e){var i=e[0],o=e[1];t===o&&n.rmvRowInExpdState(r,i)}))})),r},e}();Yh.RowExpdHandle=Xh;var em={},tm=this&&this.__assign||function(){return(tm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(em,"__esModule",{value:!0});var nm=function(){function e(){this.noOrder=0,this.baOrder=1,this.abOrder=-1}return e.prototype.sortByObjKey=function(e,t){var n=this,r=t.key,i=t.isAsc,o=t.hsLocale;return e.sort((function(e,t){var a=e[r],l=t[r],s=n.isValSameType(a,l,"number"),u=n.isValSameType(a,l,"string"),c=u&&o;return s?n.compareNum(a,l,i):c?n.compareLocaleStr(a,l,i):u?n.compareStr(a,l,i):n.noOrder}))},e.prototype.compareNum=function(e,t,n){var r=e-t;return n?r:-r},e.prototype.compareStr=function(e,t,n){var r={sensitivity:"base"};return n?e.localeCompare(t,"en",r):t.localeCompare(e,"en",r)},e.prototype.compareLocaleStr=function(e,t,n){return n?e.localeCompare(t):t.localeCompare(e)},e.prototype.isValSameType=function(e,t,n){return typeof e===n&&typeof t===n},e.prototype.shallSort=function(e,t){var n=t.key,r=t.isAsc;return n&&void 0!==r&&e.length>1},e.prototype.createOption=function(e,t){var n=t||this.getDefOption();return tm(tm({},n),e)},e.prototype.getDefOption=function(){return{key:null,isAsc:null,hsLocale:!1,reset:!1}},e.prototype.createState=function(e,t){var n=this.shallSort(e,t),r=e.slice(0);return{data:n?this.sortByObjKey(r,t):null}},e.prototype.getDefState=function(){return{data:null}},e.prototype.createGenericCmpAttr=function(e,t){var n=e.data,r=e.option,i=e.callback,o=n.length,a=this.getGenericCmpEvtHandler(n,r,i);return{sortBtnAttr:this.createSortBtnAttr({dataTotal:o,onEvt:a,option:r,sortKey:t})}},e.prototype.createSortBtnAttr=function(e){var t=e.dataTotal,n=e.onEvt,r=e.option,i=e.sortKey,o=r.key,a=r.isAsc,l=r.reset,s=i===o,u=l&&!a;return{disabled:t<=1,isAsc:s?a:null,onClick:function(){return n({key:s&&u?null:i,isAsc:!s||(u?null:!a)})}}},e.prototype.getGenericCmpEvtHandler=function(e,t,n){var r=this;return function(i){var o=r.createOption(i,t),a=r.createState(e,o);n&&n({sortOption:o,sortState:a})}},e}();em.SortHandle=nm;var rm={},im=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),om=this&&this.__assign||function(){return(om=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},am=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rm,"__esModule",{value:!0});var lm=am(q),sm=_p.inclStaticIcon("arrow-lt"),um=_p.inclStaticIcon("arrow-rt"),cm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return im(t,e),t.prototype.render=function(){var e=this.props,t=e.startRecord,n=e.endRecord,r=e.totalRecord,i=e.firstBtnAttr,o=e.prevBtnAttr,a=e.nextBtnAttr,l=e.lastBtnAttr,s=e.pageSelectAttr,u=e.perPageSelectAttr,c=this.getMappedSelectProps(u,!0),d=this.getMappedSelectProps(s,!1),f=this.getMappedBtnProps(i,"first"),p=this.getMappedBtnProps(o,"prev"),h=this.getMappedBtnProps(a,"next"),m=this.getMappedBtnProps(l,"last");return lm.default.createElement("div",{className:"paginate"},lm.default.createElement("p",{className:"paginate__record"},"Showing ",t," - ",n," of ",r),lm.default.createElement(ph.Dropdown,om({},c)),lm.default.createElement("button",om({},f),sm,sm),lm.default.createElement("button",om({},p),sm),lm.default.createElement(ph.Dropdown,om({},d)),lm.default.createElement("button",om({},h),um),lm.default.createElement("button",om({},m),um,um))},t.prototype.getOptionTextPipe=function(e){return e?function(e){return e+" Per Page"}:function(e){return Number.isInteger(e)?"Page "+e:""+e}},t.prototype.getMappedBtnProps=function(e,t){return{type:"button",className:"paginate__btn paginate__btn--"+t,disabled:e.disabled,onClick:e.onClick}},t.prototype.getMappedSelectProps=function(e,t){var n=e.disabled,r=e.options,i=e.selectedOptionIdx,o=e.onSelect;return{clsSuffix:t?"perpage":"page",border:!0,disabled:n,list:r,listTxtTransform:this.getOptionTextPipe(t),selectIdx:i,onSelect:function(e){var t=e.evt;return o(t)}}},t}(Op.MemoComponent);rm.DataGridPagination=cm;var dm={},fm=this&&this.__assign||function(){return(fm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},pm=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},hm=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(dm,"__esModule",{value:!0});var mm=hm(q);dm._SortBtn=function(e){var t=e.isAsc,n=pm(e,["isAsc"]),r="sort-btn"+(null!=t?" sort-btn--"+(t?"a":"d")+"sc":"");return mm.default.createElement("button",fm({className:r},n))},dm.SortBtn=mm.memo(dm._SortBtn);var gm={},vm=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ym=this&&this.__assign||function(){return(ym=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},bm=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},wm=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gm,"__esModule",{value:!0});var xm=wm(q),Sm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vm(t,e),t.prototype.render=function(){var e;return"table"===(null!==(e=this.props.type)&&void 0!==e?e:"table")?this.renderTbHeader():this.renderListHeader()},t.prototype.renderTbHeader=function(){var e=this,t=this.props.rows.headers;return xm.default.createElement("thead",{className:"datagrid__head"},t.map((function(t,n){return xm.default.createElement("tr",{key:n},t.map((function(t,n){var r=t.title,i=t.sortKey,o=bm(t,["title","sortKey"]);return xm.default.createElement("th",ym({key:n,className:"datagrid__head-cell"},o),e.getCellContent(r,i))})))})))},t.prototype.renderListHeader=function(){var e=this,t=this.props.rows,n=t.headers,r=(t.rowTotal,t.colTotal,bm(t,["headers","rowTotal","colTotal"])),i=this.getCssGridVar(r);return xm.default.createElement("ul",{style:i,className:"datagrid__head"},n.map((function(t,n){var r=t.title,i=t.sortKey,o=(t.rowSpan,t.colSpan,bm(t,["title","sortKey","rowSpan","colSpan"]));return xm.default.createElement("li",{key:n,className:"datagrid__head-cell",style:e.getCssGridVar(o)},e.getCellContent(r,i))})))},t.prototype.getCssGridVar=function(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];t["--"+n]=""+r})),t},t.prototype.getCellContent=function(e,t){var n,r=this.props,i=r.data,o=r.sortBtnProps,a=r.commonProps,l=null===(n=null==a?void 0:a.state)||void 0===n?void 0:n.pgnState;return"function"==typeof e?e(i,t&&o?o(t):null,l):xm.default.createElement(xm.default.Fragment,null,"string"==typeof e?xm.default.createElement("span",null,e):e,t&&o&&xm.default.createElement(dm.SortBtn,ym({},o(t))))},t}(Op.MemoComponent);gm.DataGridHeader=Sm;var Cm={},Em=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Om=this&&this.__assign||function(){return(Om=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},km=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Tm=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cm,"__esModule",{value:!0});var _m=Tm(q);Cm.BASE_CLS="datagrid";var Pm=function(e){function t(t){var n=e.call(this,t)||this;return n.headerGrpHandle=new Wh.HeaderGrpHandle,n.pgnHandle=new Yd.PgnHandle,n.sortHandle=new em.SortHandle,n.rowTransformHandle=new qh.RowTransformHandle,n.rowExpdHandle=new Yh.RowExpdHandle,n.state=n.createState(t),n}return Em(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.shallResetState(e,this.props),n=this.createState(e,t);this.setState(Om(Om({},this.state),n))},t.prototype.render=function(){var e=this.cssCls,t=this.props,n=this.state,r=n.isTb,i=n.headerCtx,o=n.pgnState,a=t.type,l=t.component,s=l.commonProps,u=(l.rows,km(l,["commonProps","rows"])),c=Om(Om({},s),{props:t,state:n}),d=e(""+Cm.BASE_CLS,a),f=this.getSortedData(),p=Om({commonProps:c},this.getHeaderProps(f)),h=Om({commonProps:c},this.getPgnCmpProps(f)),m=this.getPreferredCmp(u),g=m.Header,v=m.Pagination,y=i?_m.default.createElement(g,Om({},p)):null,b=this.getRowElems(f),w=this.getGridBodyElem(r,y,b);return _m.default.createElement("div",{className:d},o&&_m.default.createElement(v,Om({},h)),r?_m.default.createElement("table",null,w):w)},t.prototype.createState=function(e,t){var n=e.type,r=e.component,i=e.data,o=e.sort,a=e.paginate,l=e.expand,s=e.header,u=r.rows,c=this.headerGrpHandle,d=this.rowExpdHandle,f=this.sortHandle,p=this.pgnHandle,h=o?f.createOption(o):null,m=a?p.getOption(a):null,g="list"!==n,v={isTb:g,headerCtx:s?g?c.getCtxTbHeaders(s):c.getCtxListHeaders(s):null,rowsOption:u?this.transformRowOption(u):null,sortOption:h,sortState:o?f.createState(i,h):null,pgnOption:m,pgnState:a?p.getState(i.length,m):null,expdState:(null==u?void 0:u.length)>1&&l?d.createState():null};return t?Object.entries(t).reduce((function(e,t){var n=t[0];return t[1]&&(e[n]=v[n]),e}),{}):v},t.prototype.shallResetState=function(e,t){var n=e.data,r=e.type,i=e.header,o=e.component,a=e.sort,l=e.paginate,s=e.expand,u=n!==t.data,c=r!==t.type,d=i!==t.header,f=o.rows!==t.component.rows,p=a!==t.sort,h=l!==t.paginate,m=s!==t.expand;return{isTb:c,sortOption:p,sortState:p||u||d,pgnOption:h,pgnState:h||u,headerCtx:d,rowsOption:f||m,expdState:m||f||u}},t.prototype.transformRowOption=function(e){var t=this;return e.map((function(e,n){var r=0===n,i=r?e[0]:e[1],o=t.getRowTransformFn(i);return r?[o]:[e[0],o]}))},t.prototype.getRowTransformFn=function(e){var t=this;return function(n){return _m.default.createElement(e,Om({},t.getRowCmpProps(n)))}},t.prototype.getRowCmpProps=function(e){var t=this.cssCls,n=this.props,r=this.state,i=n.component.commonProps,o=r.isTb,a=r.headerCtx,l=e.itemId,s=e.itemLvl,u=e.nestedItems,c=e.rowType;return Om(Om({},e),{key:l,dataSrc:this.getSortedData(),commonProps:i,expandProps:u?this.getRowCmpExpdProps(e):null,rowColStyle:o?null:{"--cols":a.colTotal},classNames:{REG_ROW:t(Cm.BASE_CLS+"__row",c),NESTED_ROW:u?t(Cm.BASE_CLS+"__row","nested"):"",NESTED_GRID:u?t(Cm.BASE_CLS+"__body","nested-"+(s+1)):""}})},t.prototype.getRowElems=function(e){var t=this.props,n=t.rowKey,r=t.expand,i=this.state,o=i.pgnState,a=i.rowsOption,l=null!=o?o:{},s=l.startIdx,u=l.endIdx,c=(null!=r?r:{}).showAll,d=o?e.slice(s,u):e;return this.rowTransformHandle.createCtxRows({data:d,rows:a,rowIdKey:n,showAll:c,pgnStartIdx:s})},t.prototype.getGridBodyElem=function(e,t,n){var r=(0,this.cssCls)(Cm.BASE_CLS+"__body","root"),i=e?"tbody":"ul";return _m.default.createElement(_m.default.Fragment,null,t,_m.default.createElement(i,{className:r},n))},t.prototype.getPreferredCmp=function(e){var t=e.Pagination,n=e.Header;return{Header:null!=n?n:gm.DataGridHeader,Pagination:null!=t?t:rm.DataGridPagination}},t.prototype.getSortedData=function(){var e;return(null===(e=this.state.sortState)||void 0===e?void 0:e.data)||this.props.data},t.prototype.getHeaderProps=function(e){var t=this,n=this.props.type,r=this.state.headerCtx;return{type:n,data:e,rows:r,sortBtnProps:function(n){return t.getSortCmpProps(e,n)}}},t.prototype.getSortCmpProps=function(e,t){var n,r=this.state.sortOption;if(!r)return null;var i=(null!==(n=this.props.callback)&&void 0!==n?n:{}).onSortChange;return this.sortHandle.createGenericCmpAttr({data:e,option:r,callback:this.getOnStateChangeHandler(i)},t).sortBtnAttr},t.prototype.getRowCmpExpdProps=function(e){var t=this.state.expdState,n=this.props,r=n.expand,i=n.callback,o=(null!=i?i:{}).onExpandChange;return this.rowExpdHandle.getExpdBtnAttr({itemCtx:e,expdState:t,option:r,callback:this.getOnStateChangeHandler(o)})},t.prototype.getPgnCmpProps=function(e){var t,n=this.state,r=n.pgnOption,i=n.pgnState;if(!r)return null;var o=(null!==(t=this.props.callback)&&void 0!==t?t:{}).onPaginateChange;return Om(Om({},i),this.pgnHandle.createGenericCmpAttr({totalRecord:e.length,callback:this.getOnStateChangeHandler(o),option:r,state:i}))},t.prototype.getOnStateChangeHandler=function(e){var t=this;return function(n){t.setState(Om(Om({},t.state),n)),null==e||e(n)}},t.defaultProps={type:"table"},t}(Op.MemoComponent);Cm.DataGrid=Pm;var Mm={},Im=this&&this.__assign||function(){return(Im=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Lm=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Am=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(Mm,"__esModule",{value:!0});var Nm=Am(q),Rm=af.UtilHandle.cssCls;Mm.IconSwitch=Nm.memo((function(e){var t=e.id,n=e.icon,r=e.label,i=e.clsSuffix,o=e.title,a=Lm(e,["id","icon","label","clsSuffix","title"]),l=Rm("icon-switch",i);return Nm.default.createElement("label",{title:o,className:l,htmlFor:t},Nm.default.createElement("input",Im({type:"checkbox",id:t,name:t},a)),n?_p.inclStaticIcon(r,"gray"):Nm.default.createElement("span",{className:"icon-switch__label"},r))}));var Dm={},Hm=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(Dm,"__esModule",{value:!0});var jm=Hm(q);Dm.NumBadge=jm.memo((function(e){var t=e.total,n=t>9?"9+":t<0?"0":""+t;return jm.default.createElement("span",{className:"badge"},n)})),Dm.NumBadge.defaultProps={total:0};var Fm={},zm=this&&this.__assign||function(){return(zm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Vm=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(Fm,"__esModule",{value:!0});var Bm=Vm(q);Fm.TbRow=Bm.memo((function(e){var t=e.dataSrc,n=e.idx,r=e.itemLvl,i=e.item,o=e.nestedItems,a=e.classNames,l=e.parentItemCtx,s=e.commonProps,u=s.appState,c=s.appStateHandle,d=u.localState,f=c.onRowExpand,p=c.onRowSelectToggle,h=c.onHttpsToggle,m=c.onExactMatchToggle,g=c.onJsExecStepChange,v=c.onJsToggle,y=c.onCssToggle,b=c.onLibToggle,w=c.onAddPathModal,x=c.onEditView,S=c.onDelHostOrPathModal,C=i.isHost,E=i.id,O=i.isHttps,k=i.isExactMatch,T=i.title,_=i.value,P=i.codeExecPhase,M=i.isJsOn,I=i.isCssOn,L=i.isLibOn,A=i.paths,N=null==l?void 0:l.item,R=C?E:null==N?void 0:N.id,D=C?{hostId:R}:{hostId:R,pathId:C?null:E},H=r+"-"+n,j=a.REG_ROW,F=a.NESTED_ROW,z=a.NESTED_GRID,V=d.listView.dataGrid,B=V.selectState,W=V.expdRowId,U=C&&R===W,$=B.areAllRowsSelected,G=B.selectedRowKeyCtx,K=$||R in G,q=$||!!Object.entries(G).length;return Bm.default.createElement(Bm.default.Fragment,null,Bm.default.createElement("tr",{className:j},Bm.default.createElement("td",null,C&&Bm.default.createElement(jp.Checkbox,{id:"check-"+H,checked:K,onChange:function(){return p({dataSrc:t,hostId:R})}})),Bm.default.createElement("td",null,Bm.default.createElement("div",null,C&&Bm.default.createElement(Bm.default.Fragment,null,Bm.default.createElement(Lp.IconBtn,{icon:"arrow-rt",title:Bh.hintMsgSet.EXPAND_BTN,clsSuffix:"arrow-rt "+(U?"open":""),disabled:!(null==A?void 0:A.length),onClick:function(){return f({hostId:R})}}),Bm.default.createElement(Dm.NumBadge,{total:null==A?void 0:A.length})),Bm.default.createElement("span",{className:"datagrid__cell datagrid__cell--id"},T))),Bm.default.createElement("td",null,C&&Bm.default.createElement(Mm.IconSwitch,{icon:!0,title:Bh.hintMsgSet.HTTPS_SWITCH,id:"https-"+H,label:"lock-close",checked:O,disabled:q,onChange:function(){return h({hostId:R})}}),Bm.default.createElement(Mm.IconSwitch,{label:"=",title:Bh.hintMsgSet.EXACT_MATCH_SWITCH,id:"exact-"+H,checked:k,disabled:q,onChange:function(){return m(D)}}),Bm.default.createElement("span",{className:"datagrid__cell datagrid__cell--addr"},_)),Bm.default.createElement("td",null,Bm.default.createElement(ph.Dropdown,{title:Bh.hintMsgSet.CODE_EXEC_STEP_SELECT,id:"select-"+H,list:cp.codeExecStageList,selectIdx:P,className:"dropdown__select--cell",disabled:q,onSelect:function(e){return g(zm(zm({},e),D))}})),Bm.default.createElement("td",null,Bm.default.createElement(lh.SliderSwitch,{title:Bh.hintMsgSet.JS_SWITCH,id:"js-"+H,defaultChecked:M,disabled:q,onChange:function(){return v(D)}})),Bm.default.createElement("td",null,Bm.default.createElement(lh.SliderSwitch,{title:Bh.hintMsgSet.CSS_SWITCH,id:"css-"+H,defaultChecked:I,disabled:q,onChange:function(){return y(D)}})),Bm.default.createElement("td",null,Bm.default.createElement(lh.SliderSwitch,{title:Bh.hintMsgSet.LIB_SWITCH,id:"lib-"+H,defaultChecked:L,disabled:q,onChange:function(){return b(D)}})),Bm.default.createElement("td",null,C&&Bm.default.createElement(Lp.IconBtn,{title:Bh.hintMsgSet.ADD_PATH_BTN,icon:"add",theme:"gray",disabled:q,onClick:function(){return w(D)}})),Bm.default.createElement("td",null,Bm.default.createElement(Lp.IconBtn,{icon:"edit",theme:"gray",disabled:q,onClick:function(){return x(D)}})),Bm.default.createElement("td",null,Bm.default.createElement(Lp.IconBtn,{icon:"delete",theme:"gray",disabled:q,onClick:function(){return S(D)}}))),o&&U&&Bm.default.createElement("tr",{className:F},Bm.default.createElement("td",{colSpan:11},Bm.default.createElement("table",{className:z},Bm.default.createElement("tbody",null,o)))))}));var Wm={},Um=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$m=this&&this.__assign||function(){return($m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Gm=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wm,"__esModule",{value:!0});var Km=Gm(q),qm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Um(t,e),t.prototype.render=function(){var e=this.appStateHandle,t=e.onPaginate,n=e.onSort,r=e.onRowsSelectToggle,i=e.onAddHostModal,o=e.onDelHostsModal,a=this.appState,l=a.rules,s=a.localState,u=this.dataGridState,c=u.pgnOption,d=u.pgnState,f=u.sortOption,p=u.selectState,h=s.listView.searchText,m=tf.dataHandle.getFilteredRules(l,h),g=c.increment,v=c.incrementIdx,y=d.curr,b=Vf.rowHandle.distillState(p),w=b.isPartiallySelected,x=b.hasSelected,S=x||m.length<=1,C=Km.default.createElement(jp.Checkbox,{id:"check-all",clsSuffix:w?"partial":"",disabled:!m.length,checked:x,onChange:r}),E=Km.default.createElement(Lp.IconBtn,{title:Bh.hintMsgSet.ADD_HOST_BTN,icon:"add-outline",theme:"gray",disabled:x,onClick:i});return Km.default.createElement(Cm.DataGrid,{type:"table",rowKey:"id",expand:{onePerLevel:!0},data:m,component:{rows:[[Fm.TbRow],["paths",Fm.TbRow]],commonProps:this.props},header:[{title:C},{title:function(e,t){return Km.default.createElement(Km.default.Fragment,null,Km.default.createElement("span",null,"TITLE"),Km.default.createElement(dm.SortBtn,$m({},t,{disabled:S})))},sortKey:"title"},{title:function(e,t){return Km.default.createElement(Km.default.Fragment,null,Km.default.createElement("span",null,"ADDRESS"),Km.default.createElement(dm.SortBtn,$m({},t,{disabled:S})))},sortKey:"value"},{title:"CODE EXECUTION"},{title:"JS"},{title:"CSS"},{title:"LIBRARY"},{title:E},{title:""},{title:function(e,t,n){var r={startIdx:n.startIdx,endIdx:n.endIdx};return Km.default.createElement(Lp.IconBtn,{icon:"delete",theme:"gray",disabled:!x,onClick:function(){return o({srcRules:e,sliceIdxCtx:r})}})}}],sort:f,paginate:{page:y,increment:g,incrementIdx:v},callback:{onPaginateChange:t,onSortChange:n}})},Object.defineProperty(t.prototype,"appState",{get:function(){return this.props.appState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appStateHandle",{get:function(){return this.props.appStateHandle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataGridState",{get:function(){return this.appState.localState.listView.dataGrid},enumerable:!0,configurable:!0}),t}(Op.MemoComponent);Wm.OptionListView=qm;var Zm={exports:{}};!function(e,t){"object"==typeof Zm.exports?Zm.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).CodeMirror=t()}(this,(function(){var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=r||i||o,l=a&&(r?document.documentMode||6:+(o||i)[1]),s=!o&&/WebKit\//.test(e),u=s&&/Qt\/\d+\.\d+/.test(e),c=!o&&/Chrome\//.test(e),d=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),m=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=m||/Mac/.test(t),b=/\bCrOS\b/.test(e),w=/win/i.test(t),x=d&&e.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(d=!1,s=!0);var S=y&&(u||d&&(null==x||x<12.11)),C=n||a&&l>=9;function E(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var O,k=function(e,t){var n=e.className,r=E(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function T(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function _(e,t){return T(e).appendChild(t)}function P(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function M(e,t,n,r){var i=P(e,t,n,r);return i.setAttribute("role","presentation"),i}function I(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function L(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function A(e,t){var n=e.className;E(t).test(n)||(e.className+=(n?" ":"")+t)}function N(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!E(n[r]).test(t)&&(t+=" "+n[r]);return t}O=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(e){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var R=function(e){e.select()};function D(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function H(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function j(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var l=e.indexOf("\t",o);if(l<0||l>=t)return a+(t-o);a+=l-o,a+=n-a%n,o=l+1}}m?R=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(R=function(e){try{e.select()}catch(e){}});var F=function(){this.id=null,this.f=null,this.time=0,this.handler=D(this.onTimeout,this)};function z(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}F.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},F.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var V={toString:function(){return"CodeMirror.Pass"}},B={scroll:!1},W={origin:"*mouse"},U={origin:"+move"};function $(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var G=[""];function K(e){for(;G.length<=e;)G.push(q(G)+" ");return G[e]}function q(e){return e[e.length-1]}function Z(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Q(){}function Y(e,t){var n;return Object.create?n=Object.create(e):(Q.prototype=e,n=new Q),t&&H(t,n),n}var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function X(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||J.test(e))}function ee(e,t){return t?!!(t.source.indexOf("\\w")>-1&&X(e))||t.test(e):X(e)}function te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ne=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function re(e){return e.charCodeAt(0)>=768&&ne.test(e)}function ie(e,t,n){for(;(n<0?t>0:t<e.length)&&re(e.charAt(t));)t+=n;return t}function oe(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}var ae=null;function le(e,t,n){var r;ae=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:ae=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:ae=i)}return null!=r?r:ae}var se=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,n=/[LRr]/,r=/[Lb1n]/,i=/[1n]/;function o(e,t,n){this.level=e,this.from=t,this.to=n}return function(a,l){var s="ltr"==l?"L":"R";if(0==a.length||"ltr"==l&&!e.test(a))return!1;for(var u,c=a.length,d=[],f=0;f<c;++f)d.push((u=a.charCodeAt(f))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(u):1424<=u&&u<=1524?"R":1536<=u&&u<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(u-1536):1774<=u&&u<=2220?"r":8192<=u&&u<=8203?"w":8204==u?"b":"L");for(var p=0,h=s;p<c;++p){var m=d[p];"m"==m?d[p]=h:h=m}for(var g=0,v=s;g<c;++g){var y=d[g];"1"==y&&"r"==v?d[g]="n":n.test(y)&&(v=y,"r"==y&&(d[g]="R"))}for(var b=1,w=d[0];b<c-1;++b){var x=d[b];"+"==x&&"1"==w&&"1"==d[b+1]?d[b]="1":","!=x||w!=d[b+1]||"1"!=w&&"n"!=w||(d[b]=w),w=x}for(var S=0;S<c;++S){var C=d[S];if(","==C)d[S]="N";else if("%"==C){var E=void 0;for(E=S+1;E<c&&"%"==d[E];++E);for(var O=S&&"!"==d[S-1]||E<c&&"1"==d[E]?"1":"N",k=S;k<E;++k)d[k]=O;S=E-1}}for(var T=0,_=s;T<c;++T){var P=d[T];"L"==_&&"1"==P?d[T]="L":n.test(P)&&(_=P)}for(var M=0;M<c;++M)if(t.test(d[M])){var I=void 0;for(I=M+1;I<c&&t.test(d[I]);++I);for(var L="L"==(M?d[M-1]:s),A=L==("L"==(I<c?d[I]:s))?L?"L":"R":s,N=M;N<I;++N)d[N]=A;M=I-1}for(var R,D=[],H=0;H<c;)if(r.test(d[H])){var j=H;for(++H;H<c&&r.test(d[H]);++H);D.push(new o(0,j,H))}else{var F=H,z=D.length,V="rtl"==l?1:0;for(++H;H<c&&"L"!=d[H];++H);for(var B=F;B<H;)if(i.test(d[B])){F<B&&(D.splice(z,0,new o(1,F,B)),z+=V);var W=B;for(++B;B<H&&i.test(d[B]);++B);D.splice(z,0,new o(2,W,B)),z+=V,F=B}else++B;F<H&&D.splice(z,0,new o(1,F,H))}return"ltr"==l&&(1==D[0].level&&(R=a.match(/^\s+/))&&(D[0].from=R[0].length,D.unshift(new o(0,0,R[0].length))),1==q(D).level&&(R=a.match(/\s+$/))&&(q(D).to-=R[0].length,D.push(new o(0,c-R[0].length,c)))),"rtl"==l?D.reverse():D}}();function ue(e,t){var n=e.order;return null==n&&(n=e.order=se(e.text,t)),n}var ce=[],de=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||ce).concat(n)}};function fe(e,t){return e._handlers&&e._handlers[t]||ce}function pe(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=z(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function he(e,t){var n=fe(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function me(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),he(e,n||t.type,e,t),xe(t)||t.codemirrorIgnore}function ge(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==z(n,t[r])&&n.push(t[r])}function ve(e,t){return fe(e,t).length>0}function ye(e){e.prototype.on=function(e,t){de(this,e,t)},e.prototype.off=function(e,t){pe(this,e,t)}}function be(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function we(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function xe(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Se(e){be(e),we(e)}function Ce(e){return e.target||e.srcElement}function Ee(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Oe,ke,Te=function(){if(a&&l<9)return!1;var e=P("div");return"draggable"in e||"dragDrop"in e}();function _e(e){if(null==Oe){var t=P("span","");_(e,P("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Oe=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&l<8))}var n=Oe?P("span",""):P("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Pe(e){if(null!=ke)return ke;var t=_(e,document.createTextNode("AA")),n=O(t,0,1).getBoundingClientRect(),r=O(t,1,2).getBoundingClientRect();return T(e),!(!n||n.left==n.right)&&(ke=r.right-n.right<3)}var Me,Ie=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Le=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ae="oncopy"in(Me=P("div"))||(Me.setAttribute("oncopy","return;"),"function"==typeof Me.oncopy),Ne=null,Re={},De={};function He(e){if("string"==typeof e&&De.hasOwnProperty(e))e=De[e];else if(e&&"string"==typeof e.name&&De.hasOwnProperty(e.name)){var t=De[e.name];"string"==typeof t&&(t={name:t}),(e=Y(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return He("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return He("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function je(e,t){t=He(t);var n=Re[t.name];if(!n)return je(e,"text/plain");var r=n(e,t);if(Fe.hasOwnProperty(t.name)){var i=Fe[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var Fe={};function ze(e,t){H(t,Fe.hasOwnProperty(e)?Fe[e]:Fe[e]={})}function Ve(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Be(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function We(e,t,n){return!e.startState||e.startState(t,n)}var Ue=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function $e(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function Ge(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i})),r}function Ke(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function qe(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Ze(e){if(null==e.parent)return null;for(var t=e.parent,n=z(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Qe(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var l=e.lines[a].height;if(t<l)break;t-=l}return n+a}function Ye(e,t){return t>=e.first&&t<e.first+e.size}function Je(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function Xe(e,t,n){if(void 0===n&&(n=null),!(this instanceof Xe))return new Xe(e,t,n);this.line=e,this.ch=t,this.sticky=n}function et(e,t){return e.line-t.line||e.ch-t.ch}function tt(e,t){return e.sticky==t.sticky&&0==et(e,t)}function nt(e){return Xe(e.line,e.ch)}function rt(e,t){return et(e,t)<0?t:e}function it(e,t){return et(e,t)<0?e:t}function ot(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function at(e,t){if(t.line<e.first)return Xe(e.first,0);var n=e.first+e.size-1;return t.line>n?Xe(n,$e(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?Xe(e.line,t):n<0?Xe(e.line,0):e}(t,$e(e,t.line).text.length)}function lt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=at(e,t[r]);return n}Ue.prototype.eol=function(){return this.pos>=this.string.length},Ue.prototype.sol=function(){return this.pos==this.lineStart},Ue.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ue.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ue.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ue.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ue.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ue.prototype.skipToEnd=function(){this.pos=this.string.length},Ue.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ue.prototype.backUp=function(e){this.pos-=e},Ue.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=j(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?j(this.string,this.lineStart,this.tabSize):0)},Ue.prototype.indentation=function(){return j(this.string,null,this.tabSize)-(this.lineStart?j(this.string,this.lineStart,this.tabSize):0)},Ue.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Ue.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ue.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ue.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ue.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var st=function(e,t){this.state=e,this.lookAhead=t},ut=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function ct(e,t,n,r){var i=[e.state.modeGen],o={};bt(e,t.text,e.doc.mode,n,(function(e,t){return i.push(e,t)}),o,r);for(var a=n.state,l=function(r){n.baseTokens=i;var l=e.state.overlays[r],s=1,u=0;n.state=!0,bt(e,t.text,l.mode,n,(function(e,t){for(var n=s;u<e;){var r=i[s];r>e&&i.splice(s,1,e,i[s+1],r),s+=2,u=Math.min(e,r)}if(t)if(l.opaque)i.splice(n,s-n,e,"overlay "+t),s=n+2;else for(;n<s;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}}),o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},s=0;s<e.state.overlays.length;++s)l(s);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function dt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=ft(e,Ze(t)),i=t.text.length>e.options.maxHighlightLength&&Ve(e.doc.mode,r.state),o=ct(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function ft(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new ut(r,!0,t);var o=function(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),l=t;l>a;--l){if(l<=o.first)return o.first;var s=$e(o,l-1),u=s.stateAfter;if(u&&(!n||l+(u instanceof st?u.lookAhead:0)<=o.modeFrontier))return l;var c=j(s.text,null,e.options.tabSize);(null==i||r>c)&&(i=l-1,r=c)}return i}(e,t,n),a=o>r.first&&$e(r,o-1).stateAfter,l=a?ut.fromSaved(r,a,o):new ut(r,We(r.mode),o);return r.iter(o,t,(function(n){pt(e,n.text,l);var r=l.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?l.save():null,l.nextLine()})),n&&(r.modeFrontier=l.line),l}function pt(e,t,n,r){var i=e.doc.mode,o=new Ue(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&ht(i,n.state);!o.eol();)mt(i,o,n.state),o.start=o.pos}function ht(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Be(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function mt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Be(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}ut.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ut.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ut.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ut.fromSaved=function(e,t,n){return t instanceof st?new ut(e,Ve(e.mode,t.state),n,t.lookAhead):new ut(e,Ve(e.mode,t),n)},ut.prototype.save=function(e){var t=!1!==e?Ve(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new st(t,this.maxLookAhead):t};var gt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function vt(e,t,n,r){var i,o,a=e.doc,l=a.mode,s=$e(a,(t=at(a,t)).line),u=ft(e,t.line,n),c=new Ue(s.text,e.options.tabSize,u);for(r&&(o=[]);(r||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=mt(l,c,u.state),r&&o.push(new gt(c,i,Ve(a.mode,u.state)));return r?o:new gt(c,i,u.state)}function yt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function bt(e,t,n,r,i,o,a){var l=n.flattenSpans;null==l&&(l=e.options.flattenSpans);var s,u=0,c=null,d=new Ue(t,e.options.tabSize,r),f=e.options.addModeClass&&[null];for(""==t&&yt(ht(n,r.state),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(l=!1,a&&pt(e,t,r,d.pos),d.pos=t.length,s=null):s=yt(mt(n,d,r.state,f),o),f){var p=f[0].name;p&&(s="m-"+(s?p+" "+s:p))}if(!l||c!=s){for(;u<d.start;)i(u=Math.min(d.start,u+5e3),c);c=s}d.start=d.pos}for(;u<d.pos;){var h=Math.min(d.pos,u+5e3);i(h,c),u=h}}var wt=!1,xt=!1;function St(e,t,n){this.marker=e,this.from=t,this.to=n}function Ct(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Et(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Ot(e,t){if(t.full)return null;var n=Ye(e,t.from.line)&&$e(e,t.from.line).markedSpans,r=Ye(e,t.to.line)&&$e(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==et(t.from,t.to),l=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new St(a,o.from,l?null:o.to))}}return r}(n,i,a),s=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new St(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}(r,o,a),u=1==t.text.length,c=q(t.text).length+(u?i:0);if(l)for(var d=0;d<l.length;++d){var f=l[d];if(null==f.to){var p=Ct(s,f.marker);p?u&&(f.to=null==p.to?null:p.to+c):f.to=i}}if(s)for(var h=0;h<s.length;++h){var m=s[h];null!=m.to&&(m.to+=c),null==m.from?Ct(l,m.marker)||(m.from=c,u&&(l||(l=[])).push(m)):(m.from+=c,u&&(l||(l=[])).push(m))}l&&(l=kt(l)),s&&s!=l&&(s=kt(s));var g=[l];if(!u){var v,y=t.text.length-2;if(y>0&&l)for(var b=0;b<l.length;++b)null==l[b].to&&(v||(v=[])).push(new St(l[b].marker,null,null));for(var w=0;w<y;++w)g.push(v);g.push(s)}return g}function kt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Tt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function _t(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Pt(e){return e.inclusiveLeft?-1:0}function Mt(e){return e.inclusiveRight?1:0}function It(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=et(r.from,i.from)||Pt(e)-Pt(t);return o?-o:et(r.to,i.to)||Mt(e)-Mt(t)||t.id-e.id}function Lt(e,t){var n,r=xt&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||It(n,i.marker)<0)&&(n=i.marker);return n}function At(e){return Lt(e,!0)}function Nt(e){return Lt(e,!1)}function Rt(e,t){var n,r=xt&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||It(n,o.marker)<0)&&(n=o.marker)}return n}function Dt(e,t,n,r,i){var o=$e(e,t),a=xt&&o.markedSpans;if(a)for(var l=0;l<a.length;++l){var s=a[l];if(s.marker.collapsed){var u=s.marker.find(0),c=et(u.from,n)||Pt(s.marker)-Pt(i),d=et(u.to,r)||Mt(s.marker)-Mt(i);if(!(c>=0&&d<=0||c<=0&&d>=0)&&(c<=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?et(u.to,n)>=0:et(u.to,n)>0)||c>=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?et(u.from,r)<=0:et(u.from,r)<0)))return!0}}}function Ht(e){for(var t;t=At(e);)e=t.find(-1,!0).line;return e}function jt(e,t){var n=$e(e,t),r=Ht(n);return n==r?t:Ze(r)}function Ft(e,t){if(t>e.lastLine())return t;var n,r=$e(e,t);if(!zt(e,r))return t;for(;n=Nt(r);)r=n.find(1,!0).line;return Ze(r)+1}function zt(e,t){var n=xt&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Vt(e,t,r))return!0}}function Vt(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Vt(e,r.line,Ct(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Vt(e,t,i))return!0}function Bt(e){for(var t=0,n=(e=Ht(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var l=o.children[a];if(l==n)break;t+=l.height}return t}function Wt(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=At(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Nt(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function Ut(e){var t=e.display,n=e.doc;t.maxLine=$e(n,n.first),t.maxLineLength=Wt(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=Wt(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var $t=function(e,t,n){this.text=e,_t(this,t),this.height=n?n(this):1};function Gt(e){e.parent=null,Tt(e)}$t.prototype.lineNo=function(){return Ze(this)},ye($t);var Kt={},qt={};function Zt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?qt:Kt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Qt(e,t){var n=M("span",null,null,s?"padding-right: .1px":null),r={pre:M("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;r.pos=0,r.addToken=Jt,Pe(e.display.measure)&&(a=ue(o,e.doc.direction))&&(r.addToken=Xt(r.addToken,a)),r.map=[],tn(o,r,dt(e,o,t!=e.display.externalMeasured&&Ze(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=N(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=N(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(_e(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(s){var l=r.content.lastChild;(/\bcm-tab\b/.test(l.className)||l.querySelector&&l.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return he(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=N(r.pre.className,r.textClass||"")),r}function Yt(e){var t=P("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Jt(e,t,n,r,i,o,s){if(t){var u,c=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=""),r+=o,n=" "==o}return r}(t,e.trailingSpace):t,d=e.cm.state.specialChars,f=!1;if(d.test(t)){u=document.createDocumentFragment();for(var p=0;;){d.lastIndex=p;var h=d.exec(t),m=h?h.index-p:t.length-p;if(m){var g=document.createTextNode(c.slice(p,p+m));a&&l<9?u.appendChild(P("span",[g])):u.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!h)break;p+=m+1;var v=void 0;if("\t"==h[0]){var y=e.cm.options.tabSize,b=y-e.col%y;(v=u.appendChild(P("span",K(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=b}else"\r"==h[0]||"\n"==h[0]?((v=u.appendChild(P("span","\r"==h[0]?"":"","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),a&&l<9?u.appendChild(P("span",[v])):u.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,u=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,u),a&&l<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),n||r||i||f||o||s){var w=n||"";r&&(w+=r),i&&(w+=i);var x=P("span",[u],w,o);if(s)for(var S in s)s.hasOwnProperty(S)&&"style"!=S&&"class"!=S&&x.setAttribute(S,s[S]);return e.content.appendChild(x)}e.content.appendChild(u)}}function Xt(e,t){return function(n,r,i,o,a,l,s){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var d=void 0,f=0;f<t.length&&!((d=t[f]).to>u&&d.from<=u);f++);if(d.to>=c)return e(n,r,i,o,a,l,s);e(n,r.slice(0,d.to-u),i,o,null,l,s),o=null,r=r.slice(d.to-u),u=d.to}}}function en(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function tn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,l,s,u,c,d,f,p=i.length,h=0,m=1,g="",v=0;;){if(v==h){s=u=c=l="",f=null,d=null,v=1/0;for(var y=[],b=void 0,w=0;w<r.length;++w){var x=r[w],S=x.marker;if("bookmark"==S.type&&x.from==h&&S.widgetNode)y.push(S);else if(x.from<=h&&(null==x.to||x.to>h||S.collapsed&&x.to==h&&x.from==h)){if(null!=x.to&&x.to!=h&&v>x.to&&(v=x.to,u=""),S.className&&(s+=" "+S.className),S.css&&(l=(l?l+";":"")+S.css),S.startStyle&&x.from==h&&(c+=" "+S.startStyle),S.endStyle&&x.to==v&&(b||(b=[])).push(S.endStyle,x.to),S.title&&((f||(f={})).title=S.title),S.attributes)for(var C in S.attributes)(f||(f={}))[C]=S.attributes[C];S.collapsed&&(!d||It(d.marker,S)<0)&&(d=x)}else x.from>h&&v>x.from&&(v=x.from)}if(b)for(var E=0;E<b.length;E+=2)b[E+1]==v&&(u+=" "+b[E]);if(!d||d.from==h)for(var O=0;O<y.length;++O)en(t,0,y[O]);if(d&&(d.from||0)==h){if(en(t,(null==d.to?p+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=p)break;for(var k=Math.min(p,v);;){if(g){var T=h+g.length;if(!d){var _=T>k?g.slice(0,k-h):g;t.addToken(t,_,a?a+s:s,c,h+_.length==v?u:"",l,f)}if(T>=k){g=g.slice(k-h),h=k;break}h=T,c=""}g=i.slice(o,o=n[m++]),a=Zt(n[m++],t.cm.options)}}else for(var P=1;P<n.length;P+=2)t.addToken(t,i.slice(o,o=n[P]),Zt(n[P+1],t.cm.options))}function nn(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=Nt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?Ze(q(this.rest))-n+1:1,this.node=this.text=null,this.hidden=zt(e,t)}function rn(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new nn(e.doc,$e(e.doc,o),o);r=o+a.size,i.push(a)}return i}var on=null,an=null;function ln(e,t){var n=fe(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);on?r=on.delayedCallbacks:an?r=an:(r=an=[],setTimeout(sn,0));for(var o=function(e){r.push((function(){return n[e].apply(null,i)}))},a=0;a<n.length;++a)o(a)}}function sn(){var e=an;an=null;for(var t=0;t<e.length;++t)e[t]()}function un(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?fn(e,t):"gutter"==o?hn(e,t,n,r):"class"==o?pn(e,t):"widget"==o&&mn(e,t,r)}t.changes=null}function cn(e){return e.node==e.text&&(e.node=P("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&l<8&&(e.node.style.zIndex=2)),e.node}function dn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Qt(e,t)}function fn(e,t){var n=t.text.className,r=dn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,pn(e,t)):n&&(t.text.className=n)}function pn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=cn(t);t.background=r.insertBefore(P("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?cn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function hn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=cn(t);t.gutterBackground=P("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=cn(t),l=t.gutter=P("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(l),a.insertBefore(l,t.text),t.line.gutterClass&&(l.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=l.appendChild(P("div",Je(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<e.display.gutterSpecs.length;++s){var u=e.display.gutterSpecs[s].className,c=o.hasOwnProperty(u)&&o[u];c&&l.appendChild(P("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function mn(e,t,n){t.alignable&&(t.alignable=null);for(var r=E("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);vn(e,t,n)}function gn(e,t,n,r){var i=dn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),pn(e,t),hn(e,t,n,r),vn(e,t,r),t.node}function vn(e,t,n){if(yn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)yn(e,t.rest[r],t,n,!1)}function yn(e,t,n,r,i){if(t.widgets)for(var o=cn(n),a=0,l=t.widgets;a<l.length;++a){var s=l[a],u=P("div",[s.node],"CodeMirror-linewidget"+(s.className?" "+s.className:""));s.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),bn(s,u,n,r),e.display.input.setUneditable(u),i&&s.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),ln(s,"redraw")}}function bn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function wn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!I(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),_(t.display.measure,P("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function xn(e,t){for(var n=Ce(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Sn(e){return e.lineSpace.offsetTop}function Cn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function En(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=_(e.measure,P("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function On(e){return 50-e.display.nativeBarWidth}function kn(e){return e.display.scroller.clientWidth-On(e)-e.display.barWidth}function Tn(e){return e.display.scroller.clientHeight-On(e)-e.display.barHeight}function _n(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(Ze(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Pn(e,t,n,r){return Ln(e,In(e,t),n,r)}function Mn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[lr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function In(e,t){var n=Ze(t),r=Mn(e,n);r&&!r.text?r=null:r&&r.changes&&(un(e,r,n,nr(e)),e.curOp.forceUpdate=!0),r||(r=function(e,t){var n=Ze(t=Ht(t)),r=e.display.externalMeasured=new nn(e.doc,t,n);r.lineN=n;var i=r.built=Qt(e,r);return r.text=i.pre,_(e.display.lineMeasure,i.pre),r}(e,t));var i=_n(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Ln(e,t,n,r,i){t.before&&(n=-1);var o,s=n+(r||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var r=e.options.lineWrapping,i=r&&kn(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),l=0;l<a.length-1;l++){var s=a[l],u=a[l+1];Math.abs(s.bottom-u.bottom)>2&&o.push((s.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,r){var i,o=Rn(t.map,n,r),s=o.node,u=o.start,c=o.end,d=o.collapse;if(3==s.nodeType){for(var f=0;f<4;f++){for(;u&&re(t.line.text.charAt(o.coverStart+u));)--u;for(;o.coverStart+c<o.coverEnd&&re(t.line.text.charAt(o.coverStart+c));)++c;if((i=a&&l<9&&0==u&&c==o.coverEnd-o.coverStart?s.parentNode.getBoundingClientRect():Dn(O(s,u,c).getClientRects(),r)).left||i.right||0==u)break;c=u,u-=1,d="right"}a&&l<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Ne)return Ne;var t=_(e,P("span","x")),n=t.getBoundingClientRect(),r=O(t,0,1).getBoundingClientRect();return Ne=Math.abs(n.left-r.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,i))}else{var p;u>0&&(d=r="right"),i=e.options.lineWrapping&&(p=s.getClientRects()).length>1?p["right"==r?p.length-1:0]:s.getBoundingClientRect()}if(a&&l<9&&!u&&(!i||!i.left&&!i.right)){var h=s.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+tr(e.display),top:h.top,bottom:h.bottom}:Nn}for(var m=i.top-t.rect.top,g=i.bottom-t.rect.top,v=(m+g)/2,y=t.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var w=b?y[b-1]:0,x=y[b],S={left:("right"==d?i.right:i.left)-t.rect.left,right:("left"==d?i.left:i.right)-t.rect.left,top:w,bottom:x};return i.left||i.right||(S.bogus=!0),e.options.singleCursorHeightPerLine||(S.rtop=m,S.rbottom=g),S}(e,t,n,r)).bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var An,Nn={left:0,right:0,top:0,bottom:0};function Rn(e,t,n){for(var r,i,o,a,l,s,u=0;u<e.length;u+=3)if(l=e[u],s=e[u+1],t<l?(i=0,o=1,a="left"):t<s?o=1+(i=t-l):(u==e.length-3||t==s&&e[u+3]>t)&&(i=(o=s-l)-1,t>=s&&(a="right")),null!=i){if(r=e[u+2],l==s&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)r=e[2+(u-=3)],a="left";if("right"==n&&i==s-l)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)r=e[(u+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:l,coverEnd:s}}function Dn(e,t){var n=Nn;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Hn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function jn(e){e.display.externalMeasure=null,T(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Hn(e.display.view[t])}function Fn(e){jn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function zn(){return c&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Vn(){return c&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Bn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=wn(e.widgets[n]));return t}function Wn(e,t,n,r,i){if(!i){var o=Bn(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=Bt(t);if("local"==r?a+=Sn(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var l=e.display.lineSpace.getBoundingClientRect();a+=l.top+("window"==r?0:Vn());var s=l.left+("window"==r?0:zn());n.left+=s,n.right+=s}return n.top+=a,n.bottom+=a,n}function Un(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=zn(),i-=Vn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function $n(e,t,n,r,i){return r||(r=$e(e.doc,t.line)),Wn(e,r,Pn(e,r,t.ch,i),n)}function Gn(e,t,n,r,i,o){function a(t,a){var l=Ln(e,i,t,a?"right":"left",o);return a?l.left=l.right:l.right=l.left,Wn(e,r,l,n)}r=r||$e(e.doc,t.line),i||(i=In(e,r));var l=ue(r,e.doc.direction),s=t.ch,u=t.sticky;if(s>=r.text.length?(s=r.text.length,u="before"):s<=0&&(s=0,u="after"),!l)return a("before"==u?s-1:s,"before"==u);function c(e,t,n){return a(n?e-1:e,1==l[t].level!=n)}var d=le(l,s,u),f=ae,p=c(s,d,"before"==u);return null!=f&&(p.other=c(s,f,"before"!=u)),p}function Kn(e,t){var n=0;t=at(e.doc,t),e.options.lineWrapping||(n=tr(e.display)*t.ch);var r=$e(e.doc,t.line),i=Bt(r)+Sn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function qn(e,t,n,r,i){var o=Xe(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function Zn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return qn(r.first,0,null,-1,-1);var i=Qe(r,n),o=r.first+r.size-1;if(i>o)return qn(r.first+r.size-1,$e(r,o).text.length,null,1,1);t<0&&(t=0);for(var a=$e(r,i);;){var l=Xn(e,a,i,t,n),s=Rt(a,l.ch+(l.xRel>0||l.outside>0?1:0));if(!s)return l;var u=s.find(1);if(u.line==i)return u;a=$e(r,i=u.line)}}function Qn(e,t,n,r){r-=Bn(t);var i=t.text.length,o=oe((function(t){return Ln(e,n,t-1).bottom<=r}),i,0);return{begin:o,end:i=oe((function(t){return Ln(e,n,t).top>r}),o,i)}}function Yn(e,t,n,r){return n||(n=In(e,t)),Qn(e,t,n,Wn(e,t,Ln(e,n,r),"line").top)}function Jn(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Xn(e,t,n,r,i){i-=Bt(t);var o=In(e,t),a=Bn(t),l=0,s=t.text.length,u=!0,c=ue(t,e.doc.direction);if(c){var d=(e.options.lineWrapping?function(e,t,n,r,i,o,a){var l=Qn(e,t,r,a),s=l.begin,u=l.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,d=null,f=0;f<i.length;f++){var p=i[f];if(!(p.from>=u||p.to<=s)){var h=Ln(e,r,1!=p.level?Math.min(u,p.to)-1:Math.max(s,p.from)).right,m=h<o?o-h+1e9:h-o;(!c||d>m)&&(c=p,d=m)}}return c||(c=i[i.length-1]),c.from<s&&(c={from:s,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}:function(e,t,n,r,i,o,a){var l=oe((function(l){var s=i[l],u=1!=s.level;return Jn(Gn(e,Xe(n,u?s.to:s.from,u?"before":"after"),"line",t,r),o,a,!0)}),0,i.length-1),s=i[l];if(l>0){var u=1!=s.level,c=Gn(e,Xe(n,u?s.from:s.to,u?"after":"before"),"line",t,r);Jn(c,o,a,!0)&&c.top>a&&(s=i[l-1])}return s})(e,t,n,o,c,r,i);l=(u=1!=d.level)?d.from:d.to-1,s=u?d.to:d.from-1}var f,p,h=null,m=null,g=oe((function(t){var n=Ln(e,o,t);return n.top+=a,n.bottom+=a,!!Jn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(h=t,m=n),!0)}),l,s),v=!1;if(m){var y=r-m.left<m.right-r,b=y==u;g=h+(b?0:1),p=b?"after":"before",f=y?m.left:m.right}else{u||g!=s&&g!=l||g++,p=0==g?"after":g==t.text.length?"before":Ln(e,o,g-(u?1:0)).bottom+a<=i==u?"after":"before";var w=Gn(e,Xe(n,g,p),"line",t,o);f=w.left,v=i<w.top?-1:i>=w.bottom?1:0}return qn(n,g=ie(t.text,g,1),p,v,r-f)}function er(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==An){An=P("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)An.appendChild(document.createTextNode("x")),An.appendChild(P("br"));An.appendChild(document.createTextNode("x"))}_(e.measure,An);var n=An.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),T(e.measure),n||1}function tr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=P("span","xxxxxxxxxx"),n=P("pre",[t],"CodeMirror-line-like");_(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function nr(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var l=e.display.gutterSpecs[a].className;n[l]=o.offsetLeft+o.clientLeft+i,r[l]=o.clientWidth}return{fixedPos:rr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function rr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function ir(e){var t=er(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/tr(e.display)-3);return function(i){if(zt(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function or(e){var t=e.doc,n=ir(e);t.iter((function(e){var t=n(e);t!=e.height&&qe(e,t)}))}function ar(e,t,n,r){var i=e.display;if(!n&&"true"==Ce(t).getAttribute("cm-not-content"))return null;var o,a,l=i.lineSpace.getBoundingClientRect();try{o=t.clientX-l.left,a=t.clientY-l.top}catch(e){return null}var s,u=Zn(e,o,a);if(r&&u.xRel>0&&(s=$e(e.doc,u.line).text).length==u.ch){var c=j(s,s.length,e.options.tabSize)-s.length;u=Xe(u.line,Math.max(0,Math.round((o-En(e.display).left)/tr(e.display))-c))}return u}function lr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function sr(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)xt&&jt(e.doc,t)<i.viewTo&&cr(e);else if(n<=i.viewFrom)xt&&Ft(e.doc,n+r)>i.viewFrom?cr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)cr(e);else if(t<=i.viewFrom){var o=dr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):cr(e)}else if(n>=i.viewTo){var a=dr(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):cr(e)}else{var l=dr(e,t,t,-1),s=dr(e,n,n+r,1);l&&s?(i.view=i.view.slice(0,l.index).concat(rn(e,l.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):cr(e)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:t<u.lineN+u.size&&(i.externalMeasured=null))}function ur(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[lr(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==z(a,n)&&a.push(n)}}}function cr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function dr(e,t,n,r){var i,o=lr(e,t),a=e.display.view;if(!xt||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var l=e.display.viewFrom,s=0;s<o;s++)l+=a[s].size;if(l!=t){if(r>0){if(o==a.length-1)return null;i=l+a[o].size-t,o++}else i=l-t;t+=i,n+=i}for(;jt(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function fr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function pr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function hr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var l=n.sel.ranges[a];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var s=l.empty();(s||e.options.showCursorWhenSelecting)&&mr(e,l.head,i),s||vr(e,l,o)}}return r}function mr(e,t,n){var r=Gn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(P("div","","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(P("div","","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function gr(e,t){return e.top-t.top||e.left-t.left}function vr(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=En(e.display),l=a.left,s=Math.max(r.sizerWidth,kn(e)-r.sizer.offsetLeft)-a.right,u="ltr"==i.direction;function c(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(P("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?s-e:n)+"px;\n                             height: "+(r-t)+"px"))}function d(t,n,r){var o,a,d=$e(i,t),f=d.text.length;function p(n,r){return $n(e,Xe(t,n),"div",d,r)}function h(t,n,r){var i=Yn(e,d,null,t),o="ltr"==n==("after"==r)?"left":"right";return p("after"==r?i.begin:i.end-(/\s/.test(d.text.charAt(i.end-1))?2:1),o)[o]}var m=ue(d,i.direction);return function(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}(m,n||0,null==r?f:r,(function(e,t,i,d){var g="ltr"==i,v=p(e,g?"left":"right"),y=p(t-1,g?"right":"left"),b=null==n&&0==e,w=null==r&&t==f,x=0==d,S=!m||d==m.length-1;if(y.top-v.top<=3){var C=(u?w:b)&&S,E=(u?b:w)&&x?l:(g?v:y).left,O=C?s:(g?y:v).right;c(E,v.top,O-E,v.bottom)}else{var k,T,_,P;g?(k=u&&b&&x?l:v.left,T=u?s:h(e,i,"before"),_=u?l:h(t,i,"after"),P=u&&w&&S?s:y.right):(k=u?h(e,i,"before"):l,T=!u&&b&&x?s:v.right,_=!u&&w&&S?l:y.left,P=u?h(t,i,"after"):s),c(k,v.top,T-k,v.bottom),v.bottom<y.top&&c(l,v.bottom,null,y.top),c(_,y.top,P-_,y.bottom)}(!o||gr(v,o)<0)&&(o=v),gr(y,o)<0&&(o=y),(!a||gr(v,a)<0)&&(a=v),gr(y,a)<0&&(a=y)})),{start:o,end:a}}var f=t.from(),p=t.to();if(f.line==p.line)d(f.line,f.ch,p.ch);else{var h=$e(i,f.line),m=$e(i,p.line),g=Ht(h)==Ht(m),v=d(f.line,f.ch,g?h.text.length+1:null).end,y=d(p.line,g?0:null,p.ch).start;g&&(v.top<y.top-2?(c(v.right,v.top,null,v.bottom),c(l,y.top,y.left,y.bottom)):c(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&c(l,v.bottom,null,y.top)}n.appendChild(o)}function yr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||Sr(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function br(e){e.state.focused||(e.display.input.focus(),xr(e))}function wr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Sr(e))}),100)}function xr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(he(e,"focus",e,t),e.state.focused=!0,A(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),s&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),yr(e))}function Sr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(he(e,"blur",e,t),e.state.focused=!1,k(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Cr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,s=void 0,u=0;if(!i.hidden){if(a&&l<8){var c=i.node.offsetTop+i.node.offsetHeight;s=c-n,n=c}else{var d=i.node.getBoundingClientRect();s=d.bottom-d.top,!o&&i.text.firstChild&&(u=i.text.firstChild.getBoundingClientRect().right-d.left-1)}var f=i.line.height-s;if((f>.005||f<-.005)&&(qe(i.line,s),Er(i.line),i.rest))for(var p=0;p<i.rest.length;p++)Er(i.rest[p]);if(u>e.display.sizerWidth){var h=Math.ceil(u/tr(e.display));h>e.display.maxLineLength&&(e.display.maxLineLength=h,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function Er(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Or(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Sn(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=Qe(t,r),a=Qe(t,i);if(n&&n.ensure){var l=n.ensure.from.line,s=n.ensure.to.line;l<o?(o=l,a=Qe(t,Bt($e(t,l))+e.wrapper.clientHeight)):Math.min(s,t.lastLine())>=a&&(o=Qe(t,Bt($e(t,s))-e.wrapper.clientHeight),a=s)}return{from:o,to:Math.max(a,o+1)}}function kr(e,t){var n=e.display,r=er(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Tn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var l=e.doc.height+Cn(n),s=t.top<r,u=t.bottom>l-r;if(t.top<i)a.scrollTop=s?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?l:t.bottom)-o);c!=i&&(a.scrollTop=c)}var d=e.options.fixedGutter?0:n.gutters.offsetWidth,f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-d,p=kn(e)-n.gutters.offsetWidth,h=t.right-t.left>p;return h&&(t.right=t.left+p),t.left<10?a.scrollLeft=0:t.left<f?a.scrollLeft=Math.max(0,t.left+d-(h?0:10)):t.right>p+f-3&&(a.scrollLeft=t.right+(h?0:10)-p),a}function Tr(e,t){null!=t&&(Mr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function _r(e){Mr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Pr(e,t,n){null==t&&null==n||Mr(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Mr(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Ir(e,Kn(e,t.from),Kn(e,t.to),t.margin))}function Ir(e,t,n,r){var i=kr(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Pr(e,i.scrollLeft,i.scrollTop)}function Lr(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||ii(e,{top:t}),Ar(e,t,!0),n&&ii(e),Xr(e,100))}function Ar(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Nr(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,li(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Rr(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Cn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+On(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Dr=function(e,t,n){this.cm=n;var r=this.vert=P("div",[P("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=P("div",[P("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),de(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),de(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&l<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Dr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Dr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Dr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Dr.prototype.zeroWidthHack=function(){var e=y&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new F,this.disableVert=new F},Dr.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto",t.set(1e3,(function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}))},Dr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Hr=function(){};function jr(e,t){t||(t=Rr(e));var n=e.display.barWidth,r=e.display.barHeight;Fr(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&Cr(e),Fr(e,Rr(e)),n=e.display.barWidth,r=e.display.barHeight}function Fr(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}Hr.prototype.update=function(){return{bottom:0,right:0}},Hr.prototype.setScrollLeft=function(){},Hr.prototype.setScrollTop=function(){},Hr.prototype.clear=function(){};var zr={native:Dr,null:Hr};function Vr(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&k(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new zr[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),de(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?Nr(e,t):Lr(e,t)}),e),e.display.scrollbars.addClass&&A(e.display.wrapper,e.display.scrollbars.addClass)}var Br=0;function Wr(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Br},t=e.curOp,on?on.ops.push(t):t.ownsGroup=on={ops:[t],delayedCallbacks:[]}}function Ur(e){var t=e.curOp;t&&function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}(n)}finally{on=null,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)$r(t[n]);for(var r=0;r<t.length;r++)(i=t[r]).updatedDisplay=i.mustUpdate&&ni(i.cm,i.update);for(var i,o=0;o<t.length;o++)Gr(t[o]);for(var a=0;a<t.length;a++)Kr(t[a]);for(var l=0;l<t.length;l++)qr(t[l])}(e)}(n)}}(t)}function $r(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=On(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=On(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Ut(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ti(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Gr(e){var t=e.cm,n=t.display;e.updatedDisplay&&Cr(t),e.barMeasure=Rr(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Pn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+On(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-kn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Kr(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Nr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==L();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&jr(t,e.barMeasure),e.updatedDisplay&&ai(t,e.barMeasure),e.selectionChanged&&yr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&br(e.cm)}function qr(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&ri(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Ar(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Nr(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!me(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!h){var o=P("div","",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-Sn(e.display))+"px;\n                         height: "+(t.bottom-t.top+On(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?Xe(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?Xe(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,l=Gn(e,t),s=n&&n!=t?Gn(e,n):l,u=kr(e,i={left:Math.min(l.left,s.left),top:Math.min(l.top,s.top)-r,right:Math.max(l.left,s.left),bottom:Math.max(l.bottom,s.bottom)+r}),c=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=u.scrollTop&&(Lr(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(Nr(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return i}(t,at(r,e.scrollToPos.from),at(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||he(i[a],"hide");if(o)for(var l=0;l<o.length;++l)o[l].lines.length&&he(o[l],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&he(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Zr(e,t){if(e.curOp)return t();Wr(e);try{return t()}finally{Ur(e)}}function Qr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Wr(e);try{return t.apply(e,arguments)}finally{Ur(e)}}}function Yr(e){return function(){if(this.curOp)return e.apply(this,arguments);Wr(this);try{return e.apply(this,arguments)}finally{Ur(this)}}}function Jr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Wr(t);try{return e.apply(this,arguments)}finally{Ur(t)}}}function Xr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,D(ei,e))}function ei(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=ft(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(r.line>=e.display.viewFrom){var a=o.styles,l=o.text.length>e.options.maxHighlightLength?Ve(t.mode,r.state):null,s=ct(e,o,r,!0);l&&(r.state=l),o.styles=s.styles;var u=o.styleClasses,c=s.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var d=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),f=0;!d&&f<a.length;++f)d=a[f]!=o.styles[f];d&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&pt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Xr(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Zr(e,(function(){for(var t=0;t<i.length;t++)ur(e,i[t],"text")}))}}var ti=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Or(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=kn(e),this.force=n,this.dims=nr(e),this.events=[]};function ni(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return cr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==fr(e))return!1;si(e)&&(cr(e),t.dims=nr(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),xt&&(o=jt(e.doc,o),a=Ft(e.doc,a));var l=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=rn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=rn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(lr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(rn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,lr(e,n)))),r.viewTo=n}(e,o,a),n.viewOffset=Bt($e(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var u=fr(e);if(!l&&0==u&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=function(e){if(e.hasFocus())return null;var t=L();if(!t||!I(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&I(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(e);return u>4&&(n.lineDiv.style.display="none"),function(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function l(t){var n=t.nextSibling;return s&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var u=r.view,c=r.viewFrom,d=0;d<u.length;d++){var f=u[d];if(f.hidden);else if(f.node&&f.node.parentNode==o){for(;a!=f.node;)a=l(a);var p=i&&null!=t&&t<=c&&f.lineNumber;f.changes&&(z(f.changes,"gutter")>-1&&(p=!1),un(e,f,c,n)),p&&(T(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(Je(e.options,c)))),a=f.node.nextSibling}else{var h=gn(e,f,c,n);o.insertBefore(h,a)}c+=f.size}for(;a;)a=l(a)}(e,n.updateLineNumbers,t.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=L()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&I(document.body,e.anchorNode)&&I(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(c),T(n.cursorDiv),T(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,l&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Xr(e,400)),n.updateLineNumbers=null,!0}function ri(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=kn(e))r&&(t.visible=Or(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Cn(e.display)-Tn(e),n.top)}),t.visible=Or(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!ni(e,t))break;Cr(e);var i=Rr(e);pr(e),jr(e,i),ai(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function ii(e,t){var n=new ti(e,t);if(ni(e,n)){Cr(e),ri(e,n);var r=Rr(e);pr(e),jr(e,r),ai(e,r),n.finish()}}function oi(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function ai(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+On(e)+"px"}function li(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=rr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var l=n[a].alignable;if(l)for(var s=0;s<l.length;s++)l[s].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function si(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=Je(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(P("div",[P("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",oi(e.display),!0}return!1}function ui(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function ci(e){var t=e.gutters,n=e.gutterSpecs;T(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,a=i.style,l=t.appendChild(P("div",null,"CodeMirror-gutter "+o));a&&(l.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=l,l.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",oi(e)}function di(e){ci(e.display),sr(e),li(e)}function fi(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=P("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=P("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=M("div",null,"CodeMirror-code"),o.selectionDiv=P("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=P("div",null,"CodeMirror-cursors"),o.measure=P("div",null,"CodeMirror-measure"),o.lineMeasure=P("div",null,"CodeMirror-measure"),o.lineSpace=M("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var u=M("div",[o.lineSpace],"CodeMirror-lines");o.mover=P("div",[u],null,"position: relative"),o.sizer=P("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=P("div",null,null,"position: absolute; height: 50px; width: 1px;"),o.gutters=P("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=P("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=P("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&l<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),s||n&&v||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=ui(i.gutters,i.lineNumbers),ci(o),r.init(o)}ti.prototype.signal=function(e,t){ve(e,t)&&this.events.push(arguments)},ti.prototype.finish=function(){for(var e=0;e<this.events.length;e++)he.apply(null,this.events[e])};var pi=0,hi=null;function mi(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function gi(e){var t=mi(e);return t.x*=hi,t.y*=hi,t}function vi(e,t){var r=mi(t),i=r.x,o=r.y,a=e.display,l=a.scroller,u=l.scrollWidth>l.clientWidth,c=l.scrollHeight>l.clientHeight;if(i&&u||o&&c){if(o&&y&&s)e:for(var f=t.target,p=a.view;f!=l;f=f.parentNode)for(var h=0;h<p.length;h++)if(p[h].node==f){e.display.currentWheelTarget=f;break e}if(i&&!n&&!d&&null!=hi)return o&&c&&Lr(e,Math.max(0,l.scrollTop+o*hi)),Nr(e,Math.max(0,l.scrollLeft+i*hi)),(!o||o&&c)&&be(t),void(a.wheelStartX=null);if(o&&null!=hi){var m=o*hi,g=e.doc.scrollTop,v=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),ii(e,{top:g,bottom:v})}pi<20&&(null==a.wheelStartX?(a.wheelStartX=l.scrollLeft,a.wheelStartY=l.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var e=l.scrollLeft-a.wheelStartX,t=l.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(hi=(hi*pi+n)/(pi+1),++pi)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?hi=-.53:n?hi=15:c?hi=-.7:f&&(hi=-1/3);var yi=function(e,t){this.ranges=e,this.primIndex=t};yi.prototype.primary=function(){return this.ranges[this.primIndex]},yi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!tt(n.anchor,r.anchor)||!tt(n.head,r.head))return!1}return!0},yi.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new bi(nt(this.ranges[t].anchor),nt(this.ranges[t].head));return new yi(e,this.primIndex)},yi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},yi.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(et(t,r.from())>=0&&et(e,r.to())<=0)return n}return-1};var bi=function(e,t){this.anchor=e,this.head=t};function wi(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort((function(e,t){return et(e.from(),t.from())})),n=z(t,i);for(var o=1;o<t.length;o++){var a=t[o],l=t[o-1],s=et(l.to(),a.from());if(r&&!a.empty()?s>0:s>=0){var u=it(l.from(),a.from()),c=rt(l.to(),a.to()),d=l.empty()?a.from()==a.head:l.from()==l.head;o<=n&&--n,t.splice(--o,2,new bi(d?c:u,d?u:c))}}return new yi(t,n)}function xi(e,t){return new yi([new bi(e,t||e)],0)}function Si(e){return e.text?Xe(e.from.line+e.text.length-1,q(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Ci(e,t){if(et(e,t.from)<0)return e;if(et(e,t.to)<=0)return Si(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Si(t).ch-t.to.ch),Xe(n,r)}function Ei(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new bi(Ci(i.anchor,t),Ci(i.head,t)))}return wi(e.cm,n,e.sel.primIndex)}function Oi(e,t,n){return e.line==t.line?Xe(n.line,e.ch-t.ch+n.ch):Xe(n.line+(e.line-t.line),e.ch)}function ki(e){e.doc.mode=je(e.options,e.doc.modeOption),Ti(e)}function Ti(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Xr(e,100),e.state.modeGen++,e.curOp&&sr(e)}function _i(e,t){return 0==t.from.ch&&0==t.to.ch&&""==q(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Pi(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){!function(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Tt(e),_t(e,n);var i=r?r(e):1;i!=e.height&&qe(e,i)}(e,n,i,r),ln(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new $t(u[o],i(o),r));return n}var l=t.from,s=t.to,u=t.text,c=$e(e,l.line),d=$e(e,s.line),f=q(u),p=i(u.length-1),h=s.line-l.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(_i(e,t)){var m=a(0,u.length-1);o(d,d.text,p),h&&e.remove(l.line,h),m.length&&e.insert(l.line,m)}else if(c==d)if(1==u.length)o(c,c.text.slice(0,l.ch)+f+c.text.slice(s.ch),p);else{var g=a(1,u.length-1);g.push(new $t(f+c.text.slice(s.ch),p,r)),o(c,c.text.slice(0,l.ch)+u[0],i(0)),e.insert(l.line+1,g)}else if(1==u.length)o(c,c.text.slice(0,l.ch)+u[0]+d.text.slice(s.ch),i(0)),e.remove(l.line+1,h);else{o(c,c.text.slice(0,l.ch)+u[0],i(0)),o(d,f+d.text.slice(s.ch),p);var v=a(1,u.length-1);h>1&&e.remove(l.line+1,h-1),e.insert(l.line+1,v)}ln(e,"change",e,t)}function Mi(e,t,n){!function e(r,i,o){if(r.linked)for(var a=0;a<r.linked.length;++a){var l=r.linked[a];if(l.doc!=i){var s=o&&l.sharedHist;n&&!s||(t(l.doc,s),e(l.doc,r,s))}}}(e,null,!0)}function Ii(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,or(e),ki(e),Li(e),e.options.lineWrapping||Ut(e),e.options.mode=t.modeOption,sr(e)}function Li(e){("rtl"==e.doc.direction?A:k)(e.display.lineDiv,"CodeMirror-rtl")}function Ai(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Ni(e,t){var n={from:nt(t.from),to:Si(t),text:Ge(e,t.from,t.to)};return ji(e,n,t.from.line,t.to.line+1),Mi(e,(function(e){return ji(e,n,t.from.line,t.to.line+1)}),!0),n}function Ri(e){for(;e.length&&q(e).ranges;)e.pop()}function Di(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,l=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Ri(e.done),q(e.done)):e.done.length&&!q(e.done).ranges?q(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),q(e.done)):void 0}(i,i.lastOp==r)))a=q(o.changes),0==et(t.from,t.to)&&0==et(t.from,a.to)?a.to=Si(t):o.changes.push(Ni(e,t));else{var s=q(i.done);for(s&&s.ranges||Hi(e.sel,i.done),o={changes:[Ni(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=l,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||he(e,"historyAdded")}function Hi(e,t){var n=q(t);n&&n.ranges&&n.equals(e)||t.push(e)}function ji(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function Fi(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function zi(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Fi(n[i]));return r}(e,t),r=Ot(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var l=0;l<a.length;++l){for(var s=a[l],u=0;u<o.length;++u)if(o[u].marker==s.marker)continue e;o.push(s)}else a&&(n[i]=a)}return n}function Vi(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?yi.prototype.deepCopy.call(o):o);else{var a=o.changes,l=[];r.push({changes:l});for(var s=0;s<a.length;++s){var u=a[s],c=void 0;if(l.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&z(t,Number(c[1]))>-1&&(q(l)[d]=u[d],delete u[d])}}}return r}function Bi(e,t,n,r){if(r){var i=e.anchor;if(n){var o=et(t,i)<0;o!=et(n,i)<0?(i=t,t=n):o!=et(t,n)<0&&(t=n)}return new bi(i,t)}return new bi(n||t,t)}function Wi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),qi(e,new yi([Bi(e.sel.primary(),t,n,i)],0),r)}function Ui(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Bi(e.sel.ranges[o],t[o],null,i);qi(e,wi(e.cm,r,e.sel.primIndex),n)}function $i(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,qi(e,wi(e.cm,i,e.sel.primIndex),r)}function Gi(e,t,n,r){qi(e,xi(t,n),r)}function Ki(e,t,n){var r=e.history.done,i=q(r);i&&i.ranges?(r[r.length-1]=t,Zi(e,t,n)):qi(e,t,n)}function qi(e,t,n){Zi(e,t,n),function(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,q(i.done),t))?i.done[i.done.length-1]=t:Hi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Ri(i.undone)}(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Zi(e,t,n){(ve(e,"beforeSelectionChange")||e.cm&&ve(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new bi(at(e,t[n].anchor),at(e,t[n].head))},origin:n&&n.origin};return he(e,"beforeSelectionChange",e,r),e.cm&&he(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?wi(e.cm,r.ranges,r.ranges.length-1):t}(e,t,n));var r=n&&n.bias||(et(t.primary().head,e.sel.primary().head)<0?-1:1);Qi(e,Ji(e,t,r,!0)),n&&!1===n.scroll||!e.cm||_r(e.cm)}function Qi(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ge(e.cm)),ln(e,"cursorActivity",e))}function Yi(e){Qi(e,Ji(e,e.sel,null,!1))}function Ji(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],l=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],s=eo(e,a.anchor,l&&l.anchor,n,r),u=eo(e,a.head,l&&l.head,n,r);(i||s!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new bi(s,u))}return i?wi(e.cm,i,t.primIndex):t}function Xi(e,t,n,r,i){var o=$e(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var l=o.markedSpans[a],s=l.marker,u="selectLeft"in s?!s.selectLeft:s.inclusiveLeft,c="selectRight"in s?!s.selectRight:s.inclusiveRight;if((null==l.from||(u?l.from<=t.ch:l.from<t.ch))&&(null==l.to||(c?l.to>=t.ch:l.to>t.ch))){if(i&&(he(s,"beforeCursorEnter"),s.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!s.atomic)continue;if(n){var d=s.find(r<0?1:-1),f=void 0;if((r<0?c:u)&&(d=to(e,d,-r,d&&d.line==t.line?o:null)),d&&d.line==t.line&&(f=et(d,n))&&(r<0?f<0:f>0))return Xi(e,d,t,r,i)}var p=s.find(r<0?-1:1);return(r<0?u:c)&&(p=to(e,p,r,p.line==t.line?o:null)),p?Xi(e,p,t,r,i):null}}return t}function eo(e,t,n,r,i){var o=r||1;return Xi(e,t,n,o,i)||!i&&Xi(e,t,n,o,!0)||Xi(e,t,n,-o,i)||!i&&Xi(e,t,n,-o,!0)||(e.cantEdit=!0,Xe(e.first,0))}function to(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?at(e,Xe(t.line-1)):null:n>0&&t.ch==(r||$e(e,t.line)).text.length?t.line<e.first+e.size-1?Xe(t.line+1,0):null:new Xe(t.line,t.ch+n)}function no(e){e.setSelection(Xe(e.firstLine(),0),Xe(e.lastLine()),B)}function ro(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=at(e,t)),n&&(r.to=at(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),he(e,"beforeChange",e,r),e.cm&&he(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function io(e,t,n){if(e.cm){if(!e.cm.curOp)return Qr(e.cm,io)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"))||(t=ro(e,t,!0))){var r=wt&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=z(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],l=a.find(0),s=0;s<i.length;++s){var u=i[s];if(!(et(u.to,l.from)<0||et(u.from,l.to)>0)){var c=[s,1],d=et(u.from,l.from),f=et(u.to,l.to);(d<0||!a.inclusiveLeft&&!d)&&c.push({from:u.from,to:l.from}),(f>0||!a.inclusiveRight&&!f)&&c.push({from:l.to,to:u.to}),i.splice.apply(i,c),s+=c.length-3}}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)oo(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else oo(e,t)}}function oo(e,t){if(1!=t.text.length||""!=t.text[0]||0!=et(t.from,t.to)){var n=Ei(e,t);Di(e,t,n,e.cm?e.cm.curOp.id:NaN),so(e,t,n,Ot(e,t));var r=[];Mi(e,(function(e,n){n||-1!=z(r,e.history)||(po(e.history,t),r.push(e.history)),so(e,t,null,Ot(e,t))}))}}function ao(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,a=e.sel,l="undo"==t?o.done:o.undone,s="undo"==t?o.undone:o.done,u=0;u<l.length&&(i=l[u],n?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=l.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=l.pop()).ranges){if(r)return void l.push(i);break}if(Hi(i,s),n&&!i.equals(e.sel))return void qi(e,i,{clearRedo:!1});a=i}var c=[];Hi(a,s),s.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var d=ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"),f=function(n){var r=i.changes[n];if(r.origin=t,d&&!ro(e,r,!1))return l.length=0,{};c.push(Ni(e,r));var o=n?Ei(e,r):q(l);so(e,r,o,zi(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:Si(r)});var a=[];Mi(e,(function(e,t){t||-1!=z(a,e.history)||(po(e.history,r),a.push(e.history)),so(e,r,null,zi(e,r))}))},p=i.changes.length-1;p>=0;--p){var h=f(p);if(h)return h.v}}}}function lo(e,t){if(0!=t&&(e.first+=t,e.sel=new yi(Z(e.sel.ranges,(function(e){return new bi(Xe(e.anchor.line+t,e.anchor.ch),Xe(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){sr(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)ur(e.cm,r,"gutter")}}function so(e,t,n,r){if(e.cm&&!e.cm.curOp)return Qr(e.cm,so)(e,t,n,r);if(t.to.line<e.first)lo(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);lo(e,i),t={from:Xe(e.first,0),to:Xe(t.to.line+i,t.to.ch),text:[q(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Xe(o,$e(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ge(e,t.from,t.to),n||(n=Ei(e,t)),e.cm?function(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,l=!1,s=o.line;e.options.lineWrapping||(s=Ze(Ht($e(r,o.line))),r.iter(s,a.line+1,(function(e){if(e==i.maxLine)return l=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&ge(e),Pi(r,t,n,ir(e)),e.options.lineWrapping||(r.iter(s,o.line+t.text.length,(function(e){var t=Wt(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)})),l&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=$e(e,r).stateAfter;if(i&&(!(i instanceof st)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}(r,o.line),Xr(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?sr(e):o.line!=a.line||1!=t.text.length||_i(e.doc,t)?sr(e,o.line,a.line+1,u):ur(e,o.line,"text");var c=ve(e,"changes"),d=ve(e,"change");if(d||c){var f={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&ln(e,"change",e,f),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}(e.cm,t,r):Pi(e,t,r),Zi(e,n,B),e.cantEdit&&eo(e,Xe(e.firstLine(),0))&&(e.cantEdit=!1)}}function uo(e,t,n,r,i){var o;r||(r=n),et(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),io(e,{from:n,to:r,text:t,origin:i})}function co(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function fo(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var l=0;l<o.ranges.length;l++)co(o.ranges[l].anchor,t,n,r),co(o.ranges[l].head,t,n,r)}else{for(var s=0;s<o.changes.length;++s){var u=o.changes[s];if(n<u.from.line)u.from=Xe(u.from.line+r,u.from.ch),u.to=Xe(u.to.line+r,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function po(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;fo(e.done,n,r,i),fo(e.undone,n,r,i)}function ho(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=$e(e,ot(e,t)):i=Ze(t),null==i?null:(r(o,i)&&e.cm&&ur(e.cm,i,n),o)}function mo(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function go(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}bi.prototype.from=function(){return it(this.anchor,this.head)},bi.prototype.to=function(){return rt(this.anchor,this.head)},bi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},mo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,Gt(i),ln(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},go.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof mo))){var l=[];this.collapse(l),this.children=[new mo(l)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,l=a;l<i.lines.length;){var s=new mo(i.lines.slice(l,l+=25));i.height-=s.height,this.children.splice(++r,0,s),s.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new go(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=z(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new go(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var vo=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function yo(e,t,n){Bt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Tr(e,n)}vo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=Ze(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=wn(this);qe(n,Math.max(0,n.height-o)),e&&(Zr(e,(function(){yo(e,n,-o),ur(e,r,"widget")})),ln(e,"lineWidgetCleared",e,this,r))}},vo.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=wn(this)-t;i&&(zt(this.doc,r)||qe(r,r.height+i),n&&Zr(n,(function(){n.curOp.forceUpdate=!0,yo(n,r,i),ln(n,"lineWidgetChanged",n,e,Ze(r))})))},ye(vo);var bo=0,wo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++bo};function xo(e,t,n,r,i){if(r&&r.shared)return function(e,t,n,r,i){(r=H(r)).shared=!1;var o=[xo(e,t,n,r,i)],a=o[0],l=r.widgetNode;return Mi(e,(function(e){l&&(r.widgetNode=l.cloneNode(!0)),o.push(xo(e,at(e,t),at(e,n),r,i));for(var s=0;s<e.linked.length;++s)if(e.linked[s].isParent)return;a=q(o)})),new So(o,a)}(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Qr(e.cm,xo)(e,t,n,r,i);var o=new wo(e,i),a=et(t,n);if(r&&H(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=M("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Dt(e,t.line,t,n,o)||t.line!=n.line&&Dt(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");xt=!0}o.addToHistory&&Di(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var l,s=t.line,u=e.cm;if(e.iter(s,n.line+1,(function(e){u&&o.collapsed&&!u.options.lineWrapping&&Ht(e)==u.display.maxLine&&(l=!0),o.collapsed&&s!=t.line&&qe(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new St(o,s==t.line?t.ch:null,s==n.line?n.ch:null)),++s})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){zt(e,t)&&qe(t,0)})),o.clearOnEnter&&de(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(wt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++bo,o.atomic=!0),u){if(l&&(u.curOp.updateMaxLine=!0),o.collapsed)sr(u,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=t.line;c<=n.line;c++)ur(u,c,"text");o.atomic&&Yi(u.doc),ln(u,"markerAdded",u,o)}return o}wo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Wr(e),ve(this,"clear")){var n=this.find();n&&ln(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],l=Ct(a.markedSpans,this);e&&!this.collapsed?ur(e,Ze(a),"text"):e&&(null!=l.to&&(i=Ze(a)),null!=l.from&&(r=Ze(a))),a.markedSpans=Et(a.markedSpans,l),null==l.from&&this.collapsed&&!zt(this.doc,a)&&e&&qe(a,er(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var s=0;s<this.lines.length;++s){var u=Ht(this.lines[s]),c=Wt(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&sr(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Yi(e.doc)),e&&ln(e,"markerCleared",e,this,r,i),t&&Ur(e),this.parent&&this.parent.clear()}},wo.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Ct(o.markedSpans,this);if(null!=a.from&&(n=Xe(t?o:Ze(o),a.from),-1==e))return n;if(null!=a.to&&(r=Xe(t?o:Ze(o),a.to),1==e))return r}return n&&{from:n,to:r}},wo.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Zr(r,(function(){var i=t.line,o=Ze(t.line),a=Mn(r,o);if(a&&(Hn(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!zt(n.doc,i)&&null!=n.height){var l=n.height;n.height=null;var s=wn(n)-l;s&&qe(i,i.height+s)}ln(r,"markerChanged",r,e)}))},wo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=z(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},wo.prototype.detachLine=function(e){if(this.lines.splice(z(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ye(wo);var So=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function Co(e){return e.findMarks(Xe(e.first,0),e.clipPos(Xe(e.lastLine())),(function(e){return e.parent}))}function Eo(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Mi(n.primary.doc,(function(e){return r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==z(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}So.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ln(this,"clear")}},So.prototype.find=function(e,t){return this.primary.find(e,t)},ye(So);var Oo=0,ko=function(e,t,n,r,i){if(!(this instanceof ko))return new ko(e,t,n,r,i);null==n&&(n=0),go.call(this,[new mo([new $t("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=Xe(n,0);this.sel=xi(o),this.history=new Ai(null),this.id=++Oo,this.modeOption=t,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Pi(this,{from:o,to:o,text:e}),qi(this,xi(o),B)};ko.prototype=Y(go.prototype,{constructor:ko,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ke(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Jr((function(e){var t=Xe(this.first,0),n=this.first+this.size-1;io(this,{from:t,to:Xe(n,$e(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Pr(this.cm,0,0),qi(this,xi(t),B)})),replaceRange:function(e,t,n,r){uo(this,e,t=at(this,t),n=n?at(this,n):t,r)},getRange:function(e,t,n){var r=Ge(this,at(this,e),at(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Ye(this,e))return $e(this,e)},getLineNumber:function(e){return Ze(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=$e(this,e)),Ht(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return at(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Jr((function(e,t,n){Gi(this,at(this,"number"==typeof e?Xe(e,t||0):e),null,n)})),setSelection:Jr((function(e,t,n){Gi(this,at(this,e),at(this,t||e),n)})),extendSelection:Jr((function(e,t,n){Wi(this,at(this,e),t&&at(this,t),n)})),extendSelections:Jr((function(e,t){Ui(this,lt(this,e),t)})),extendSelectionsBy:Jr((function(e,t){Ui(this,lt(this,Z(this.sel.ranges,e)),t)})),setSelections:Jr((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new bi(at(this,e[i].anchor),at(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),qi(this,wi(this.cm,r,t),n)}})),addSelection:Jr((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new bi(at(this,e),at(this,t||e))),qi(this,wi(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Ge(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Ge(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Jr((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var l=t&&"end"!=t&&function(e,t,n){for(var r=[],i=Xe(e.first,0),o=i,a=0;a<t.length;a++){var l=t[a],s=Oi(l.from,i,o),u=Oi(Si(l),i,o);if(i=l.to,o=u,"around"==n){var c=e.sel.ranges[a],d=et(c.head,c.anchor)<0;r[a]=new bi(d?u:s,d?s:u)}else r[a]=new bi(s,s)}return new yi(r,e.sel.primIndex)}(this,r,t),s=r.length-1;s>=0;s--)io(this,r[s]);l?Ki(this,l):this.cm&&_r(this.cm)})),undo:Jr((function(){ao(this,"undo")})),redo:Jr((function(){ao(this,"redo")})),undoSelection:Jr((function(){ao(this,"undo",!0)})),redoSelection:Jr((function(){ao(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Ai(this.history.maxGeneration),Mi(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Vi(this.history.done),undone:Vi(this.history.undone)}},setHistory:function(e){var t=this.history=new Ai(this.history.maxGeneration);t.done=Vi(e.done.slice(0),null,!0),t.undone=Vi(e.undone.slice(0),null,!0)},setGutterMarker:Jr((function(e,t,n){return ho(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&te(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:Jr((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&ho(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,te(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!Ye(this,e))return null;if(t=e,!(e=$e(this,e)))return null}else if(null==(t=Ze(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Jr((function(e,t,n){return ho(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(E(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:Jr((function(e,t,n){return ho(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(E(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:Jr((function(e,t,n){return function(e,t,n,r){var i=new vo(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),ho(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!zt(e,t)){var r=Bt(t)<e.scrollTop;qe(t,t.height+wn(i)),r&&Tr(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&ln(o,"lineWidgetAdded",o,i,"number"==typeof t?t:Ze(t)),i}(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return xo(this,at(this,e),at(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return xo(this,e=at(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=$e(this,(e=at(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=at(this,e),t=at(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var l=0;l<a.length;l++){var s=a[l];null!=s.to&&i==e.line&&e.ch>=s.to||null==s.from&&i!=e.line||null!=s.from&&i==t.line&&s.from>=t.ch||n&&!n(s.marker)||r.push(s.marker.parent||s.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),at(this,Xe(n,t))},indexFromPos:function(e){var t=(e=at(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new ko(Ke(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new ko(Ke(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(et(o,a)){var l=xo(e,o,a,r.primary,r.primary.type);r.markers.push(l),l.parent=r}}}(r,Co(this)),r},unlinkDoc:function(e){if(e instanceof xa&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Eo(Co(this));break}if(e.history==this.history){var n=[e.id];Mi(e,(function(e){return n.push(e.id)}),!0),e.history=new Ai(null),e.history.done=Vi(this.history.done,n),e.history.undone=Vi(this.history.undone,n)}},iterLinkedDocs:function(e){Mi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ie(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Jr((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&Zr(t=this.cm,(function(){Li(t),sr(t)})))}))}),ko.prototype.eachLine=ko.prototype.iter;var To=0;function _o(e){var t=this;if(Po(t),!me(t,e)&&!xn(t.display,e)){be(e),a&&(To=+new Date);var n=ar(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),l=0,s=function(){++l==i&&Qr(t,(function(){var e={from:n=at(t.doc,n),to:n,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};io(t.doc,e),Ki(t.doc,xi(at(t.doc,n),at(t.doc,Si(e))))}))()},u=function(e,n){if(t.options.allowDropFileTypes&&-1==z(t.options.allowDropFileTypes,e.type))s();else{var r=new FileReader;r.onerror=function(){return s()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[n]=e),s()},r.readAsText(e)}},c=0;c<r.length;c++)u(r[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var f;if(t.state.draggingText&&!t.state.draggingText.copy&&(f=t.listSelections()),Zi(t.doc,xi(n,n)),f)for(var p=0;p<f.length;++p)uo(t.doc,"",f[p].anchor,f[p].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Po(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Mo(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Io=!1;function Lo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Ao={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},No=0;No<10;No++)Ao[No+48]=Ao[No+96]=String(No);for(var Ro=65;Ro<=90;Ro++)Ao[Ro]=String.fromCharCode(Ro);for(var Do=1;Do<=12;Do++)Ao[Do+111]=Ao[Do+63235]="F"+Do;var Ho={};function jo(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var l=o[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else{if(!/^s(hift)?$/i.test(l))throw new Error("Unrecognized modifier name: "+l);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Fo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=Z(n.split(" "),jo),o=0;o<i.length;o++){var a=void 0,l=void 0;o==i.length-1?(l=i.join(" "),a=r):(l=i.slice(0,o+1).join(" "),a="...");var s=t[l];if(s){if(s!=a)throw new Error("Inconsistent bindings for "+l)}else t[l]=a}delete e[n]}for(var u in t)e[u]=t[u];return e}function zo(e,t,n,r){var i=(t=Uo(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return zo(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=zo(e,t.fallthrough[o],n,r);if(a)return a}}}function Vo(e){var t="string"==typeof e?e:Ao[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Bo(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(S?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(S?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Wo(e,t){if(d&&34==e.keyCode&&e.char)return!1;var n=Ao[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Bo(n,e,t))}function Uo(e){return"string"==typeof e?Ho[e]:e}function $o(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&et(o.from,q(r).to)<=0;){var a=r.pop();if(et(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Zr(e,(function(){for(var t=r.length-1;t>=0;t--)uo(e.doc,"",r[t].from,r[t].to,"+delete");_r(e)}))}function Go(e,t,n){var r=ie(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Ko(e,t,n){var r=Go(e,t.ch,n);return null==r?null:new Xe(t.line,r,n<0?"after":"before")}function qo(e,t,n,r,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=ue(n,t.doc.direction);if(o){var a,l=i<0?q(o):o[0],s=i<0==(1==l.level)?"after":"before";if(l.level>0||"rtl"==t.doc.direction){var u=In(t,n);a=i<0?n.text.length-1:0;var c=Ln(t,u,a).top;a=oe((function(e){return Ln(t,u,e).top==c}),i<0==(1==l.level)?l.from:l.to-1,a),"before"==s&&(a=Go(n,a,1))}else a=i<0?l.to:l.from;return new Xe(r,a,s)}}return new Xe(r,i<0?n.text.length:0,i<0?"before":"after")}Ho.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ho.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ho.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ho.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ho.default=y?Ho.macDefault:Ho.pcDefault;var Zo={selectAll:no,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),B)},killLine:function(e){return $o(e,(function(t){if(t.empty()){var n=$e(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Xe(t.head.line+1,0)}:{from:t.head,to:Xe(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return $o(e,(function(t){return{from:Xe(t.from().line,0),to:at(e.doc,Xe(t.to().line+1,0))}}))},delLineLeft:function(e){return $o(e,(function(e){return{from:Xe(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return $o(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return $o(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(Xe(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(Xe(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Qo(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return Yo(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var n=$e(e.doc,t),r=function(e){for(var t;t=Nt(e);)e=t.find(1,!0).line;return e}(n);return r!=n&&(t=Ze(r)),qo(!0,e,n,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),U)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),U)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Yo(e,t.head):r}),U)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=j(e.getLine(o.line),o.ch,r);t.push(K(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Zr(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=$e(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Xe(i.line,i.ch-1)),i.ch>0)i=new Xe(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Xe(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=$e(e.doc,i.line-1).text;a&&(i=new Xe(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),Xe(i.line-1,a.length-1),i,"+transpose"))}n.push(new bi(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){return Zr(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);_r(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Qo(e,t){var n=$e(e.doc,t),r=Ht(n);return r!=n&&(t=Ze(r)),qo(!0,e,r,t,1)}function Yo(e,t){var n=Qo(e,t.line),r=$e(e.doc,n.line),i=ue(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return Xe(n.line,a?0:o,n.sticky)}return n}function Jo(e,t,n){if("string"==typeof t&&!(t=Zo[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=V}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}var Xo=new F;function ea(e,t,n,r){var i=e.state.keySeq;if(i){if(Vo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Xo.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),ta(e,i+" "+t,n,r))return!0}return ta(e,t,n,r)}function ta(e,t,n,r){var i=function(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=zo(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&zo(t,e.options.extraKeys,n,e)||zo(t,e.options.keyMap,n,e)}(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&ln(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(be(n),yr(e)),!!i}function na(e,t){var n=Wo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?ea(e,"Shift-"+n,t,(function(t){return Jo(e,t,!0)}))||ea(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return Jo(e,t)})):ea(e,n,t,(function(t){return Jo(e,t)})))}var ra=null;function ia(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=L(),me(t,e)))){a&&l<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=na(t,e);d&&(ra=i?r:null,!i&&88==r&&!Ae&&(y?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),n&&!y&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(k(t,"CodeMirror-crosshair"),pe(document,"keyup",n),pe(document,"mouseover",n))}A(t,"CodeMirror-crosshair"),de(document,"keyup",n),de(document,"mouseover",n)}(t)}}function oa(e){16==e.keyCode&&(this.doc.sel.shift=!1),me(this,e)}function aa(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||xn(t.display,e)||me(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(d&&n==ra)return ra=null,void be(e);if(!d||e.which&&!(e.which<10)||!na(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(e,t,n){return ea(e,"'"+n+"'",t,(function(t){return Jo(e,t,!0)}))}(t,e,i)||t.display.input.onKeyPress(e))}}}var la,sa,ua=function(e,t,n){this.time=e,this.pos=t,this.button=n};function ca(e){var t=this,n=t.display;if(!(me(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,xn(n,e))s||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!pa(t,e)){var r=ar(t,e),i=Ee(e),o=r?function(e,t){var n=+new Date;return sa&&sa.compare(n,e,t)?(la=sa=null,"triple"):la&&la.compare(n,e,t)?(sa=new ua(n,e,t),la=null,"double"):(la=new ua(n,e,t),sa=null,"single")}(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&function(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),ea(e,Bo(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=Zo[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=V}finally{e.state.suppressEdits=!1}return r}))}(t,i,r,o,e)||(1==i?r?function(e,t,n,r){a?setTimeout(D(br,e),0):e.curOp.focus=L();var i,o=function(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=b?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=y?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(y?n.altKey:n.ctrlKey)),i}(e,n,r),u=e.doc.sel;e.options.dragDrop&&Te&&!e.isReadOnly()&&"single"==n&&(i=u.contains(t))>-1&&(et((i=u.ranges[i]).from(),t)<0||t.xRel>0)&&(et(i.to(),t)>0||t.xRel<0)?function(e,t,n,r){var i=e.display,o=!1,u=Qr(e,(function(t){s&&(i.scroller.draggable=!1),e.state.draggingText=!1,pe(i.wrapper.ownerDocument,"mouseup",u),pe(i.wrapper.ownerDocument,"mousemove",c),pe(i.scroller,"dragstart",d),pe(i.scroller,"drop",u),o||(be(t),r.addNew||Wi(e.doc,n,null,null,r.extend),s&&!f||a&&9==l?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return o=!0};s&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),de(i.wrapper.ownerDocument,"mouseup",u),de(i.wrapper.ownerDocument,"mousemove",c),de(i.scroller,"dragstart",d),de(i.scroller,"drop",u),wr(e),setTimeout((function(){return i.input.focus()}),20)}(e,r,t,o):function(e,t,n,r){var i=e.display,o=e.doc;be(t);var a,l,s=o.sel,u=s.ranges;if(r.addNew&&!r.extend?(l=o.sel.contains(n),a=l>-1?u[l]:new bi(n,n)):(a=o.sel.primary(),l=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new bi(n,n)),n=ar(e,t,!0,!0),l=-1;else{var c=da(e,n,r.unit);a=r.extend?Bi(a,c.anchor,c.head,r.extend):c}r.addNew?-1==l?(l=u.length,qi(o,wi(e,u.concat([a]),l),{scroll:!1,origin:"*mouse"})):u.length>1&&u[l].empty()&&"char"==r.unit&&!r.extend?(qi(o,wi(e,u.slice(0,l).concat(u.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),s=o.sel):$i(o,l,a,W):(l=0,qi(o,new yi([a],0),W),s=o.sel);var d=n;function f(t){if(0!=et(d,t))if(d=t,"rectangle"==r.unit){for(var i=[],u=e.options.tabSize,c=j($e(o,n.line).text,n.ch,u),f=j($e(o,t.line).text,t.ch,u),p=Math.min(c,f),h=Math.max(c,f),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=$e(o,m).text,y=$(v,p,u);p==h?i.push(new bi(Xe(m,y),Xe(m,y))):v.length>y&&i.push(new bi(Xe(m,y),Xe(m,$(v,h,u))))}i.length||i.push(new bi(n,n)),qi(o,wi(e,s.ranges.slice(0,l).concat(i),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,w=a,x=da(e,t,r.unit),S=w.anchor;et(x.anchor,S)>0?(b=x.head,S=it(w.from(),x.anchor)):(b=x.anchor,S=rt(w.to(),x.head));var C=s.ranges.slice(0);C[l]=function(e,t){var n=t.anchor,r=t.head,i=$e(e.doc,n.line);if(0==et(n,r)&&n.sticky==r.sticky)return t;var o=ue(i);if(!o)return t;var a=le(o,n.ch,n.sticky),l=o[a];if(l.from!=n.ch&&l.to!=n.ch)return t;var s,u=a+(l.from==n.ch==(1!=l.level)?0:1);if(0==u||u==o.length)return t;if(r.line!=n.line)s=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=le(o,r.ch,r.sticky),d=c-a||(r.ch-n.ch)*(1==l.level?-1:1);s=c==u-1||c==u?d<0:d>0}var f=o[u+(s?-1:0)],p=s==(1==f.level),h=p?f.from:f.to,m=p?"after":"before";return n.ch==h&&n.sticky==m?t:new bi(new Xe(n.line,h,m),r)}(e,new bi(at(o,S),b)),qi(o,wi(e,C,l),W)}}var p=i.wrapper.getBoundingClientRect(),h=0;function m(t){e.state.selectingText=!1,h=1/0,t&&(be(t),i.input.focus()),pe(i.wrapper.ownerDocument,"mousemove",g),pe(i.wrapper.ownerDocument,"mouseup",v),o.history.lastSelOrigin=null}var g=Qr(e,(function(t){0!==t.buttons&&Ee(t)?function t(n){var a=++h,l=ar(e,n,!0,"rectangle"==r.unit);if(l)if(0!=et(l,d)){e.curOp.focus=L(),f(l);var s=Or(i,o);(l.line>=s.to||l.line<s.from)&&setTimeout(Qr(e,(function(){h==a&&t(n)})),150)}else{var u=n.clientY<p.top?-20:n.clientY>p.bottom?20:0;u&&setTimeout(Qr(e,(function(){h==a&&(i.scroller.scrollTop+=u,t(n))})),50)}}(t):m(t)})),v=Qr(e,m);e.state.selectingText=v,de(i.wrapper.ownerDocument,"mousemove",g),de(i.wrapper.ownerDocument,"mouseup",v)}(e,r,t,o)}(t,r,o,e):Ce(e)==n.scroller&&be(e):2==i?(r&&Wi(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(C?t.display.input.onContextMenu(e):wr(t)))}}function da(e,t,n){if("char"==n)return new bi(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new bi(Xe(t.line,0),at(e.doc,Xe(t.line+1,0)));var r=n(e,t);return new bi(r.from,r.to)}function fa(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(e){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&be(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(o>l.bottom||!ve(e,n))return xe(t);o-=l.top-a.viewOffset;for(var s=0;s<e.display.gutterSpecs.length;++s){var u=a.gutters.childNodes[s];if(u&&u.getBoundingClientRect().right>=i)return he(e,n,e,Qe(e.doc,o),e.display.gutterSpecs[s].className,t),xe(t)}}function pa(e,t){return fa(e,t,"gutterClick",!0)}function ha(e,t){xn(e.display,t)||function(e,t){return!!ve(e,"gutterContextMenu")&&fa(e,t,"gutterContextMenu",!1)}(e,t)||me(e,t,"contextmenu")||C||e.display.input.onContextMenu(t)}function ma(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Fn(e)}ua.prototype.compare=function(e,t,n){return this.time+400>e&&0==et(t,this.pos)&&n==this.button};var ga={toString:function(){return"CodeMirror.Init"}},va={},ya={};function ba(e,t,n){if(!t!=!(n&&n!=ga)){var r=e.display.dragFunctions,i=t?de:pe;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function wa(e){e.options.lineWrapping?(A(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(k(e.display.wrapper,"CodeMirror-wrap"),Ut(e)),or(e),sr(e),Fn(e),setTimeout((function(){return jr(e)}),100)}function xa(e,t){var n=this;if(!(this instanceof xa))return new xa(e,t);this.options=t=t?H(t):{},H(va,t,!1);var r=t.value;"string"==typeof r?r=new ko(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new xa.inputStyles[t.inputStyle](this),o=this.display=new fi(e,r,i,t);for(var u in o.wrapper.CodeMirror=this,ma(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Vr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new F,keySeq:null,specialChars:null},t.autofocus&&!v&&o.input.focus(),a&&l<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(e){var t=e.display;de(t.scroller,"mousedown",Qr(e,ca)),de(t.scroller,"dblclick",a&&l<11?Qr(e,(function(t){if(!me(e,t)){var n=ar(e,t);if(n&&!pa(e,t)&&!xn(e.display,t)){be(t);var r=e.findWordAt(n);Wi(e.doc,r.anchor,r.head)}}})):function(t){return me(e,t)||be(t)}),de(t.scroller,"contextmenu",(function(t){return ha(e,t)})),de(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||ha(e,n)}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}de(t.scroller,"touchstart",(function(i){if(!me(e,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!pa(e,i)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),de(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),de(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!xn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var a,l=e.coordsChar(t.activeTouch,"page");a=!r.prev||o(r,r.prev)?new bi(l,l):!r.prev.prev||o(r,r.prev.prev)?e.findWordAt(l):new bi(Xe(l.line,0),at(e.doc,Xe(l.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),be(n)}i()})),de(t.scroller,"touchcancel",i),de(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Lr(e,t.scroller.scrollTop),Nr(e,t.scroller.scrollLeft,!0),he(e,"scroll",e))})),de(t.scroller,"mousewheel",(function(t){return vi(e,t)})),de(t.scroller,"DOMMouseScroll",(function(t){return vi(e,t)})),de(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){me(e,t)||Se(t)},over:function(t){me(e,t)||(function(e,t){var n=ar(e,t);if(n){var r=document.createDocumentFragment();mr(e,n,r),e.display.dragCursor||(e.display.dragCursor=P("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),_(e.display.dragCursor,r)}}(e,t),Se(t))},start:function(t){return function(e,t){if(a&&(!e.state.draggingText||+new Date-To<100))Se(t);else if(!me(e,t)&&!xn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var n=P("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}(e,t)},drop:Qr(e,_o),leave:function(t){me(e,t)||Po(e)}};var s=t.input.getField();de(s,"keyup",(function(t){return oa.call(e,t)})),de(s,"keydown",Qr(e,ia)),de(s,"keypress",Qr(e,aa)),de(s,"focus",(function(t){return xr(e,t)})),de(s,"blur",(function(t){return Sr(e,t)}))}(this),function(){var e;Io||(de(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Mo(Lo)}),100))})),de(window,"blur",(function(){return Mo(Sr)})),Io=!0)}(),Wr(this),this.curOp.forceUpdate=!0,Ii(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&xr(n)}),20):Sr(this),ya)ya.hasOwnProperty(u)&&ya[u](this,t[u],ga);si(this),t.finishInit&&t.finishInit(this);for(var c=0;c<Sa.length;++c)Sa[c](this);Ur(this),s&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}xa.defaults=va,xa.optionHandlers=ya;var Sa=[];function Ca(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=ft(e,t).state:n="prev");var a=e.options.tabSize,l=$e(o,t),s=j(l.text,null,a);l.stateAfter&&(l.stateAfter=null);var u,c=l.text.match(/^\s*/)[0];if(r||/\S/.test(l.text)){if("smart"==n&&((u=o.mode.indent(i,l.text.slice(c.length),l.text))==V||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?j($e(o,t-1).text,null,a):0:"add"==n?u=s+e.options.indentUnit:"subtract"==n?u=s-e.options.indentUnit:"number"==typeof n&&(u=s+n),u=Math.max(0,u);var d="",f=0;if(e.options.indentWithTabs)for(var p=Math.floor(u/a);p;--p)f+=a,d+="\t";if(f<u&&(d+=K(u-f)),d!=c)return uo(o,d,Xe(t,0),Xe(t,c.length),"+input"),l.stateAfter=null,!0;for(var h=0;h<o.sel.ranges.length;h++){var m=o.sel.ranges[h];if(m.head.line==t&&m.head.ch<c.length){var g=Xe(t,c.length);$i(o,h,new bi(g,g));break}}}xa.defineInitHook=function(e){return Sa.push(e)};var Ea=null;function Oa(e){Ea=e}function ka(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=+new Date-200,l="paste"==i||e.state.pasteIncoming>a,s=Ie(t),u=null;if(l&&r.ranges.length>1)if(Ea&&Ea.text.join("\n")==t){if(r.ranges.length%Ea.text.length==0){u=[];for(var c=0;c<Ea.text.length;c++)u.push(o.splitLines(Ea.text[c]))}}else s.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(u=Z(s,(function(e){return[e]})));for(var d=e.curOp.updateInput,f=r.ranges.length-1;f>=0;f--){var p=r.ranges[f],h=p.from(),m=p.to();p.empty()&&(n&&n>0?h=Xe(h.line,h.ch-n):e.state.overwrite&&!l?m=Xe(m.line,Math.min($e(o,m.line).text.length,m.ch+q(s).length)):l&&Ea&&Ea.lineWise&&Ea.text.join("\n")==s.join("\n")&&(h=m=Xe(h.line,0)));var g={from:h,to:m,text:u?u[f%u.length]:s,origin:i||(l?"paste":e.state.cutIncoming>a?"cut":"+input")};io(e.doc,g),ln(e,"inputRead",e,g)}t&&!l&&_a(e,t),_r(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Ta(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Zr(t,(function(){return ka(t,n,0,null,"paste")})),!0}function _a(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var l=0;l<o.electricChars.length;l++)if(t.indexOf(o.electricChars.charAt(l))>-1){a=Ca(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test($e(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Ca(e,i.head.line,"smart"));a&&ln(e,"electricInput",e,i.head.line)}}}function Pa(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:Xe(i,0),head:Xe(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Ma(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Ia(){var e=P("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=P("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return s?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Ma(e),t}function La(e,t,n,r,i){var o=t,a=n,l=$e(e,t.line),s=i&&"rtl"==e.direction?-n:n;function u(o){var a,u;if("codepoint"==r){var c=l.text.charCodeAt(t.ch+(r>0?0:-1));a=isNaN(c)?null:new Xe(t.line,Math.max(0,Math.min(l.text.length,t.ch+n*(c>=55296&&c<56320?2:1))),-n)}else a=i?function(e,t,n,r){var i=ue(t,e.doc.direction);if(!i)return Ko(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=le(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Ko(t,n,r);var l,s=function(e,n){return Go(t,e instanceof Xe?e.ch:e,n)},u=function(n){return e.options.lineWrapping?(l=l||In(e,t),Yn(e,t,l,n)):{begin:0,end:t.text.length}},c=u("before"==n.sticky?s(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var d=1==a.level==r<0,f=s(n,d?1:-1);if(null!=f&&(d?f<=a.to&&f<=c.end:f>=a.from&&f>=c.begin)){var p=d?"before":"after";return new Xe(n.line,f,p)}}var h=function(e,t,r){for(var o=function(e,t){return t?new Xe(n.line,s(e,1),"before"):new Xe(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],l=t>0==(1!=a.level),u=l?r.begin:s(r.end,-1);if(a.from<=u&&u<a.to)return o(u,l);if(u=l?a.from:s(a.to,-1),r.begin<=u&&u<r.end)return o(u,l)}},m=h(o+r,r,c);if(m)return m;var g=r>0?c.end:s(c.begin,-1);return null==g||r>0&&g==t.text.length||!(m=h(r>0?0:i.length-1,r,u(g)))?null:m}(e.cm,l,t,n):Ko(l,t,n);if(null==a){if(o||(u=t.line+s)<e.first||u>=e.first+e.size||(t=new Xe(u,t.ch,t.sticky),!(l=$e(e,u))))return!1;t=qo(i,e.cm,l,t.line,s)}else t=a;return!0}if("char"==r||"codepoint"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var c=null,d="group"==r,f=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(n<0)||u(!p);p=!1){var h=l.text.charAt(t.ch)||"\n",m=ee(h,f)?"w":d&&"\n"==h?"n":!d||/\s/.test(h)?null:"p";if(!d||p||m||(m="s"),c&&c!=m){n<0&&(n=1,u(),t.sticky="after");break}if(m&&(c=m),n>0&&!u(!p))break}var g=eo(e,t,o,a,!0);return tt(o,g)&&(g.hitSide=!0),g}function Aa(e,t,n,r){var i,o,a=e.doc,l=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(s-.5*er(e.display),3);i=(n>0?t.bottom:t.top)+n*u}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;(o=Zn(e,l,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}var Na=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new F,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ra(e,t){var n=Mn(e,t.line);if(!n||n.hidden)return null;var r=$e(e.doc,t.line),i=_n(n,r,t.line),o=ue(r,e.doc.direction),a="left";o&&(a=le(o,t.ch)%2?"right":"left");var l=Rn(i.map,t.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function Da(e,t){return t&&(e.bad=!0),e}function Ha(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return Da(e.clipPos(Xe(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return ja(o,t,n)}}function ja(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!I(r,t))return Da(Xe(Ze(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?q(e.rest):e.line;return Da(Xe(Ze(o),o.text.length),i)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var s=e.measure,u=s.maps;function c(t,n,r){for(var i=-1;i<(u?u.length:0);i++)for(var o=i<0?s.map:u[i],a=0;a<o.length;a+=3){var l=o[a+2];if(l==t||l==n){var c=Ze(i<0?e.line:e.rest[i]),d=o[a]+r;return(r<0||l!=t)&&(d=o[a+(r?1:0)]),Xe(c,d)}}}var d=c(a,l,n);if(d)return Da(d,i);for(var f=l.nextSibling,p=a?a.nodeValue.length-n:0;f;f=f.nextSibling){if(d=c(f,f.firstChild,0))return Da(Xe(d.line,d.ch-p),i);p+=f.textContent.length}for(var h=l.previousSibling,m=n;h;h=h.previousSibling){if(d=c(h,h.firstChild,-1))return Da(Xe(d.line,d.ch+m),i);m+=h.textContent.length}}Na.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(o(e)&&!me(r,e)){if(r.somethingSelected())Oa({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Pa(r);Oa({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,B),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var a=Ea.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var l=Ia(),s=l.firstChild;r.display.lineSpace.insertBefore(l,r.display.lineSpace.firstChild),s.value=Ea.text.join("\n");var u=document.activeElement;R(s),setTimeout((function(){r.display.lineSpace.removeChild(l),u.focus(),u==i&&n.showPrimarySelection()}),50)}}Ma(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),de(i,"paste",(function(e){!o(e)||me(r,e)||Ta(e,r)||l<=11&&setTimeout(Qr(r,(function(){return t.updateFromDOM()})),20)})),de(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),de(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),de(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),de(i,"touchstart",(function(){return n.forceCompositionEnd()})),de(i,"input",(function(){t.composing||t.readFromDOMSoon()})),de(i,"copy",a),de(i,"cut",a)},Na.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Na.prototype.prepareSelection=function(){var e=hr(this.cm,!1);return e.focus=document.activeElement==this.div,e},Na.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Na.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Na.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=Ha(t,e.anchorNode,e.anchorOffset),l=Ha(t,e.focusNode,e.focusOffset);if(!a||a.bad||!l||l.bad||0!=et(it(a,l),i)||0!=et(rt(a,l),o)){var s=t.display.view,u=i.line>=t.display.viewFrom&&Ra(t,i)||{node:s[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&Ra(t,o);if(!c){var d=s[s.length-1].measure,f=d.maps?d.maps[d.maps.length-1]:d.map;c={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(u&&c){var p,h=e.rangeCount&&e.getRangeAt(0);try{p=O(u.node,u.offset,c.offset,c.node)}catch(e){}p&&(!n&&t.state.focused?(e.collapse(u.node,u.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Na.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Na.prototype.showMultipleSelections=function(e){_(this.cm.display.cursorDiv,e.cursors),_(this.cm.display.selectionDiv,e.selection)},Na.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Na.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return I(this.div,t)},Na.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Na.prototype.blur=function(){this.div.blur()},Na.prototype.getField=function(){return this.div},Na.prototype.supportsTouch=function(){return!0},Na.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Zr(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},Na.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Na.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&c&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Ha(t,e.anchorNode,e.anchorOffset),r=Ha(t,e.focusNode,e.focusOffset);n&&r&&Zr(t,(function(){qi(t.doc,xi(n,r),B),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},Na.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),l=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=Xe(a.line-1,$e(r.doc,a.line-1).length)),l.ch==$e(r.doc,l.line).text.length&&l.line<r.lastLine()&&(l=Xe(l.line+1,0)),a.line<i.viewFrom||l.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=lr(r,a.line))?(t=Ze(i.view[0].line),n=i.view[0].node):(t=Ze(i.view[e].line),n=i.view[e-1].node.nextSibling);var s,u,c=lr(r,l.line);if(c==i.view.length-1?(s=i.viewTo-1,u=i.lineDiv.lastChild):(s=Ze(i.view[c+1].line)-1,u=i.view[c+1].node.previousSibling),!n)return!1;for(var d=r.doc.splitLines(function(e,t,n,r,i){var o="",a=!1,l=e.doc.lineSeparator(),s=!1;function u(){a&&(o+=l,s&&(o+=l),a=s=!1)}function c(e){e&&(u(),o+=e)}function d(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void c(n);var o,f=t.getAttribute("cm-marker");if(f){var p=e.findMarks(Xe(r,0),Xe(i+1,0),(g=+f,function(e){return e.id==g}));return void(p.length&&(o=p[0].find(0))&&c(Ge(e.doc,o.from,o.to).join(l)))}if("false"==t.getAttribute("contenteditable"))return;var h=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;h&&u();for(var m=0;m<t.childNodes.length;m++)d(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(s=!0),h&&(a=!0)}else 3==t.nodeType&&c(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;d(t),t!=n;)t=t.nextSibling,s=!1;return o}(r,n,u,t,s)),f=Ge(r.doc,Xe(t,0),Xe(s,$e(r.doc,s).text.length));d.length>1&&f.length>1;)if(q(d)==q(f))d.pop(),f.pop(),s--;else{if(d[0]!=f[0])break;d.shift(),f.shift(),t++}for(var p=0,h=0,m=d[0],g=f[0],v=Math.min(m.length,g.length);p<v&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var y=q(d),b=q(f),w=Math.min(y.length-(1==d.length?p:0),b.length-(1==f.length?p:0));h<w&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)++h;if(1==d.length&&1==f.length&&t==a.line)for(;p&&p>a.ch&&y.charCodeAt(y.length-h-1)==b.charCodeAt(b.length-h-1);)p--,h++;d[d.length-1]=y.slice(0,y.length-h).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var x=Xe(t,p),S=Xe(s,f.length?q(f).length-h:0);return d.length>1||d[0]||et(x,S)?(uo(r.doc,d,x,S,"+input"),!0):void 0},Na.prototype.ensurePolled=function(){this.forceCompositionEnd()},Na.prototype.reset=function(){this.forceCompositionEnd()},Na.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Na.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Na.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Zr(this.cm,(function(){return sr(e.cm)}))},Na.prototype.setUneditable=function(e){e.contentEditable="false"},Na.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Qr(this.cm,ka)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Na.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Na.prototype.onContextMenu=function(){},Na.prototype.resetPosition=function(){},Na.prototype.needsContentAttribute=!0;var Fa=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new F,this.hasSelection=!1,this.composing=null};Fa.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!me(r,e)){if(r.somethingSelected())Oa({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Pa(r);Oa({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,B):(n.prevInput="",i.value=t.text.join("\n"),R(i))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width="0px"),de(i,"input",(function(){a&&l>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),de(i,"paste",(function(e){me(r,e)||Ta(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),de(i,"cut",o),de(i,"copy",o),de(e.scroller,"paste",(function(t){if(!xn(e,t)&&!me(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),de(e.lineSpace,"selectstart",(function(t){xn(e,t)||be(t)})),de(i,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),de(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},Fa.prototype.createField=function(e){this.wrapper=Ia(),this.textarea=this.wrapper.firstChild},Fa.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},Fa.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=hr(e);if(e.options.moveInputWithCursor){var i=Gn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},Fa.prototype.showSelection=function(e){var t=this.cm.display;_(t.cursorDiv,e.cursors),_(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Fa.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&R(this.textarea),a&&l>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&l>=9&&(this.hasSelection=null))}},Fa.prototype.getField=function(){return this.textarea},Fa.prototype.supportsTouch=function(){return!1},Fa.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||L()!=this.textarea))try{this.textarea.focus()}catch(e){}},Fa.prototype.blur=function(){this.textarea.blur()},Fa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Fa.prototype.receivedFocus=function(){this.slowPoll()},Fa.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},Fa.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}))},Fa.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Le(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(a&&l>=9&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var s=0,u=Math.min(r.length,i.length);s<u&&r.charCodeAt(s)==i.charCodeAt(s);)++s;return Zr(t,(function(){ka(t,i.slice(s),r.length-s,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Fa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Fa.prototype.onKeyPress=function(){a&&l>=9&&(this.hasSelection=null),this.fastPoll()},Fa.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=ar(n,e),u=r.scroller.scrollTop;if(o&&!d){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Qr(n,qi)(n.doc,xi(o),B);var c,f=i.style.cssText,p=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",s&&(c=window.scrollY),r.input.focus(),s&&window.scrollTo(null,c),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=v,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&l>=9&&g(),C){Se(e);var m=function(){pe(window,"mouseup",m),setTimeout(v,20)};de(window,"mouseup",m)}else setTimeout(v,50)}function g(){if(null!=i.selectionStart){var e=n.somethingSelected(),o=""+(e?i.value:"");i.value="",i.value=o,t.prevInput=e?"":"",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function v(){if(t.contextMenuPending==v&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,i.style.cssText=f,a&&l<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=u),null!=i.selectionStart)){(!a||a&&l<9)&&g();var e=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&""==t.prevInput?Qr(n,no)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},Fa.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},Fa.prototype.setUneditable=function(){},Fa.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=ga&&i(e,t,n)}:i)}e.defineOption=n,e.Init=ga,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,ki(e)}),!0),n("indentUnit",2,ki,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){Ti(e),Fn(e),sr(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(Xe(r,o))}r++}));for(var i=n.length-1;i>=0;i--)uo(e.doc,t,n[i],Xe(n[i].line,n[i].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=ga&&e.refresh()})),n("specialCharPlaceholder",Yt,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){ma(e),di(e)}),!0),n("keyMap","default",(function(e,t,n){var r=Uo(t),i=n!=ga&&Uo(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,wa,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=ui(t,e.options.lineNumbers),di(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?rr(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return jr(e)}),!0),n("scrollbarStyle","native",(function(e){Vr(e),jr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=ui(e.options.gutters,t),di(e)}),!0),n("firstLineNumber",1,di,!0),n("lineNumberFormatter",(function(e){return e}),di,!0),n("showCursorWhenSelecting",!1,pr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(Sr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,ba),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,pr,!0),n("singleCursorHeightPerLine",!0,pr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Ti,!0),n("addModeClass",!1,Ti,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,Ti,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}(xa),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Qr(this,t[e])(this,n,i),he(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Uo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Yr((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,sr(this)})),removeOverlay:Yr((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void sr(this)}})),indentLine:Yr((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Ye(this.doc,e)&&Ca(this,e,t,n)})),indentSelection:Yr((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(Ca(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&_r(this));else{var o=i.from(),a=i.to(),l=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var s=l;s<n;++s)Ca(this,s,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[r].from().ch>0&&$i(this.doc,r,new bi(o,u[r].to()),B)}}})),getTokenAt:function(e,t){return vt(this,e,t)},getLineTokens:function(e,t){return vt(this,Xe(e),t,!0)},getTokenTypeAt:function(e){e=at(this.doc,e);var t,n=dt(this,$e(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var l=t?t.indexOf("overlay "):-1;return l<0?t:0==l?null:t.slice(0,l-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var l=i[o[t][a]];l&&r.push(l)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var s=0;s<i._global.length;s++){var u=i._global[s];u.pred(o,this)&&-1==z(r,u.val)&&r.push(u.val)}return r},getStateAfter:function(e,t){var n=this.doc;return ft(this,(e=ot(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Gn(this,null==e?n.head:"object"==typeof e?at(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return $n(this,at(this.doc,e),t||"page")},coordsChar:function(e,t){return Zn(this,(e=Un(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Un(this,{top:e,left:0},t||"page").top,Qe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=$e(this.doc,e)}else r=e;return Wn(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-Bt(r):0)},defaultTextHeight:function(){return er(this.display)},defaultCharWidth:function(){return tr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o,a,l=this.display,s=(e=Gn(this,at(this.doc,e))).bottom,u=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==r)s=e.top;else if("above"==r||"near"==r){var c=Math.max(l.wrapper.clientHeight,this.doc.height),d=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>c)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=c&&(s=e.bottom),u+t.offsetWidth>d&&(u=d-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==i?(u=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?u=0:"middle"==i&&(u=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+"px"),n&&(null!=(a=kr(o=this,{left:u,top:s,right:u+t.offsetWidth,bottom:s+t.offsetHeight})).scrollTop&&Lr(o,a.scrollTop),null!=a.scrollLeft&&Nr(o,a.scrollLeft))},triggerOnKeyDown:Yr(ia),triggerOnKeyPress:Yr(aa),triggerOnKeyUp:oa,triggerOnMouseDown:Yr(ca),execCommand:function(e){if(Zo.hasOwnProperty(e))return Zo[e].call(null,this)},triggerElectric:Yr((function(e){_a(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=at(this.doc,e),a=0;a<t&&!(o=La(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:Yr((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?La(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),U)})),deleteH:Yr((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):$o(this,(function(n){var i=La(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=at(this.doc,e),l=0;l<t;++l){var s=Gn(this,a,"div");if(null==o?o=s.left:s.left=o,(a=Aa(this,s,i,n)).hitSide)break}return a},moveV:Yr((function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var l=Gn(n,a.head,"div");null!=a.goalColumn&&(l.left=a.goalColumn),i.push(l.left);var s=Aa(n,l,e,t);return"page"==t&&a==r.sel.primary()&&Tr(n,$n(n,s,"div").top-l.top),s}),U),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(e){var t=$e(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),a=ee(o,i)?function(e){return ee(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ee(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new bi(Xe(e.line,n),Xe(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?A(this.display.cursorDiv,"CodeMirror-overwrite"):k(this.display.cursorDiv,"CodeMirror-overwrite"),he(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==L()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Yr((function(e,t){Pr(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-On(this)-this.display.barHeight,width:e.scrollWidth-On(this)-this.display.barWidth,clientHeight:Tn(this),clientWidth:kn(this)}},scrollIntoView:Yr((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Xe(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Mr(e),e.curOp.scrollToPos=t}(this,e):Ir(this,e.from,e.to,e.margin)})),setSize:Yr((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&jn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){ur(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,he(this,"refresh",this)})),operation:function(e){return Zr(this,e)},startOperation:function(){return Wr(this)},endOperation:function(){return Ur(this)},refresh:Yr((function(){var e=this.display.cachedTextHeight;sr(this),this.curOp.forceUpdate=!0,Fn(this),Pr(this,this.doc.scrollLeft,this.doc.scrollTop),oi(this.display),(null==e||Math.abs(e-er(this.display))>.5||this.options.lineWrapping)&&or(this),he(this,"refresh",this)})),swapDoc:Yr((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Ii(this,e),Fn(this),this.display.input.reset(),Pr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ln(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ye(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}(xa);var za="iter insert remove copy getEditor constructor".split(" ");for(var Va in ko.prototype)ko.prototype.hasOwnProperty(Va)&&z(za,Va)<0&&(xa.prototype[Va]=function(e){return function(){return e.apply(this.doc,arguments)}}(ko.prototype[Va]));return ye(ko),xa.inputStyles={textarea:Fa,contenteditable:Na},xa.defineMode=function(e){xa.defaults.mode||"null"==e||(xa.defaults.mode=e),function(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Re[e]=t}.apply(this,arguments)},xa.defineMIME=function(e,t){De[e]=t},xa.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),xa.defineMIME("text/plain","null"),xa.defineExtension=function(e,t){xa.prototype[e]=t},xa.defineDocExtension=function(e,t){ko.prototype[e]=t},xa.fromTextArea=function(e,t){if((t=t?H(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=L();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=l.getValue()}var i;if(e.form&&(de(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(e){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(pe(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var l=xa((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return l},function(e){e.off=pe,e.on=de,e.wheelEventPixels=gi,e.Doc=ko,e.splitLines=Ie,e.countColumn=j,e.findColumn=$,e.isWordChar=X,e.Pass=V,e.signal=he,e.Line=$t,e.changeEnd=Si,e.scrollbarModel=zr,e.Pos=Xe,e.cmpPos=et,e.modes=Re,e.mimeModes=De,e.resolveMode=He,e.getMode=je,e.modeExtensions=Fe,e.extendMode=ze,e.copyState=Ve,e.startState=We,e.innerMode=Be,e.commands=Zo,e.keyMap=Ho,e.keyName=Wo,e.isModifierKey=Vo,e.lookupKey=zo,e.normalizeKeyMap=Fo,e.StringStream=Ue,e.SharedTextMarker=So,e.TextMarker=wo,e.LineWidget=vo,e.e_preventDefault=be,e.e_stopPropagation=we,e.e_stop=Se,e.addClass=A,e.contains=I,e.rmClass=k,e.keyNames=Ao}(xa),xa.version="5.58.2",xa})),Zm=Zm.exports;var Qm={};(function(e){function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Qm,"__esModule",{value:!0}),Qm.UnControlled=void 0;var i,o="undefined"==typeof navigator||!0===e.PREVENT_CODEMIRROR_RENDER;o||(i=Zm);var a=function(){function e(){}return e.equals=function(e,t){var r=this,i=Object.keys,o=n(e),a=n(t);return e&&t&&"object"===o&&o===a?i(e).length===i(t).length&&i(e).every((function(n){return r.equals(e[n],t[n])})):e===t},e}(),l=function(){function e(e,t){this.editor=e,this.props=t}return e.prototype.delegateCursor=function(e,t,n){var r=this.editor.getDoc();n&&this.editor.focus(),t?r.setCursor(e):r.setCursor(e,null,{scroll:!1})},e.prototype.delegateScroll=function(e){this.editor.scrollTo(e.x,e.y)},e.prototype.delegateSelection=function(e,t){this.editor.getDoc().setSelections(e),t&&this.editor.focus()},e.prototype.apply=function(e){e&&e.selection&&e.selection.ranges&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),e&&e.cursor&&this.delegateCursor(e.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1),e&&e.scroll&&this.delegateScroll(e.scroll)},e.prototype.applyNext=function(e,t,n){e&&e.selection&&e.selection.ranges&&t&&t.selection&&t.selection.ranges&&!a.equals(e.selection.ranges,t.selection.ranges)&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),e&&e.cursor&&t&&t.cursor&&!a.equals(e.cursor,t.cursor)&&this.delegateCursor(n.cursor||t.cursor,t.autoScroll||!1,t.autoCursor||!1),e&&e.scroll&&t&&t.scroll&&!a.equals(e.scroll,t.scroll)&&this.delegateScroll(t.scroll)},e.prototype.applyUserDefined=function(e,t){t&&t.cursor&&this.delegateCursor(t.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1)},e.prototype.wire=function(e){var t=this;Object.keys(e||{}).filter((function(e){return/^on/.test(e)})).forEach((function(e){switch(e){case"onBlur":t.editor.on("blur",(function(e,n){t.props.onBlur(t.editor,n)}));break;case"onContextMenu":t.editor.on("contextmenu",(function(e,n){t.props.onContextMenu(t.editor,n)}));break;case"onCopy":t.editor.on("copy",(function(e,n){t.props.onCopy(t.editor,n)}));break;case"onCursor":t.editor.on("cursorActivity",(function(e){t.props.onCursor(t.editor,t.editor.getDoc().getCursor())}));break;case"onCursorActivity":t.editor.on("cursorActivity",(function(e){t.props.onCursorActivity(t.editor)}));break;case"onCut":t.editor.on("cut",(function(e,n){t.props.onCut(t.editor,n)}));break;case"onDblClick":t.editor.on("dblclick",(function(e,n){t.props.onDblClick(t.editor,n)}));break;case"onDragEnter":t.editor.on("dragenter",(function(e,n){t.props.onDragEnter(t.editor,n)}));break;case"onDragLeave":t.editor.on("dragleave",(function(e,n){t.props.onDragLeave(t.editor,n)}));break;case"onDragOver":t.editor.on("dragover",(function(e,n){t.props.onDragOver(t.editor,n)}));break;case"onDragStart":t.editor.on("dragstart",(function(e,n){t.props.onDragStart(t.editor,n)}));break;case"onDrop":t.editor.on("drop",(function(e,n){t.props.onDrop(t.editor,n)}));break;case"onFocus":t.editor.on("focus",(function(e,n){t.props.onFocus(t.editor,n)}));break;case"onGutterClick":t.editor.on("gutterClick",(function(e,n,r,i){t.props.onGutterClick(t.editor,n,r,i)}));break;case"onInputRead":t.editor.on("inputRead",(function(e,n){t.props.onInputRead(t.editor,n)}));break;case"onKeyDown":t.editor.on("keydown",(function(e,n){t.props.onKeyDown(t.editor,n)}));break;case"onKeyHandled":t.editor.on("keyHandled",(function(e,n,r){t.props.onKeyHandled(t.editor,n,r)}));break;case"onKeyPress":t.editor.on("keypress",(function(e,n){t.props.onKeyPress(t.editor,n)}));break;case"onKeyUp":t.editor.on("keyup",(function(e,n){t.props.onKeyUp(t.editor,n)}));break;case"onMouseDown":t.editor.on("mousedown",(function(e,n){t.props.onMouseDown(t.editor,n)}));break;case"onPaste":t.editor.on("paste",(function(e,n){t.props.onPaste(t.editor,n)}));break;case"onRenderLine":t.editor.on("renderLine",(function(e,n,r){t.props.onRenderLine(t.editor,n,r)}));break;case"onScroll":t.editor.on("scroll",(function(e){t.props.onScroll(t.editor,t.editor.getScrollInfo())}));break;case"onSelection":t.editor.on("beforeSelectionChange",(function(e,n){t.props.onSelection(t.editor,n)}));break;case"onTouchStart":t.editor.on("touchstart",(function(e,n){t.props.onTouchStart(t.editor,n)}));break;case"onUpdate":t.editor.on("update",(function(e){t.props.onUpdate(t.editor)}));break;case"onViewportChange":t.editor.on("viewportChange",(function(e,n,r){t.props.onViewportChange(t.editor,n,r)}))}}))},e}(),s=(function(e){function n(t){var n=e.call(this,t)||this;return o||(n.applied=!1,n.appliedNext=!1,n.appliedUserDefined=!1,n.deferred=null,n.emulating=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1),n}r(n,e),n.prototype.hydrate=function(e){var n=this,r=e&&e.options?e.options:{},o=t({},i.defaults,this.editor.options,r);Object.keys(o).some((function(e){return n.editor.getOption(e)!==o[e]}))&&Object.keys(o).forEach((function(e){r.hasOwnProperty(e)&&n.editor.getOption(e)!==o[e]&&(n.editor.setOption(e,o[e]),n.mirror.setOption(e,o[e]))})),this.hydrated||(this.deferred?this.resolveChange(e.value):this.initChange(e.value||"")),this.hydrated=!0},n.prototype.initChange=function(e){this.emulating=!0;var t=this.editor.getDoc(),n=t.lastLine(),r=t.getLine(t.lastLine()).length;t.replaceRange(e||"",{line:0,ch:0},{line:n,ch:r}),this.mirror.setValue(e),t.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},n.prototype.resolveChange=function(e){this.emulating=!0;var t=this.editor.getDoc();if("undo"===this.deferred.origin?t.undo():"redo"===this.deferred.origin?t.redo():t.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),e&&e!==t.getValue()){var n=t.getCursor();t.setValue(e),t.setCursor(n)}this.emulating=!1,this.deferred=null},n.prototype.mirrorChange=function(e){var t=this.editor.getDoc();return"undo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(e.text,e.from,e.to,e.origin),this.mirror.getValue()},n.prototype.componentDidMount=function(){var e=this;o||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&i.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=i(this.ref,this.props.options),this.shared=new l(this.editor,this.props),this.mirror=i((function(){}),this.props.options),this.editor.on("electricInput",(function(){e.mirror.setHistory(e.editor.getDoc().getHistory())})),this.editor.on("cursorActivity",(function(){e.mirror.setCursor(e.editor.getDoc().getCursor())})),this.editor.on("beforeChange",(function(t,n){if(!e.emulating){n.cancel(),e.deferred=n;var r=e.mirrorChange(e.deferred);e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,e.deferred,r)}})),this.editor.on("change",(function(t,n){e.mounted&&e.props.onChange&&e.props.onChange(e.editor,n,e.editor.getValue())})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},n.prototype.componentDidUpdate=function(e){if(!o){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(e,this.props,t),this.appliedNext=!0),this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0}},n.prototype.componentWillUnmount=function(){o||this.props.editorWillUnmount&&this.props.editorWillUnmount(i)},n.prototype.shouldComponentUpdate=function(e,t){return!o},n.prototype.render=function(){var e=this;if(o)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return q.createElement("div",{className:t,ref:function(t){return e.ref=t}})}}(q.Component),function(e){function n(t){var n=e.call(this,t)||this;return o||(n.applied=!1,n.appliedUserDefined=!1,n.continueChange=!1,n.detached=!1,n.hydrated=!1,n.initCb=function(){n.props.editorDidConfigure&&n.props.editorDidConfigure(n.editor)},n.mounted=!1,n.onBeforeChangeCb=function(){n.continueChange=!0}),n}return r(n,e),n.prototype.hydrate=function(e){var n=this,r=e&&e.options?e.options:{},o=t({},i.defaults,this.editor.options,r);if(Object.keys(o).some((function(e){return n.editor.getOption(e)!==o[e]}))&&Object.keys(o).forEach((function(e){r.hasOwnProperty(e)&&n.editor.getOption(e)!==o[e]&&n.editor.setOption(e,o[e])})),!this.hydrated){var a=this.editor.getDoc(),l=a.lastLine(),s=a.getLine(a.lastLine()).length;a.replaceRange(e.value||"",{line:0,ch:0},{line:l,ch:s})}this.hydrated=!0},n.prototype.componentDidMount=function(){var e=this;o||(this.detached=!0===this.props.detach,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&i.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=i(this.ref,this.props.options),this.shared=new l(this.editor,this.props),this.editor.on("beforeChange",(function(t,n){e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,n,e.editor.getValue(),e.onBeforeChangeCb)})),this.editor.on("change",(function(t,n){e.mounted&&e.props.onChange&&(e.props.onBeforeChange?e.continueChange&&e.props.onChange(e.editor,n,e.editor.getValue()):e.props.onChange(e.editor,n,e.editor.getValue()))})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},n.prototype.componentDidUpdate=function(e){if(this.detached&&!1===this.props.detach&&(this.detached=!1,e.editorDidAttach&&e.editorDidAttach(this.editor)),this.detached||!0!==this.props.detach||(this.detached=!0,e.editorDidDetach&&e.editorDidDetach(this.editor)),!o&&!this.detached){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),e.autoCursor||void 0===e.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(e),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0)}},n.prototype.componentWillUnmount=function(){o||this.props.editorWillUnmount&&this.props.editorWillUnmount(i)},n.prototype.shouldComponentUpdate=function(e,t){var n=!0;return o&&(n=!1),this.detached&&e.detach&&(n=!1),n},n.prototype.render=function(){var e=this;if(o)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return q.createElement("div",{className:t,ref:function(t){return e.ref=t}})},n}(q.Component));Qm.UnControlled=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ym={},Jm=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xm=this&&this.__assign||function(){return(Xm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eg=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ym,"__esModule",{value:!0});var tg=eg(q),ng=_p.inclStaticIcon("power");Ym.MSG_PROP_ERR="`dataKeyMap` must be defined if `data` is an object";var rg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jm(t,e),t.prototype.render=function(){var e=this.cssCls,t=this.list,n=this.props,r=n.id,i=n.activeTabIdx,o=n.tabKey,a=n.tabEnableKey,l=n.onTabActive,s=n.onTabEnable,u=e("tab-switch__item","active");return t.length&&tg.default.createElement("ul",{className:"tab-switch"},t.map((function(e,t){var n=i===t,c=r+"-"+t,d=n?u:"tab-switch__item",f="rdo-"+c,p="checkbox-"+c,h=e[o],m=e[a],g={tab:e,idx:t};return tg.default.createElement("li",{key:c,className:d},tg.default.createElement("input",{type:"radio",name:r,id:f,checked:n,onChange:function(e){return null==l?void 0:l(Xm({evt:e},g))}}),tg.default.createElement("label",{htmlFor:f,className:"tab-switch__rdo"},h),tg.default.createElement("input",{type:"checkbox",id:p,checked:m,onChange:function(e){return null==s?void 0:s(Xm({evt:e},g))}}),tg.default.createElement("label",{htmlFor:p,className:"tab-switch__checkbox"},ng))})))},Object.defineProperty(t.prototype,"list",{get:function(){var e=this.props,t=e.data,n=e.dataKeyMap,r=e.tabKey,i=e.tabEnableKey;if(Array.isArray(t))return t;if(!n)throw new Error(Ym.MSG_PROP_ERR);return n.map((function(e){var n,o=e[0],a=e[1];return(n={})[r]=o,n[i]=t[a],n}))},enumerable:!0,configurable:!0}),t.defaultProps={activeTabIdx:0,tabKey:"id",tabEnableKey:"isOn"},t}(Op.MemoComponent);Ym.TabSwitch=rg;var ig={},og=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ag=this&&this.__assign||function(){return(ag=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},lg=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ig,"__esModule",{value:!0});var sg=lg(q),ug=_p.inclStaticIcon("arrow-rt"),cg=_p.inclStaticIcon("arrow-dn"),dg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return og(t,e),t.prototype.render=function(){var e=this,t=this.cssCls,n=this.props.list,r=t("side-nav__list","parent");return sg.default.createElement("aside",{className:"side-nav"},sg.default.createElement("ul",{className:r},n.map((function(t,n){return e.renderListItem(t,n)}))))},t.prototype.renderListItem=function(e,t){var n=this,r=this.props,i=this.cssCls,o=r.listTitleKey,a=r.childListKey,l=r.activeItemIdx,s=r.activeChildItemIdx,u=e[a],c=null==u?void 0:u.length,d=t===l,f=d&&!!c,p=Number.isInteger(s),h=this.getItemAttrs({idx:t,suffix:"parent",isActive:d,hasActiveChild:p}),m=h.ITEM_KEY,g=h.ITEM_CLS,v=h.ITEM_TITLE_CLS,y=e[o],b=i("side-nav__list","child"),w=d||f?cg:ug,x={maxHeight:f?"320px":"0"};return sg.default.createElement("li",{className:g,key:m,onClick:function(r){return n.onClick({evt:r,item:e,idx:t})}},sg.default.createElement("p",{className:"side-nav__item-header"},w,sg.default.createElement("span",{className:v},y),sg.default.createElement(Dm.NumBadge,{total:c})),f&&sg.default.createElement("ul",{className:b,style:x},u.map((function(e,r){return n.renderChildListItem({item:e,idx:r,parentIdx:t})}))))},t.prototype.renderChildListItem=function(e){var t=this,n=e.item,r=e.idx,i=e.parentIdx,o=this.props,a=o.childListTitleKey,l=r===o.activeChildItemIdx,s={item:n,idx:r,parentIdx:i,isChild:!0},u=(null==n?void 0:n[a])||n,c=this.getItemAttrs({idx:r,suffix:"child",isActive:l}),d=c.ITEM_KEY,f=c.ITEM_CLS,p=c.ITEM_TITLE_CLS;return sg.default.createElement("li",{className:f,key:d,onClick:function(e){return t.onClick(ag(ag({},s),{evt:e}))}},sg.default.createElement("span",{className:p},u))},t.prototype.onClick=function(e){var t,n;e.evt.stopPropagation(),null===(n=(t=this.props).onClick)||void 0===n||n.call(t,e)},t.prototype.getItemAttrs=function(e){var t=e.idx,n=e.suffix,r=e.isActive,i=e.hasActiveChild,o=r?" atv"+(i?" atv-parent":""):"";return{ITEM_KEY:"side-nav__item-"+n+"-"+t,ITEM_CLS:this.cssCls("side-nav__item",n+o),ITEM_TITLE_CLS:"side-nav__title"}},t.defaultProps={listTitleKey:"title",childListKey:"list",childListTitleKey:"title",activeItemIdx:0},t}(Op.MemoComponent);ig.SideBar=dg;var fg={};Object.defineProperty(fg,"__esModule",{value:!0}),fg.libTypeList=["js","css"];var pg={},hg=this&&this.__assign||function(){return(hg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},mg=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(pg,"__esModule",{value:!0});var gg=mg(q);pg.TbRow=gg.memo((function(e){var t=e.dataSrc,n=e.idx,r=e.itemLvl,i=e.item,o=e.classNames,a=e.commonProps,l=a.appState,s=a.appStateHandle,u=o.REG_ROW,c=s.onLibRowSelectToggle,d=s.onLibTypeChange,f=s.onLibAsyncToggle,p=s.onLibIsOnToggle,h=s.onEditLibModal,m=s.onDelLibModal,g=i.id,v=i.title,y=i.type,b=i.value,w=i.isOn,x=i.isAsync,S=r+"-"+n,C=l.localState.editView.dataGrid.selectState,E=C.areAllRowsSelected,O=C.selectedRowKeyCtx,k=E||g in O,T=E||!!Object.getOwnPropertyNames(O).length,_=fg.libTypeList.indexOf(y);return gg.default.createElement(gg.default.Fragment,null,gg.default.createElement("tr",{className:u},gg.default.createElement("td",null,gg.default.createElement(jp.Checkbox,{id:"lib-check-"+S,clsSuffix:"",checked:k,onChange:function(){return c({libs:t,id:g})}})),gg.default.createElement("td",null,gg.default.createElement("span",{className:"datagrid__cell datagrid__cell--title"},v)),gg.default.createElement("td",null,gg.default.createElement("span",{className:"datagrid__cell datagrid__cell--url"},b)),gg.default.createElement("td",null,gg.default.createElement(ph.Dropdown,{title:Bh.hintMsgSet.LIB_TYPE_SELECT,id:"lib-type",disabled:T,list:fg.libTypeList,selectIdx:_,onSelect:function(e){return d(hg(hg({},e),{id:g}))}})),gg.default.createElement("td",null,gg.default.createElement(lh.SliderSwitch,{title:Bh.hintMsgSet.LIB_ASYNC_SWITCH,id:"lib-async-"+S,checked:x,disabled:T,onChange:function(){return f({id:g})}})),gg.default.createElement("td",null,gg.default.createElement(lh.SliderSwitch,{title:Bh.hintMsgSet.LIB_ACTIVE_SWITCH,id:"lib-active-"+S,checked:w,disabled:T,onChange:function(){return p({id:g})}})),gg.default.createElement("td",null,gg.default.createElement(Lp.IconBtn,{icon:"edit",theme:"gray",disabled:T,onClick:function(){return h({id:g})}})),gg.default.createElement("td",null,gg.default.createElement(Lp.IconBtn,{icon:"delete",theme:"gray",disabled:T,onClick:function(){return m({id:g})}}))))}));var vg={},yg=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bg=this&&this.__assign||function(){return(bg=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},wg=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vg,"__esModule",{value:!0});var xg=wg(q),Sg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yg(t,e),t.prototype.render=function(){var e=this.appStateHandle,t=e.onActiveRuleChange,n=e.onActiveTitleInput,r=e.onActiveValueInput,i=e.onHttpsToggle,o=e.onExactMatchToggle,a=e.onJsExecStepChange,l=e.onActiveTabChange,s=e.onTabToggle,u=e.onCodeChange,c=e.onLibSort,d=e.onLibRowsSelectToggle,f=e.onAddLibModal,p=e.onDelLibsModal,h=this.appState.rules,m=this.editViewState,g=m.ruleIdCtx,v=m.titleInput,y=m.valueInput,b=m.dataGrid,w=tf.dataHandle.getRuleFromIdCtx(h,g),x=tf.dataHandle.getRuleIdxCtxFromIdCtx(h,g),S=x.hostIdx,C=x.pathIdx,E=w.isHost,O=w.isExactMatch,k=w.activeTabIdx,T=w.libs,_=w.jsCode,P=w.cssCode,M=w.codeExecPhase,I=mp.validationSet.ruleId,L=mp.validationSet.ruleUrlHost,A=mp.validationSet.ruleUrlPath,N=w.isHttps,R=0===k,D=2===k,H=R||1===k,j=R?"js":"css",F=b.sortOption,z=b.selectState,V=!!T.length,B=Vf.rowHandle.distillState(z),W=B.isPartiallySelected,U=B.hasSelected,$=U||T.length<=1,G=xg.default.createElement(jp.Checkbox,{id:"check-all",clsSuffix:W?"partial":"",disabled:!V,checked:U,onChange:d}),K=xg.default.createElement(Lp.IconBtn,{title:Bh.hintMsgSet.ADD_LIB_BTN,icon:"add-outline",theme:"gray",disabled:U,onClick:f});return xg.default.createElement(xg.default.Fragment,null,xg.default.createElement(ig.SideBar,{list:h,childListKey:"paths",activeItemIdx:S,activeChildItemIdx:C,onClick:t}),xg.default.createElement("div",{className:"main--edit__form"},xg.default.createElement("section",{className:"fm-field"},xg.default.createElement(Up.TextInput,{id:"edit-target-id",label:"ID",required:!0,value:v.value,validation:{rules:I,isValid:v.isValid,errMsg:v.errMsg},onInputChange:n,onInputBlur:n})),xg.default.createElement("section",{className:"fm-field"},xg.default.createElement(Up.TextInput,{id:"edit-target-value",label:E?"Host":"Path",required:!0,value:y.value,validation:{rules:E?L:A,isValid:y.isValid,errMsg:y.errMsg},onInputChange:r,onInputBlur:r}),xg.default.createElement("div",{className:"fm-field__ctrl"},E&&xg.default.createElement(Mm.IconSwitch,{icon:!0,id:"https-switch",label:"lock-close",checked:N,onChange:function(){return i(g)}}),xg.default.createElement(Mm.IconSwitch,{id:"regex-switch",label:"=",checked:O,onChange:function(){return o(g)}}))),xg.default.createElement("section",{className:"fm-field"},xg.default.createElement("p",{className:"fm-field__label"},"Code Execution"),xg.default.createElement(ph.Dropdown,{id:"js-execution",border:!0,list:cp.codeExecStageList,selectIdx:M,onSelect:function(e){return a(bg(bg({},e),g))}})),xg.default.createElement(Ym.TabSwitch,{id:"tab-switch",data:w,dataKeyMap:[["js","isJsOn"],["css","isCssOn"],["lib","isLibOn"]],activeTabIdx:k,onTabActive:function(e){return l(bg(bg({},e),{ruleIdCtx:g}))},onTabEnable:function(e){return s(bg(bg({},e),{ruleIdCtx:g}))}}),H&&xg.default.createElement(Qm.UnControlled,{value:R?_:P,options:{mode:j,theme:"darcula",lineNumbers:!0},onChange:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return u({codeMirrorArgs:e,codeMode:j,ruleIdCtx:g})}}),D&&xg.default.createElement(Cm.DataGrid,{type:"table",rowKey:"id",data:T,component:{rows:[[pg.TbRow]],commonProps:this.props},header:[{title:G},{title:function(e,t){return xg.default.createElement(xg.default.Fragment,null,xg.default.createElement("span",null,"TITLE"),xg.default.createElement(dm.SortBtn,bg({},t,{disabled:$})))},sortKey:"title"},{title:function(e,t){return xg.default.createElement(xg.default.Fragment,null,xg.default.createElement("span",null,"URL"),xg.default.createElement(dm.SortBtn,bg({},t,{disabled:$})))},sortKey:"value"},{title:"TYPE"},{title:"ASYNC"},{title:"ACTIVE"},{title:K},{title:function(e){return xg.default.createElement(Lp.IconBtn,{icon:"delete",theme:"gray",disabled:!U,onClick:p})}}],sort:F,callback:{onSortChange:c}})))},Object.defineProperty(t.prototype,"appState",{get:function(){return this.props.appState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appStateHandle",{get:function(){return this.props.appStateHandle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editViewState",{get:function(){return this.appState.localState.editView},enumerable:!0,configurable:!0}),t}(Op.MemoComponent);vg.OptionEditView=Sg;var Cg={},Eg=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Og=this&&this.__assign||function(){return(Og=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},kg=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cg,"__esModule",{value:!0});var Tg=kg(q),_g=_p.inclStaticIcon("doc","white"),Pg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Eg(t,e),t.prototype.render=function(){var e=this.props,t=this.appState.localState.isListView,n=this.modalState.currentId,r=this.cssCls("main",t?"list":"edit");return Tg.default.createElement("div",{className:"app app--option"},this.$header,Tg.default.createElement("main",{className:r},t?Tg.default.createElement(Wm.OptionListView,Og({},e)):Tg.default.createElement(vg.OptionEditView,Og({},e))),n&&Tg.default.createElement("form",{className:"modals"},this.$settingModal,this.$importDataModal,this.$exportDataModal,this.$addHostModal,this.$addPathModal,this.$addLibModal,this.$editLibModal,this.$delHostsModal,this.$delHostOrPathModal,this.$delLibModal,this.$delLibsModal))},Object.defineProperty(t.prototype,"$header",{get:function(){var e,t=this.appState,n=t.rules,r=t.localState,i=r.isListView,o=r.listView,a=r.editView,l=this.appStateHandle,s=l.onListView,u=l.onDelHostOrPathModal,c=l.onAddPathModal,d=l.onSettingModal,f=l.onImportDataModal,p=l.onExportDataModal,h=l.onSearchTextChange,m=l.onSearchTextClear,g=o.searchText,v=this.cssCls("header__ctrl","edit"),y=(i?o:a).ruleIdCtx,b=null===(e=tf.dataHandle.getRuleFromIdCtx(n,y))||void 0===e?void 0:e.isHost;return Tg.default.createElement("header",{className:"header"},!i&&Tg.default.createElement("div",{className:v},Tg.default.createElement(Lp.IconBtn,{icon:"arrow-lt",theme:"white",onClick:s}),Tg.default.createElement(Lp.IconBtn,{icon:"delete",theme:"white",onClick:function(){return u(y)}}),b&&Tg.default.createElement(Lp.IconBtn,{icon:"add",theme:"white",onClick:c})),Tg.default.createElement("div",{className:"header__ctrl"},i&&Tg.default.createElement(Jp.SearchInput,{id:"search",value:g,disabled:n.length<=1,onInputChange:h,onInputClear:m}),Tg.default.createElement(Lp.IconBtn,{icon:"setting",theme:"white",onClick:d}),Tg.default.createElement("a",{target:"_blank",href:up.urlSet.DOC,rel:"noopener noreferrer",className:"icon-btn icon-btn--link"},_g),Tg.default.createElement(Lp.IconBtn,{icon:"download",theme:"white",onClick:f}),Tg.default.createElement(Lp.IconBtn,{icon:"download",theme:"white",clsSuffix:"upload",disabled:!n.length,onClick:p})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$settingModal",{get:function(){var e=yf.modalSet.defSetting,t=e.id,n=e.txt,r=this.settingState,i=r.showDeleteModal,o=r.resultsPerPageIdx,a=r.defRuleConfig,l=this.modalState.currentId,s=this.appStateHandle,u=s.onModalCancel,c=s.onResetAll,d=s.onDelConfirmDialogToggle,f=s.onResultsPerPageChange,p=s.onDefHttpsToggle,h=s.onDefJsToggle,m=s.onDefCssToggle,g=s.onDefLibToggle,v=s.onDefJsExecStageChange;return Tg.default.createElement(Dh.Modal,{activeModalId:l,id:t,header:n,clsSuffix:"setting",onCancel:u,onConfirm:u},Tg.default.createElement("ul",null,Tg.default.createElement("li",null,Tg.default.createElement("button",{type:"button",className:"btn btn--reset",onClick:c},"RESET ALL")),Tg.default.createElement("li",null,Tg.default.createElement("h4",null,"Read/Search")),Tg.default.createElement("li",null,Tg.default.createElement(lh.SliderSwitch,{id:"setting-show-delete-dialog",label:"Show delete confirmation dialog",checked:i,ltLabel:!0,onChange:d})),Tg.default.createElement("li",null,Tg.default.createElement(ph.Dropdown,{id:"setting-result-per-page",label:"Results per page",ltLabel:!0,list:xf.resultsPerPageList,selectIdx:o,border:!0,onSelect:f})),Tg.default.createElement("li",null,Tg.default.createElement("h4",null,"New Item")),Tg.default.createElement("li",null,Tg.default.createElement(lh.SliderSwitch,{id:"setting-toggle-https",label:"HTTPS",ltLabel:!0,checked:a.isHttps,onChange:p})),Tg.default.createElement("li",null,Tg.default.createElement(lh.SliderSwitch,{id:"setting-toggle-js",label:"Run Custom Js",ltLabel:!0,checked:a.isJsOn,onChange:h})),Tg.default.createElement("li",null,Tg.default.createElement(lh.SliderSwitch,{id:"setting-toggle-css",label:"Run Custom CSS",ltLabel:!0,checked:a.isCssOn,onChange:m})),Tg.default.createElement("li",null,Tg.default.createElement(lh.SliderSwitch,{id:"setting-toggle-library",label:"Run Libraries",ltLabel:!0,checked:a.isLibOn,onChange:g})),Tg.default.createElement("li",null,Tg.default.createElement("p",null,"Javascript Execution"),Tg.default.createElement(ph.Dropdown,{id:"setting-js-exec-order",list:cp.codeExecStageList,border:!0,selectIdx:a.codeExecPhase,onSelect:v}))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$importDataModal",{get:function(){var e=yf.modalSet.importConfig,t=e.id,n=e.txt,r=this.modalState,i=r.currentId,o=r.isConfirmBtnEnabled,a=this.appStateHandle,l=a.onModalCancel,s=a.onImportDataModalOk,u=a.onImportFileInputChange;return Tg.default.createElement(Dh.Modal,{activeModalId:i,id:t,header:n,clsSuffix:"setting-import",cancel:"CANCEL",confirm:"IMPORT",confirmDisabled:!o,onCancel:l,onConfirm:s},Tg.default.createElement(Sh.FileInput,{id:"json-import",fileType:"application/json",required:!0,validate:mp.validationSet.importConfig,onFileChange:u}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$exportDataModal",{get:function(){var e=yf.modalSet.exportConfig,t=e.id,n=e.txt,r=this.modalState,i=r.currentId,o=r.isConfirmBtnEnabled,a=r.exportFileInput,l=this.appStateHandle,s=l.onModalCancel,u=l.onExportDataModalOk,c=l.onExportInputChange;return Tg.default.createElement(Dh.Modal,{activeModalId:i,id:t,header:n,clsSuffix:"setting-export",cancel:"CANCEL",confirm:"EXPORT",confirmDisabled:!o,onCancel:s,onConfirm:u},Tg.default.createElement(Up.TextInput,{id:"json-export",label:"Filename",required:!0,autoFocus:!0,value:a.value,validation:{rules:mp.validationSet.exportConfig,isValid:a.isValid,errMsg:a.errMsg},onInputChange:c}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$addHostModal",{get:function(){var e=yf.modalSet.addHost,t=e.id,n=e.txt,r=this.modalState,i=r.currentId,o=r.isConfirmBtnEnabled,a=r.titleInput,l=r.valueInput,s=this.appStateHandle,u=s.onModalCancel,c=s.onAddHostModalOk,d=s.onModalTitleInput,f=s.onModalValueInput;return Tg.default.createElement(Dh.Modal,{activeModalId:i,id:t,header:n,clsSuffix:"host-add",cancel:"CANCEL",confirm:"SAVE",confirmDisabled:!o,onCancel:u,onConfirm:c},Tg.default.createElement(Up.TextInput,{id:"host-title",label:"Title",required:!0,value:null==a?void 0:a.value,validation:{rules:mp.validationSet.ruleId,isValid:a.isValid,errMsg:a.errMsg},onInputChange:d,onInputBlur:d}),Tg.default.createElement(Up.TextInput,{id:"host-value",label:"Url",required:!0,value:null==l?void 0:l.value,validation:{rules:mp.validationSet.ruleUrlHost,isValid:l.isValid,errMsg:l.errMsg},onInputChange:f,onInputBlur:f}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$addPathModal",{get:function(){var e=yf.modalSet.addPath,t=e.id,n=e.txt,r=this.modalState,i=r.currentId,o=r.isConfirmBtnEnabled,a=r.titleInput,l=r.valueInput,s=this.appStateHandle,u=s.onModalCancel,c=s.onAddPathModalOk,d=s.onModalTitleInput,f=s.onModalValueInput;return Tg.default.createElement(Dh.Modal,{activeModalId:i,id:t,header:n,clsSuffix:"path-add",cancel:"CANCEL",confirm:"SAVE",confirmDisabled:!o,onCancel:u,onConfirm:c},Tg.default.createElement(Up.TextInput,{id:"path-title",label:"Title",required:!0,value:null==a?void 0:a.value,validation:{rules:mp.validationSet.ruleId,isValid:a.isValid,errMsg:a.errMsg},onInputChange:d,onInputBlur:d}),Tg.default.createElement(Up.TextInput,{id:"path-url",label:"Url Path",required:!0,value:null==l?void 0:l.value,validation:{rules:mp.validationSet.ruleUrlPath,isValid:l.isValid,errMsg:l.errMsg},onInputChange:f,onInputBlur:f}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$addLibModal",{get:function(){var e=yf.modalSet.addLib,t=e.id,n=e.txt,r=this.modalState,i=r.currentId,o=r.isConfirmBtnEnabled,a=this.appStateHandle,l=a.onModalCancel,s=a.onAddLibModalOk;return Tg.default.createElement(Dh.Modal,{activeModalId:i,id:t,header:n,clsSuffix:"lib-add",cancel:"CANCEL",confirm:"SAVE",confirmDisabled:!o,onCancel:l,onConfirm:s},this.$libTextInputs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$editLibModal",{get:function(){var e=yf.modalSet.editLib,t=e.id,n=e.txt,r=this.modalState,i=r.currentId,o=r.isConfirmBtnEnabled,a=this.appStateHandle,l=a.onModalCancel,s=a.onEditLibModalOk;return Tg.default.createElement(Dh.Modal,{activeModalId:i,id:t,header:n,clsSuffix:"lib-edit",cancel:"CANCEL",confirm:"SAVE",confirmDisabled:!o,onCancel:l,onConfirm:s},this.$libTextInputs)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$delHostOrPathModal",{get:function(){var e=yf.modalSet.delHostOrPath,t=e.id,n=e.txt,r=this.modalState.currentId,i=this.appStateHandle,o=i.onModalCancel,a=i.onDelHostOrPathModalOk;return Tg.default.createElement(Dh.Modal,{activeModalId:r,id:t,header:n,clsSuffix:"delete-confirm",subHeader:"Are you sure you want to remove?",cancel:"CANCEL",confirm:"remove",onCancel:o,onConfirm:a},this.$showDelDialogCheckbox)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$delHostsModal",{get:function(){var e=yf.modalSet.delHosts,t=e.id,n=e.txt,r=this.modalState.currentId,i=this.appStateHandle,o=i.onModalCancel,a=i.onDelHostsModalOk;return Tg.default.createElement(Dh.Modal,{activeModalId:r,id:t,header:n,clsSuffix:"delete-confirm",subHeader:"Are you sure you want to remove?",cancel:"CANCEL",confirm:"remove",onCancel:o,onConfirm:a},this.$showDelDialogCheckbox)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$delLibModal",{get:function(){var e=yf.modalSet.delLib,t=e.id,n=e.txt,r=this.modalState.currentId,i=this.appStateHandle,o=i.onModalCancel,a=i.onDelLibModalOk;return Tg.default.createElement(Dh.Modal,{activeModalId:r,id:t,header:n,clsSuffix:"delete-lib-confirm",subHeader:"Are you sure you want to remove?",cancel:"CANCEL",confirm:"remove",onCancel:o,onConfirm:a},this.$showDelDialogCheckbox)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$delLibsModal",{get:function(){var e=yf.modalSet.delLibs,t=e.id,n=e.txt,r=this.modalState.currentId,i=this.appStateHandle,o=i.onModalCancel,a=i.onDelLibsModalOk;return Tg.default.createElement(Dh.Modal,{activeModalId:r,id:t,header:n,clsSuffix:"delete-lib-confirm",subHeader:"Are you sure you want to remove?",cancel:"CANCEL",confirm:"remove",onCancel:o,onConfirm:a},this.$showDelDialogCheckbox)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$showDelDialogCheckbox",{get:function(){var e=this.appStateHandle.onDelConfirmDialogToggle;return Tg.default.createElement(jp.Checkbox,{id:"setting-delete-confirm",label:"Dont show this confirmation again",onChange:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$libTextInputs",{get:function(){var e=this.modalState,t=e.titleInput,n=e.valueInput,r=this.appStateHandle,i=r.onModalTitleInput,o=r.onModalValueInput;return Tg.default.createElement(Tg.default.Fragment,null,Tg.default.createElement(Up.TextInput,{id:"lib-title",label:"Title",required:!0,value:null==t?void 0:t.value,validation:{rules:mp.validationSet.ruleId,isValid:t.isValid,errMsg:t.errMsg},onInputChange:i,onInputBlur:i}),Tg.default.createElement(Up.TextInput,{id:"lib-value",label:"Url",required:!0,value:null==n?void 0:n.value,validation:{rules:mp.validationSet.libUrl,isValid:n.isValid,errMsg:n.errMsg},onInputChange:o,onInputBlur:o}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appStateHandle",{get:function(){return this.props.appStateHandle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"appState",{get:function(){return this.props.appState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settingState",{get:function(){return this.props.appState.setting},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modalState",{get:function(){return this.props.appState.localState.modal},enumerable:!0,configurable:!0}),t}(Op.MemoComponent);Cg.OptionApp=Pg;var Mg=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty({},"__esModule",{value:!0});var Ig=Mg(q),Lg=Ac.StateHandle.init(Cg.OptionApp,{root:[sp.createMockAppState(),new tp.AppStateHandle]});bc.render(Ig.default.createElement(Lg,null),document.querySelector("#demo"))}();